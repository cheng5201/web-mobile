window.__require=function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){return r(t[o][1][e]||e)},u,u.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof __require&&__require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){var i=n;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":2,"./asn1/base":4,"./asn1/constants":8,"./asn1/decoders":10,"./asn1/encoders":13,"bn.js":16}],2:[function(e,t,n){var i=e("../asn1"),r=e("inherits");function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}n.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(t){var n;try{n=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){n=function(e){this._initNamed(e)}}return r(n,t),n.prototype._initNamed=function(e){t.call(this,e)},new n(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},{"../asn1":1,inherits:101,vm:156}],3:[function(e,t,n){var i=e("inherits"),r=e("../base").Reporter,a=e("buffer").Buffer;function o(e,t){r.call(this,t),a.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=a.byteLength(e);else{if(!a.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}i(o,r),n.DecoderBuffer=o,o.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},o.prototype.restore=function(e){var t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new o(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},n.EncoderBuffer=s,s.prototype.join=function(e,t){return e||(e=new a(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,t),t+=n.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):a.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":4,buffer:47,inherits:101}],4:[function(e,t,n){var i=n;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":3,"./node":5,"./reporter":6}],5:[function(e,t,n){var i=e("../base").Reporter,r=e("../base").EncoderBuffer,a=e("../base").DecoderBuffer,o=e("minimalistic-assert"),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function l(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=l;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){var e=this._baseState,t={};u.forEach(function(n){t[n]=e[n]});var n=new this.constructor(t.parent);return n._baseState=t,n},l.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}},this)},l.prototype._init=function(e){var t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),o.equal(t.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(e){var t=this._baseState,n=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==n.length&&(o(null===t.children),t.children=n,n.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(n){n==(0|n)&&(n|=0);var i=e[n];t[i]=n}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){l.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),s.forEach(function(e){l.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(n),this}}),l.prototype.use=function(e){o(e);var t=this._baseState;return o(null===t.use),t.use=e,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(e){var t=this._baseState;return o(null===t.default),t.default=e,t.optional=!0,this},l.prototype.explicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},l.prototype.implicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},l.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},l.prototype.key=function(e){var t=this._baseState;return o(null===t.key),t.key=e,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(e){var t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},l.prototype.contains=function(e){var t=this._baseState;return o(null===t.use),t.contains=e,this},l.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var i,r=n.default,o=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var c=null;if(null!==n.explicit?c=n.explicit:null!==n.implicit?c=n.implicit:null!==n.tag&&(c=n.tag),null!==c||n.any){if(o=this._peekTag(e,c,n.any),e.isError(o))return o}else{var l=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),o=!0}catch(e){o=!1}e.restore(l)}}if(n.obj&&o&&(i=e.enterObject()),o){if(null!==n.explicit){var u=this._decodeTag(e,n.explicit);if(e.isError(u))return u;e=u}var h=e.offset;if(null===n.use&&null===n.choice){if(n.any)l=e.save();var f=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(f))return f;n.any?r=e.raw(l):e=f}if(t&&t.track&&null!==n.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(e,t)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var d=new a(r);r=this._getUse(n.contains,e._reporterState.obj)._decode(d,t)}}return n.obj&&o&&(r=e.leaveObject(i)),null===n.key||null===r&&!0!==o?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,r),r},l.prototype._decodeGeneric=function(e,t,n){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},l.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),o(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},l.prototype._decodeChoice=function(e,t){var n=this._baseState,i=null,r=!1;return Object.keys(n.choice).some(function(a){var o=e.save(),s=n.choice[a];try{var c=s._decode(e,t);if(e.isError(c))return!1;i={type:a,value:c},r=!0}catch(t){return e.restore(o),!1}return!0},this),r?i:e.error("Choice not matched")},l.prototype._createEncoderBuffer=function(e){return new r(e,this.reporter)},l.prototype._encode=function(e,t,n){var i=this._baseState;if(null===i.default||i.default!==e){var r=this._encodeValue(e,t,n);if(void 0!==r&&!this._skipDefault(r,t,n))return r}},l.prototype._encodeValue=function(e,t,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new i);var a=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var o=null,s=!1;if(r.any)a=this._createEncoderBuffer(e);else if(r.choice)a=this._encodeChoice(e,t);else if(r.contains)o=this._getUse(r.contains,n)._encode(e,t),s=!0;else if(r.children)o=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var i=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var r=n._encode(e[n._baseState.key],t,e);return t.leaveKey(i),r},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(n){var i=this._baseState;return this._getUse(i.args[0],e)._encode(n,t)},c))}else null!==r.use?a=this._getUse(r.use,n)._encode(e,t):(o=this._encodePrimitive(r.tag,e),s=!0);if(!r.any&&null===r.choice){var l=null!==r.implicit?r.implicit:r.tag,u=null===r.implicit?"universal":"context";null===l?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(a=this._encodeComposite(l,s,u,o))}return null!==r.explicit&&(a=this._encodeComposite(r.explicit,!1,"context",a)),a},l.prototype._encodeChoice=function(e,t){var n=this._baseState,i=n.choice[e.type];return i||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,t)},l.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},l.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},l.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":4,"minimalistic-assert":105}],6:[function(e,t,n){var i=e("inherits");function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function a(e,t){this.path=e,this.rethrow(t)}n.Reporter=r,r.prototype.isError=function(e){return e instanceof a},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,n){var i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},r.prototype.error=function(e){var t,n=this._reporterState,i=e instanceof a;if(t=i?e:new a(n.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw t;return i||n.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(a,Error),a.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:101}],7:[function(e,t,n){var i=e("../constants");n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=i._reverse(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=i._reverse(n.tag)},{"../constants":8}],8:[function(e,t,n){var i=n;i._reverse=function(e){var t={};return Object.keys(e).forEach(function(n){(0|n)==n&&(n|=0);var i=e[n];t[i]=n}),t},i.der=e("./der")},{"./der":7}],9:[function(e,t,n){var i=e("inherits"),r=e("../../asn1"),a=r.base,o=r.bignum,s=r.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){a.Node.call(this,"der",e)}function u(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var i=s.tagClass[n>>6],r=0==(32&n);if(31==(31&n)){var a=n;for(n=0;128==(128&a);){if(a=e.readUInt8(t),e.isError(a))return a;n<<=7,n|=127&a}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:s.tag[n]}}function h(e,t,n){var i=e.readUInt8(n);if(e.isError(i))return i;if(!t&&128===i)return null;if(0==(128&i))return i;var r=127&i;if(r>4)return e.error("length octect is too long");i=0;for(var a=0;a<r;a++){i<<=8;var o=e.readUInt8(n);if(e.isError(o))return o;i|=o}return i}t.exports=c,c.prototype.decode=function(e,t){return e instanceof a.DecoderBuffer||(e=new a.DecoderBuffer(e,t)),this.tree._decode(e,t)},i(l,a.Node),l.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var i=e.save(),r=u(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(i),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||n)},l.prototype._decodeTag=function(e,t,n){var i=u(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;var r=h(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!n&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');var a=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(r=e.offset-a.offset,e.restore(a),e.skip(r,'Failed to match body of: "'+t+'"'))},l.prototype._skipUntilEnd=function(e,t){for(;;){var n=u(e,t);if(e.isError(n))return n;var i,r=h(e,n.primitive,t);if(e.isError(r))return r;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},l.prototype._decodeList=function(e,t,n,i){for(var r=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=n.decode(e,"der",i);if(e.isError(o)&&a)break;r.push(o)}return r},l.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var i=e.raw();if(i.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var r="",a=0;a<i.length/2;a++)r+=String.fromCharCode(i.readUInt16BE(2*a));return r}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},l.prototype._decodeObjid=function(e,t,n){for(var i,r=[],a=0;!e.isEmpty();){var o=e.readUInt8();a<<=7,a|=127&o,0==(128&o)&&(r.push(a),a=0)}128&o&&r.push(a);var s=r[0]/40|0,c=r[0]%40;if(i=n?r:[s,c].concat(r.slice(1)),t){var l=t[i.join(" ")];void 0===l&&(l=t[i.join(".")]),void 0!==l&&(i=l)}return i},l.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var i=0|n.slice(0,4),r=0|n.slice(4,6),a=0|n.slice(6,8),o=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),a=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,a,o,s,c,0)},l.prototype._decodeNull=function(e){return null},l.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},l.prototype._decodeInt=function(e,t){var n=e.raw(),i=new o(n);return t&&(i=t[i.toString(10)]||i),i},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":1,inherits:101}],10:[function(e,t,n){var i=n;i.der=e("./der"),i.pem=e("./pem")},{"./der":9,"./pem":11}],11:[function(e,t,n){var i=e("inherits"),r=e("buffer").Buffer,a=e("./der");function o(e){a.call(this,e),this.enc="pem"}i(o,a),t.exports=o,o.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),i=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,l=0;l<n.length;l++){var u=n[l].match(o);if(null!==u&&u[2]===i){if(-1!==s){if("END"!==u[1])break;c=l;break}if("BEGIN"!==u[1])break;s=l}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+i);var h=n.slice(s+1,c).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new r(h,"base64");return a.prototype.decode.call(this,f,t)}},{"./der":9,buffer:47,inherits:101}],12:[function(e,t,n){var i=e("inherits"),r=e("buffer").Buffer,a=e("../../asn1"),o=a.base,s=a.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new l,this.tree._init(e.body)}function l(e){o.Node.call(this,"der",e)}function u(e){return e<10?"0"+e:e}function h(e,t,n,i){var r;if("seqof"===e?e="seq":"setof"===e&&(e="set"),s.tagByName.hasOwnProperty(e))r=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);r=e}return r>=31?i.error("Multi-octet tag encoding unsupported"):(t||(r|=32),r|=s.tagClassByName[n||"universal"]<<6)}t.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},i(l,o.Node),l.prototype._encodeComposite=function(e,t,n,i){var a,o=h(e,t,n,this.reporter);if(i.length<128)return(a=new r(2))[0]=o,a[1]=i.length,this._createEncoderBuffer([a,i]);for(var s=1,c=i.length;c>=256;c>>=8)s++;(a=new r(2+s))[0]=o,a[1]=128|s;c=1+s;for(var l=i.length;l>0;c--,l>>=8)a[c]=255&l;return this._createEncoderBuffer([a,i])},l.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new r(2*e.length),i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),2*i);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},l.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var a=0;for(i=0;i<e.length;i++){var o=e[i];for(a++;o>=128;o>>=7)a++}var s=new r(a),c=s.length-1;for(i=e.length-1;i>=0;i--){o=e[i];for(s[c--]=127&o;(o>>=7)>0;)s[c--]=128|127&o}return this._createEncoderBuffer(s)},l.prototype._encodeTime=function(e,t){var n,i=new Date(e);return"gentime"===t?n=[u(i.getFullYear()),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[u(i.getFullYear()%100),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!r.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new r(n)}if(r.isBuffer(e)){var i=e.length;0===e.length&&i++;var a=new r(i);return e.copy(a),0===e.length&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);i=1;for(var o=e;o>=256;o>>=8)i++;for(o=(a=new Array(i)).length-1;o>=0;o--)a[o]=255&e,e>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(new r(a))},l.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},l.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},l.prototype._skipDefault=function(e,t,n){var i,r=this._baseState;if(null===r.default)return!1;var a=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,t,n).join()),a.length!==r.defaultBuffer.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==r.defaultBuffer[i])return!1;return!0}},{"../../asn1":1,buffer:47,inherits:101}],13:[function(e,t,n){var i=n;i.der=e("./der"),i.pem=e("./pem")},{"./der":12,"./pem":14}],14:[function(e,t,n){var i=e("inherits"),r=e("./der");function a(e){r.call(this,e),this.enc="pem"}i(a,r),t.exports=a,a.prototype.encode=function(e,t){for(var n=r.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"],a=0;a<n.length;a+=64)i.push(n.slice(a,a+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},{"./der":12,inherits:101}],15:[function(e,t,n){"use strict";n.byteLength=function(e){var t=l(e),n=t[0],i=t[1];return 3*(n+i)/4-i},n.toByteArray=function(e){var t,n,i=l(e),o=i[0],s=i[1],c=new a(u(e,o,s)),h=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[h++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t);return c},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,a=[],o=0,s=n-r;o<s;o+=16383)a.push(f(e,o,o+16383>s?s:o+16383));1===r?(t=e[n-1],a.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],a.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return a.join("")};for(var i=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)i[s]=o[s],r[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){return 3*(t+n)/4-n}function h(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function f(e,t,n){for(var i,r=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(h(i));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],16:[function(e,t,n){(function(t,n){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t,n){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var o;"object"==typeof t?t.exports=a:n.BN=a,a.BN=a,a.wordSize=26;try{o=e("buffer").Buffer}catch(e){}function s(e,t,n){for(var i=0,r=Math.min(e.length,n),a=t;a<r;a++){var o=e.charCodeAt(a)-48;i<<=4,i|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return i}function c(e,t,n,i){for(var r=0,a=Math.min(e.length,n),o=t;o<a;o++){var s=e.charCodeAt(o)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}a.isBN=function(e){return e instanceof a||null!==e&&"object"==typeof e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&r++,16===t?this._parseHex(e,r):this._parseBase(e,t,r),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var a,o,s=0;if("be"===n)for(r=e.length-1,a=0;r>=0;r-=3)o=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);else if("le"===n)for(r=0,a=0;r<e.length;r+=3)o=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,a++);return this.strip()},a.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,r,a=0;for(n=e.length-6,i=0;n>=t;n-=6)r=s(e,n,n+6),this.words[i]|=r<<a&67108863,this.words[i+1]|=r>>>26-a&4194303,(a+=24)>=26&&(a-=26,i++);n+6!==t&&(r=s(e,t,n+6),this.words[i]|=r<<a&67108863,this.words[i+1]|=r>>>26-a&4194303),this.strip()},a.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var a=e.length-n,o=a%i,s=Math.min(a,a-o)+n,l=0,u=n;u<s;u+=i)l=c(e,u,u+i,t),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var h=1;for(l=c(e,u,e.length,t),u=0;u<o;u++)h*=t;this.imuln(h),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},a.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}function d(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],a=0|t.words[0],o=r*a,s=67108863&o,c=o/67108864|0;n.words[0]=s;for(var l=1;l<i;l++){for(var u=c>>>26,h=67108863&c,f=Math.min(l,t.length-1),d=Math.max(0,l-e.length+1);d<=f;d++){var p=l-d|0;u+=(o=(r=0|e.words[p])*(a=0|t.words[d])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,c=0|u}return 0!==c?n.words[l]=0|c:n.length--,n.strip()}a.prototype.toString=function(e,t){var n;if(e=e||10,t=0|t||1,16===e||"hex"===e){n="";for(var r=0,a=0,o=0;o<this.length;o++){var s=this.words[o],c=(16777215&(s<<r|a)).toString(16);n=0!==(a=s>>>24-r&16777215)||o!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,o--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var f=u[e],d=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?g+n:l[f-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return i(void 0!==o),this.toArrayLike(o,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),a=n||Math.max(1,r);i(r<=a,"byte array longer than desired length"),i(a>0,"Requested array length <= 0"),this.strip();var o,s,c="le"===t,l=new e(a),u=this.clone();if(c){for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),l[s]=o;for(;s<a;s++)l[s]=0}else{for(s=0;s<a-r;s++)l[s]=0;for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),l[a-s-1]=o}return l},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},a.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},a.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,a=0;a<i.length;a++)t=(0|n.words[a])+(0|i.words[a])+r,this.words[a]=67108863&t,r=t>>>26;for(;0!==r&&a<n.length;a++)t=(0|n.words[a])+r,this.words[a]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var a=0,o=0;o<i.length;o++)a=(t=(0|n.words[o])-(0|i.words[o])+a)>>26,this.words[o]=67108863&t;for(;0!==a&&o<n.length;o++)a=(t=(0|n.words[o])+a)>>26,this.words[o]=67108863&t;if(0===a&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var i,r,a,o=e.words,s=t.words,c=n.words,l=0,u=0|o[0],h=8191&u,f=u>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],y=8191&m,b=m>>>13,v=0|o[3],_=8191&v,C=v>>>13,M=0|o[4],S=8191&M,w=M>>>13,D=0|o[5],E=8191&D,A=D>>>13,P=0|o[6],I=8191&P,N=P>>>13,T=0|o[7],k=8191&T,R=T>>>13,O=0|o[8],L=8191&O,x=O>>>13,B=0|o[9],U=8191&B,K=B>>>13,j=0|s[0],X=8191&j,F=j>>>13,G=0|s[1],W=8191&G,J=G>>>13,V=0|s[2],H=8191&V,z=V>>>13,q=0|s[3],Y=8191&q,Q=q>>>13,Z=0|s[4],$=8191&Z,ee=Z>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],ae=8191&re,oe=re>>>13,se=0|s[7],ce=8191&se,le=se>>>13,ue=0|s[8],he=8191&ue,fe=ue>>>13,de=0|s[9],pe=8191&de,ge=de>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(l+(i=Math.imul(h,X))|0)+((8191&(r=(r=Math.imul(h,F))+Math.imul(f,X)|0))<<13)|0;l=((a=Math.imul(f,F))+(r>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(p,X),r=(r=Math.imul(p,F))+Math.imul(g,X)|0,a=Math.imul(g,F);var ye=(l+(i=i+Math.imul(h,W)|0)|0)+((8191&(r=(r=r+Math.imul(h,J)|0)+Math.imul(f,W)|0))<<13)|0;l=((a=a+Math.imul(f,J)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(y,X),r=(r=Math.imul(y,F))+Math.imul(b,X)|0,a=Math.imul(b,F),i=i+Math.imul(p,W)|0,r=(r=r+Math.imul(p,J)|0)+Math.imul(g,W)|0,a=a+Math.imul(g,J)|0;var be=(l+(i=i+Math.imul(h,H)|0)|0)+((8191&(r=(r=r+Math.imul(h,z)|0)+Math.imul(f,H)|0))<<13)|0;l=((a=a+Math.imul(f,z)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(_,X),r=(r=Math.imul(_,F))+Math.imul(C,X)|0,a=Math.imul(C,F),i=i+Math.imul(y,W)|0,r=(r=r+Math.imul(y,J)|0)+Math.imul(b,W)|0,a=a+Math.imul(b,J)|0,i=i+Math.imul(p,H)|0,r=(r=r+Math.imul(p,z)|0)+Math.imul(g,H)|0,a=a+Math.imul(g,z)|0;var ve=(l+(i=i+Math.imul(h,Y)|0)|0)+((8191&(r=(r=r+Math.imul(h,Q)|0)+Math.imul(f,Y)|0))<<13)|0;l=((a=a+Math.imul(f,Q)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(S,X),r=(r=Math.imul(S,F))+Math.imul(w,X)|0,a=Math.imul(w,F),i=i+Math.imul(_,W)|0,r=(r=r+Math.imul(_,J)|0)+Math.imul(C,W)|0,a=a+Math.imul(C,J)|0,i=i+Math.imul(y,H)|0,r=(r=r+Math.imul(y,z)|0)+Math.imul(b,H)|0,a=a+Math.imul(b,z)|0,i=i+Math.imul(p,Y)|0,r=(r=r+Math.imul(p,Q)|0)+Math.imul(g,Y)|0,a=a+Math.imul(g,Q)|0;var _e=(l+(i=i+Math.imul(h,$)|0)|0)+((8191&(r=(r=r+Math.imul(h,ee)|0)+Math.imul(f,$)|0))<<13)|0;l=((a=a+Math.imul(f,ee)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(E,X),r=(r=Math.imul(E,F))+Math.imul(A,X)|0,a=Math.imul(A,F),i=i+Math.imul(S,W)|0,r=(r=r+Math.imul(S,J)|0)+Math.imul(w,W)|0,a=a+Math.imul(w,J)|0,i=i+Math.imul(_,H)|0,r=(r=r+Math.imul(_,z)|0)+Math.imul(C,H)|0,a=a+Math.imul(C,z)|0,i=i+Math.imul(y,Y)|0,r=(r=r+Math.imul(y,Q)|0)+Math.imul(b,Y)|0,a=a+Math.imul(b,Q)|0,i=i+Math.imul(p,$)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,ee)|0;var Ce=(l+(i=i+Math.imul(h,ne)|0)|0)+((8191&(r=(r=r+Math.imul(h,ie)|0)+Math.imul(f,ne)|0))<<13)|0;l=((a=a+Math.imul(f,ie)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(I,X),r=(r=Math.imul(I,F))+Math.imul(N,X)|0,a=Math.imul(N,F),i=i+Math.imul(E,W)|0,r=(r=r+Math.imul(E,J)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,J)|0,i=i+Math.imul(S,H)|0,r=(r=r+Math.imul(S,z)|0)+Math.imul(w,H)|0,a=a+Math.imul(w,z)|0,i=i+Math.imul(_,Y)|0,r=(r=r+Math.imul(_,Q)|0)+Math.imul(C,Y)|0,a=a+Math.imul(C,Q)|0,i=i+Math.imul(y,$)|0,r=(r=r+Math.imul(y,ee)|0)+Math.imul(b,$)|0,a=a+Math.imul(b,ee)|0,i=i+Math.imul(p,ne)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(g,ne)|0,a=a+Math.imul(g,ie)|0;var Me=(l+(i=i+Math.imul(h,ae)|0)|0)+((8191&(r=(r=r+Math.imul(h,oe)|0)+Math.imul(f,ae)|0))<<13)|0;l=((a=a+Math.imul(f,oe)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(k,X),r=(r=Math.imul(k,F))+Math.imul(R,X)|0,a=Math.imul(R,F),i=i+Math.imul(I,W)|0,r=(r=r+Math.imul(I,J)|0)+Math.imul(N,W)|0,a=a+Math.imul(N,J)|0,i=i+Math.imul(E,H)|0,r=(r=r+Math.imul(E,z)|0)+Math.imul(A,H)|0,a=a+Math.imul(A,z)|0,i=i+Math.imul(S,Y)|0,r=(r=r+Math.imul(S,Q)|0)+Math.imul(w,Y)|0,a=a+Math.imul(w,Q)|0,i=i+Math.imul(_,$)|0,r=(r=r+Math.imul(_,ee)|0)+Math.imul(C,$)|0,a=a+Math.imul(C,ee)|0,i=i+Math.imul(y,ne)|0,r=(r=r+Math.imul(y,ie)|0)+Math.imul(b,ne)|0,a=a+Math.imul(b,ie)|0,i=i+Math.imul(p,ae)|0,r=(r=r+Math.imul(p,oe)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,oe)|0;var Se=(l+(i=i+Math.imul(h,ce)|0)|0)+((8191&(r=(r=r+Math.imul(h,le)|0)+Math.imul(f,ce)|0))<<13)|0;l=((a=a+Math.imul(f,le)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(L,X),r=(r=Math.imul(L,F))+Math.imul(x,X)|0,a=Math.imul(x,F),i=i+Math.imul(k,W)|0,r=(r=r+Math.imul(k,J)|0)+Math.imul(R,W)|0,a=a+Math.imul(R,J)|0,i=i+Math.imul(I,H)|0,r=(r=r+Math.imul(I,z)|0)+Math.imul(N,H)|0,a=a+Math.imul(N,z)|0,i=i+Math.imul(E,Y)|0,r=(r=r+Math.imul(E,Q)|0)+Math.imul(A,Y)|0,a=a+Math.imul(A,Q)|0,i=i+Math.imul(S,$)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(w,$)|0,a=a+Math.imul(w,ee)|0,i=i+Math.imul(_,ne)|0,r=(r=r+Math.imul(_,ie)|0)+Math.imul(C,ne)|0,a=a+Math.imul(C,ie)|0,i=i+Math.imul(y,ae)|0,r=(r=r+Math.imul(y,oe)|0)+Math.imul(b,ae)|0,a=a+Math.imul(b,oe)|0,i=i+Math.imul(p,ce)|0,r=(r=r+Math.imul(p,le)|0)+Math.imul(g,ce)|0,a=a+Math.imul(g,le)|0;var we=(l+(i=i+Math.imul(h,he)|0)|0)+((8191&(r=(r=r+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;l=((a=a+Math.imul(f,fe)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(U,X),r=(r=Math.imul(U,F))+Math.imul(K,X)|0,a=Math.imul(K,F),i=i+Math.imul(L,W)|0,r=(r=r+Math.imul(L,J)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,J)|0,i=i+Math.imul(k,H)|0,r=(r=r+Math.imul(k,z)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,z)|0,i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,Q)|0)+Math.imul(N,Y)|0,a=a+Math.imul(N,Q)|0,i=i+Math.imul(E,$)|0,r=(r=r+Math.imul(E,ee)|0)+Math.imul(A,$)|0,a=a+Math.imul(A,ee)|0,i=i+Math.imul(S,ne)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(w,ne)|0,a=a+Math.imul(w,ie)|0,i=i+Math.imul(_,ae)|0,r=(r=r+Math.imul(_,oe)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,oe)|0,i=i+Math.imul(y,ce)|0,r=(r=r+Math.imul(y,le)|0)+Math.imul(b,ce)|0,a=a+Math.imul(b,le)|0,i=i+Math.imul(p,he)|0,r=(r=r+Math.imul(p,fe)|0)+Math.imul(g,he)|0,a=a+Math.imul(g,fe)|0;var De=(l+(i=i+Math.imul(h,pe)|0)|0)+((8191&(r=(r=r+Math.imul(h,ge)|0)+Math.imul(f,pe)|0))<<13)|0;l=((a=a+Math.imul(f,ge)|0)+(r>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(U,W),r=(r=Math.imul(U,J))+Math.imul(K,W)|0,a=Math.imul(K,J),i=i+Math.imul(L,H)|0,r=(r=r+Math.imul(L,z)|0)+Math.imul(x,H)|0,a=a+Math.imul(x,z)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,Q)|0)+Math.imul(R,Y)|0,a=a+Math.imul(R,Q)|0,i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(N,$)|0,a=a+Math.imul(N,ee)|0,i=i+Math.imul(E,ne)|0,r=(r=r+Math.imul(E,ie)|0)+Math.imul(A,ne)|0,a=a+Math.imul(A,ie)|0,i=i+Math.imul(S,ae)|0,r=(r=r+Math.imul(S,oe)|0)+Math.imul(w,ae)|0,a=a+Math.imul(w,oe)|0,i=i+Math.imul(_,ce)|0,r=(r=r+Math.imul(_,le)|0)+Math.imul(C,ce)|0,a=a+Math.imul(C,le)|0,i=i+Math.imul(y,he)|0,r=(r=r+Math.imul(y,fe)|0)+Math.imul(b,he)|0,a=a+Math.imul(b,fe)|0;var Ee=(l+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;l=((a=a+Math.imul(g,ge)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(U,H),r=(r=Math.imul(U,z))+Math.imul(K,H)|0,a=Math.imul(K,z),i=i+Math.imul(L,Y)|0,r=(r=r+Math.imul(L,Q)|0)+Math.imul(x,Y)|0,a=a+Math.imul(x,Q)|0,i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(R,$)|0,a=a+Math.imul(R,ee)|0,i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(N,ne)|0,a=a+Math.imul(N,ie)|0,i=i+Math.imul(E,ae)|0,r=(r=r+Math.imul(E,oe)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,oe)|0,i=i+Math.imul(S,ce)|0,r=(r=r+Math.imul(S,le)|0)+Math.imul(w,ce)|0,a=a+Math.imul(w,le)|0,i=i+Math.imul(_,he)|0,r=(r=r+Math.imul(_,fe)|0)+Math.imul(C,he)|0,a=a+Math.imul(C,fe)|0;var Ae=(l+(i=i+Math.imul(y,pe)|0)|0)+((8191&(r=(r=r+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;l=((a=a+Math.imul(b,ge)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(U,Y),r=(r=Math.imul(U,Q))+Math.imul(K,Y)|0,a=Math.imul(K,Q),i=i+Math.imul(L,$)|0,r=(r=r+Math.imul(L,ee)|0)+Math.imul(x,$)|0,a=a+Math.imul(x,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(R,ne)|0,a=a+Math.imul(R,ie)|0,i=i+Math.imul(I,ae)|0,r=(r=r+Math.imul(I,oe)|0)+Math.imul(N,ae)|0,a=a+Math.imul(N,oe)|0,i=i+Math.imul(E,ce)|0,r=(r=r+Math.imul(E,le)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,le)|0,i=i+Math.imul(S,he)|0,r=(r=r+Math.imul(S,fe)|0)+Math.imul(w,he)|0,a=a+Math.imul(w,fe)|0;var Pe=(l+(i=i+Math.imul(_,pe)|0)|0)+((8191&(r=(r=r+Math.imul(_,ge)|0)+Math.imul(C,pe)|0))<<13)|0;l=((a=a+Math.imul(C,ge)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(U,$),r=(r=Math.imul(U,ee))+Math.imul(K,$)|0,a=Math.imul(K,ee),i=i+Math.imul(L,ne)|0,r=(r=r+Math.imul(L,ie)|0)+Math.imul(x,ne)|0,a=a+Math.imul(x,ie)|0,i=i+Math.imul(k,ae)|0,r=(r=r+Math.imul(k,oe)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,oe)|0,i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,le)|0)+Math.imul(N,ce)|0,a=a+Math.imul(N,le)|0,i=i+Math.imul(E,he)|0,r=(r=r+Math.imul(E,fe)|0)+Math.imul(A,he)|0,a=a+Math.imul(A,fe)|0;var Ie=(l+(i=i+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,ge)|0)+Math.imul(w,pe)|0))<<13)|0;l=((a=a+Math.imul(w,ge)|0)+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(U,ne),r=(r=Math.imul(U,ie))+Math.imul(K,ne)|0,a=Math.imul(K,ie),i=i+Math.imul(L,ae)|0,r=(r=r+Math.imul(L,oe)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,oe)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,le)|0)+Math.imul(R,ce)|0,a=a+Math.imul(R,le)|0,i=i+Math.imul(I,he)|0,r=(r=r+Math.imul(I,fe)|0)+Math.imul(N,he)|0,a=a+Math.imul(N,fe)|0;var Ne=(l+(i=i+Math.imul(E,pe)|0)|0)+((8191&(r=(r=r+Math.imul(E,ge)|0)+Math.imul(A,pe)|0))<<13)|0;l=((a=a+Math.imul(A,ge)|0)+(r>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(U,ae),r=(r=Math.imul(U,oe))+Math.imul(K,ae)|0,a=Math.imul(K,oe),i=i+Math.imul(L,ce)|0,r=(r=r+Math.imul(L,le)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,le)|0,i=i+Math.imul(k,he)|0,r=(r=r+Math.imul(k,fe)|0)+Math.imul(R,he)|0,a=a+Math.imul(R,fe)|0;var Te=(l+(i=i+Math.imul(I,pe)|0)|0)+((8191&(r=(r=r+Math.imul(I,ge)|0)+Math.imul(N,pe)|0))<<13)|0;l=((a=a+Math.imul(N,ge)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(U,ce),r=(r=Math.imul(U,le))+Math.imul(K,ce)|0,a=Math.imul(K,le),i=i+Math.imul(L,he)|0,r=(r=r+Math.imul(L,fe)|0)+Math.imul(x,he)|0,a=a+Math.imul(x,fe)|0;var ke=(l+(i=i+Math.imul(k,pe)|0)|0)+((8191&(r=(r=r+Math.imul(k,ge)|0)+Math.imul(R,pe)|0))<<13)|0;l=((a=a+Math.imul(R,ge)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(U,he),r=(r=Math.imul(U,fe))+Math.imul(K,he)|0,a=Math.imul(K,fe);var Re=(l+(i=i+Math.imul(L,pe)|0)|0)+((8191&(r=(r=r+Math.imul(L,ge)|0)+Math.imul(x,pe)|0))<<13)|0;l=((a=a+Math.imul(x,ge)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Oe=(l+(i=Math.imul(U,pe))|0)+((8191&(r=(r=Math.imul(U,ge))+Math.imul(K,pe)|0))<<13)|0;return l=((a=Math.imul(K,ge))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=me,c[1]=ye,c[2]=be,c[3]=ve,c[4]=_e,c[5]=Ce,c[6]=Me,c[7]=Se,c[8]=we,c[9]=De,c[10]=Ee,c[11]=Ae,c[12]=Pe,c[13]=Ie,c[14]=Ne,c[15]=Te,c[16]=ke,c[17]=Re,c[18]=Oe,0!==l&&(c[19]=l,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,a=0;a<n.length-1;a++){var o=r;r=0;for(var s=67108863&i,c=Math.min(a,t.length-1),l=Math.max(0,a-e.length+1);l<=c;l++){var u=a-l,h=(0|e.words[u])*(0|t.words[l]),f=67108863&h;s=67108863&(f=f+s|0),r+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}n.words[a]=s,i=o,o=r}return 0!==i?n.words[a]=i:n.length--,n.strip()}function m(e,t,n){return(new y).mulp(e,t,n)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=d),a.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?g(this,e,t):m(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),n=a.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},y.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},y.prototype.permute=function(e,t,n,i,r,a){for(var o=0;o<a;o++)i[o]=t[e[o]],r[o]=n[e[o]]},y.prototype.transform=function(e,t,n,i,r,a){this.permute(a,e,t,n,i,r);for(var o=1;o<r;o<<=1)for(var s=o<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var h=c,f=l,d=0;d<o;d++){var p=n[u+d],g=i[u+d],m=n[u+d+o],y=i[u+d+o],b=h*m-f*y;y=h*y+f*m,m=b,n[u+d]=p+m,i[u+d]=g+y,n[u+d+o]=p-m,i[u+d+o]=g-y,d!==s&&(b=c*h-l*f,f=c*f+l*h,h=b)}},y.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},y.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},y.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},y.prototype.convert13b=function(e,t,n,r){for(var a=0,o=0;o<t;o++)a+=0|e[o],n[2*o]=8191&a,a>>>=13,n[2*o+1]=8191&a,a>>>=13;for(o=2*t;o<r;++o)n[o]=0;i(0===a),i(0==(-8192&a))},y.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},y.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),a=this.stub(i),o=new Array(i),s=new Array(i),c=new Array(i),l=new Array(i),u=new Array(i),h=new Array(i),f=n.words;f.length=i,this.convert13b(e.words,e.length,o,i),this.convert13b(t.words,t.length,l,i),this.transform(o,a,s,c,i,r),this.transform(l,a,u,h,i,r);for(var d=0;d<i;d++){var p=s[d]*u[d]-c[d]*h[d];c[d]=s[d]*h[d]+c[d]*u[d],s[d]=p}return this.conjugate(s,c,i),this.transform(s,c,f,a,i,r),this.conjugate(f,a,i),this.normalize13b(f,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=new Array(this.length+e.length),m(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,a=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=f(e);if(0===t.length)return new a(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},a.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(t=0;t<this.length;t++){var s=this.words[t]&a,c=(0|this.words[t])-s<<n;this.words[t]=c|o,o=s>>>26-n}o&&(this.words[t]=o,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},a.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},a.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,c=n;if(r-=o,r=Math.max(0,r),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(0!==u||l>=r);l--){var h=0|this.words[l];this.words[l]=u<<26-a|h>>>a,u=h&s}return c&&0!==u&&(c.words[c.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},a.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var r,a,o=e.length+n;this._expand(o);var s=0;for(r=0;r<e.length;r++){a=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((a-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&a}for(;r<this.length-n;r++)s=(a=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&a;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(a=-(0|this.words[r])+s)>>26,this.words[r]=67108863&a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,o=0|r.words[r.length-1];0!==(n=26-this._countBits(o))&&(r=r.ushln(n),i.iushln(n),o=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new a(null)).length=c+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var u=i.clone()._ishlnsubmul(r,1,c);0===u.negative&&(i=u,s&&(s.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|i.words[r.length+h])+(0|i.words[r.length+h-1]);for(f=Math.min(f/o|0,67108863),i._ishlnsubmul(r,f,h);0!==i.negative;)f--,i.negative=0,i._ishlnsubmul(r,1,h),i.isZero()||(i.negative^=1);s&&(s.words[h]=f)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},a.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.iadd(e)),{div:r,mod:o}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(o=s.mod.neg(),n&&0!==o.negative&&o.isub(e)),{div:s.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,o,s},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),a=n.cmp(i);return a<0||1===r&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},a.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},a.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new a(1),o=new a(0),s=new a(0),c=new a(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(u),o.isub(h)),r.iushrn(1),o.iushrn(1);for(var p=0,g=1;0==(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(h)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),o.isub(c)):(n.isub(t),s.isub(r),c.isub(o))}return{a:s,b:c,gcd:n.iushln(l)}},a.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,o=new a(1),s=new a(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,u=1;0==(t.words[0]&u)&&l<26;++l,u<<=1);if(l>0)for(t.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),o.isub(s)):(n.isub(t),s.isub(o))}return(r=0===t.cmpn(1)?o:s).cmpn(0)<0&&r.iadd(e),r},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var a=t;t=n,n=a}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return 0==(1&this.words[0])},a.prototype.isOdd=function(){return 1==(1&this.words[0])},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var a=r,o=n;0!==a&&o<this.length;o++){var s=0|this.words[o];a=(s+=a)>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},a.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},a.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},a.prototype.gtn=function(e){return 1===this.cmpn(e)},a.prototype.gt=function(e){return 1===this.cmp(e)},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return-1===this.cmpn(e)},a.prototype.lt=function(e){return-1===this.cmp(e)},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return 0===this.cmpn(e)},a.prototype.eq=function(e){return 0===this.cmp(e)},a.red=function(e){return new w(e)},a.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=a._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function D(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):n.strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},r(_,v),_.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(4194303&a)<<4|r>>>22,r=a}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(C,v),r(M,v),r(S,v),S.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},a._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new C;else if("p192"===e)t=new M;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return b[e]=t,t},w.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var s=new a(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);0!==this.pow(u,l).cmp(c);)u.redIAdd(c);for(var h=this.pow(u,r),f=this.pow(e,r.addn(1).iushrn(1)),d=this.pow(e,r),p=o;0!==d.cmp(s);){for(var g=d,m=0;0!==g.cmp(s);m++)g=g.redSqr();i(m<p);var y=this.pow(h,new a(1).iushln(p-m-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=m}return f},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new a(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],o=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],u=c-1;u>=0;u--){var h=l>>u&1;r!==n[0]&&(r=this.sqr(r)),0!==h||0!==o?(o<<=1,o|=h,(4===++s||0===i&&0===u)&&(r=this.mul(r,n[o]),s=0,o=0)):s=0}c=26}return r},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new D(e)},r(D,w),D.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},D.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},D.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},D.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},D.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}})(void 0===t||t,this)},{buffer:18}],17:[function(e,t,n){var i;function r(e){this.rand=e}if(t.exports=function(e){return i||(i=new r(null)),i.generate(e)},t.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=e("crypto");if("function"!=typeof a.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return a.randomBytes(e)}}catch(e){}},{crypto:18}],18:[function(e,t,n){},{}],19:[function(e,t,n){var i=e("safe-buffer").Buffer;function r(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function a(e){for(;0<e.length;e++)e[0]=0}function o(e,t,n,i,r){for(var a,o,s,c,l=n[0],u=n[1],h=n[2],f=n[3],d=e[0]^t[0],p=e[1]^t[1],g=e[2]^t[2],m=e[3]^t[3],y=4,b=1;b<r;b++)a=l[d>>>24]^u[p>>>16&255]^h[g>>>8&255]^f[255&m]^t[y++],o=l[p>>>24]^u[g>>>16&255]^h[m>>>8&255]^f[255&d]^t[y++],s=l[g>>>24]^u[m>>>16&255]^h[d>>>8&255]^f[255&p]^t[y++],c=l[m>>>24]^u[d>>>16&255]^h[p>>>8&255]^f[255&g]^t[y++],d=a,p=o,g=s,m=c;return a=(i[d>>>24]<<24|i[p>>>16&255]<<16|i[g>>>8&255]<<8|i[255&m])^t[y++],o=(i[p>>>24]<<24|i[g>>>16&255]<<16|i[m>>>8&255]<<8|i[255&d])^t[y++],s=(i[g>>>24]<<24|i[m>>>16&255]<<16|i[d>>>8&255]<<8|i[255&p])^t[y++],c=(i[m>>>24]<<24|i[d>>>16&255]<<16|i[p>>>8&255]<<8|i[255&g])^t[y++],[a>>>=0,o>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],i=[],r=[[],[],[],[]],a=[[],[],[],[]],o=0,s=0,c=0;c<256;++c){var l=s^s<<1^s<<2^s<<3^s<<4;l=l>>>8^255&l^99,n[o]=l,i[l]=o;var u=e[o],h=e[u],f=e[h],d=257*e[l]^16843008*l;r[0][o]=d<<24|d>>>8,r[1][o]=d<<16|d>>>16,r[2][o]=d<<8|d>>>24,r[3][o]=d,d=16843009*f^65537*h^257*u^16843008*o,a[0][l]=d<<24|d>>>8,a[1][l]=d<<16|d>>>16,a[2][l]=d<<8|d>>>24,a[3][l]=d,0===o?o=s=1:(o=u^e[e[e[f^u]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:a}}();function l(e){this._key=r(e),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,i=4*(n+1),r=[],a=0;a<t;a++)r[a]=e[a];for(a=t;a<i;a++){var o=r[a-1];a%t==0?(o=o<<8|o>>>24,o=c.SBOX[o>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o],o^=s[a/t|0]<<24):t>6&&a%t==4&&(o=c.SBOX[o>>>24]<<24|c.SBOX[o>>>16&255]<<16|c.SBOX[o>>>8&255]<<8|c.SBOX[255&o]),r[a]=r[a-t]^o}for(var l=[],u=0;u<i;u++){var h=i-u,f=r[h-(u%4?0:4)];l[u]=u<4||h<=4?f:c.INV_SUB_MIX[0][c.SBOX[f>>>24]]^c.INV_SUB_MIX[1][c.SBOX[f>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[f>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&f]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=l},l.prototype.encryptBlockRaw=function(e){return o(e=r(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},l.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=i.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},l.prototype.decryptBlock=function(e){var t=(e=r(e))[1];e[1]=e[3],e[3]=t;var n=o(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),a=i.allocUnsafe(16);return a.writeUInt32BE(n[0],0),a.writeUInt32BE(n[3],4),a.writeUInt32BE(n[2],8),a.writeUInt32BE(n[1],12),a},l.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},t.exports.AES=l},{"safe-buffer":144}],20:[function(e,t,n){var i=e("./aes"),r=e("safe-buffer").Buffer,a=e("cipher-base"),o=e("inherits"),s=e("./ghash"),c=e("buffer-xor"),l=e("./incr32");function u(e,t){var n=0;e.length!==t.length&&n++;for(var i=Math.min(e.length,t.length),r=0;r<i;++r)n+=e[r]^t[r];return n}function h(e,t,n){if(12===t.length)return e._finID=r.concat([t,r.from([0,0,0,1])]),r.concat([t,r.from([0,0,0,2])]);var i=new s(n),a=t.length,o=a%16;i.update(t),o&&(o=16-o,i.update(r.alloc(o,0))),i.update(r.alloc(8,0));var c=8*a,u=r.alloc(8);u.writeUIntBE(c,0,8),i.update(u),e._finID=i.state;var h=r.from(e._finID);return l(h),h}function f(e,t,n,o){a.call(this);var c=r.alloc(4,0);this._cipher=new i.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new s(l),n=h(this,n,l),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}o(f,a),f.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=r.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&u(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},f.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=f},{"./aes":19,"./ghash":24,"./incr32":25,"buffer-xor":46,"cipher-base":49,inherits:101,"safe-buffer":144}],21:[function(e,t,n){var i=e("./encrypter"),r=e("./decrypter"),a=e("./modes/list.json");n.createCipher=n.Cipher=i.createCipher,n.createCipheriv=n.Cipheriv=i.createCipheriv,n.createDecipher=n.Decipher=r.createDecipher,n.createDecipheriv=n.Decipheriv=r.createDecipheriv,n.listCiphers=n.getCiphers=function(){return Object.keys(a)}},{"./decrypter":22,"./encrypter":23,"./modes/list.json":33}],22:[function(e,t,n){var i=e("./authCipher"),r=e("safe-buffer").Buffer,a=e("./modes"),o=e("./streamCipher"),s=e("cipher-base"),c=e("./aes"),l=e("evp_bytestokey");function u(e,t,n){s.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(t),this._prev=r.from(n),this._mode=e,this._autopadding=!0}function h(){this.cache=r.allocUnsafe(0)}function f(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var n=-1;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function d(e,t,n){var s=a[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=r.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=r.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new o(s.module,t,n,!0):"auth"===s.type?new i(s.module,t,n,!0):new u(s.module,t,n)}e("inherits")(u,s),u.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),i.push(n);return r.concat(i)},u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return f(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=r.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},n.createDecipher=function(e,t){var n=a[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=l(t,!1,n.key,n.iv);return d(e,i.key,i.iv)},n.createDecipheriv=d},{"./aes":19,"./authCipher":20,"./modes":32,"./streamCipher":35,"cipher-base":49,evp_bytestokey:84,inherits:101,"safe-buffer":144}],23:[function(e,t,n){var i=e("./modes"),r=e("./authCipher"),a=e("safe-buffer").Buffer,o=e("./streamCipher"),s=e("cipher-base"),c=e("./aes"),l=e("evp_bytestokey");function u(e,t,n){s.call(this),this._cache=new f,this._cipher=new c.AES(t),this._prev=a.from(n),this._mode=e,this._autopadding=!0}e("inherits")(u,s),u.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get();)n=this._mode.encrypt(this,t),i.push(n);return a.concat(i)};var h=a.alloc(16,16);function f(){this.cache=a.allocUnsafe(0)}function d(e,t,n){var s=i[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=a.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=a.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new o(s.module,t,n):"auth"===s.type?new r(s.module,t,n):new u(s.module,t,n)}u.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=a.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=a.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return a.concat([this.cache,t])},n.createCipheriv=d,n.createCipher=function(e,t){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=l(t,!1,n.key,n.iv);return d(e,r.key,r.iv)}},{"./aes":19,"./authCipher":20,"./modes":32,"./streamCipher":35,"cipher-base":49,evp_bytestokey:84,inherits:101,"safe-buffer":144}],24:[function(e,t,n){var i=e("safe-buffer").Buffer,r=i.alloc(16,0);function a(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function o(e){var t=i.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,n=a(this.h),i=[0,0,0,0],r=-1;++r<128;){for(0!=(this.state[~~(r/8)]&1<<7-r%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),t=0!=(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,t&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=i.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,e,0,t])),this.state},t.exports=s},{"safe-buffer":144}],25:[function(e,t,n){t.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},{}],26:[function(e,t,n){var i=e("buffer-xor");n.encrypt=function(e,t){var n=i(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},n.decrypt=function(e,t){var n=e._prev;e._prev=t;var r=e._cipher.decryptBlock(t);return i(r,n)}},{"buffer-xor":46}],27:[function(e,t,n){var i=e("safe-buffer").Buffer,r=e("buffer-xor");function a(e,t,n){var a=t.length,o=r(t,e._cache);return e._cache=e._cache.slice(a),e._prev=i.concat([e._prev,n?t:o]),o}n.encrypt=function(e,t,n){for(var r,o=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){o=i.concat([o,a(e,t,n)]);break}r=e._cache.length,o=i.concat([o,a(e,t.slice(0,r),n)]),t=t.slice(r)}return o}},{"buffer-xor":46,"safe-buffer":144}],28:[function(e,t,n){var i=e("safe-buffer").Buffer;function r(e,t,n){for(var i,r,o,s=-1,c=0;++s<8;)i=e._cipher.encryptBlock(e._prev),r=t&1<<7-s?128:0,c+=(128&(o=i[0]^r))>>s%8,e._prev=a(e._prev,n?r:o);return c}function a(e,t){var n=e.length,r=-1,a=i.allocUnsafe(e.length);for(e=i.concat([e,i.from([t])]);++r<n;)a[r]=e[r]<<1|e[r+1]>>7;return a}n.encrypt=function(e,t,n){for(var a=t.length,o=i.allocUnsafe(a),s=-1;++s<a;)o[s]=r(e,t[s],n);return o}},{"safe-buffer":144}],29:[function(e,t,n){var i=e("safe-buffer").Buffer;function r(e,t,n){var r=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([n?t:r])]),r}n.encrypt=function(e,t,n){for(var a=t.length,o=i.allocUnsafe(a),s=-1;++s<a;)o[s]=r(e,t[s],n);return o}},{"safe-buffer":144}],30:[function(e,t,n){var i=e("buffer-xor"),r=e("safe-buffer").Buffer,a=e("../incr32");function o(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}n.encrypt=function(e,t){var n=Math.ceil(t.length/16),a=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=o(e),l=a+16*s;e._cache.writeUInt32BE(c[0],l+0),e._cache.writeUInt32BE(c[1],l+4),e._cache.writeUInt32BE(c[2],l+8),e._cache.writeUInt32BE(c[3],l+12)}var u=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,u)}},{"../incr32":25,"buffer-xor":46,"safe-buffer":144}],31:[function(e,t,n){n.encrypt=function(e,t){return e._cipher.encryptBlock(t)},n.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],32:[function(e,t,n){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},r=e("./list.json");for(var a in r)r[a].module=i[r[a].mode];t.exports=r},{"./cbc":26,"./cfb":27,"./cfb1":28,"./cfb8":29,"./ctr":30,"./ecb":31,"./list.json":33,"./ofb":34}],33:[function(e,t,n){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],34:[function(e,t,n){(function(t){var i=e("buffer-xor");function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}n.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,r(e)]);var a=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),i(n,a)}}).call(this,e("buffer").Buffer)},{buffer:47,"buffer-xor":46}],35:[function(e,t,n){var i=e("./aes"),r=e("safe-buffer").Buffer,a=e("cipher-base");function o(e,t,n,o){a.call(this),this._cipher=new i.AES(t),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=o,this._mode=e}e("inherits")(o,a),o.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},t.exports=o},{"./aes":19,"cipher-base":49,inherits:101,"safe-buffer":144}],36:[function(e,t,n){var i=e("browserify-des"),r=e("browserify-aes/browser"),a=e("browserify-aes/modes"),o=e("browserify-des/modes"),s=e("evp_bytestokey");function c(e,t,n){if(e=e.toLowerCase(),a[e])return r.createCipheriv(e,t,n);if(o[e])return new i({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function l(e,t,n){if(e=e.toLowerCase(),a[e])return r.createDecipheriv(e,t,n);if(o[e])return new i({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}n.createCipher=n.Cipher=function(e,t){var n,i;if(e=e.toLowerCase(),a[e])n=a[e].key,i=a[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");n=8*o[e].key,i=o[e].iv}var r=s(t,!1,n,i);return c(e,r.key,r.iv)},n.createCipheriv=n.Cipheriv=c,n.createDecipher=n.Decipher=function(e,t){var n,i;if(e=e.toLowerCase(),a[e])n=a[e].key,i=a[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");n=8*o[e].key,i=o[e].iv}var r=s(t,!1,n,i);return l(e,r.key,r.iv)},n.createDecipheriv=n.Decipheriv=l,n.listCiphers=n.getCiphers=function(){return Object.keys(o).concat(r.getCiphers())}},{"browserify-aes/browser":21,"browserify-aes/modes":32,"browserify-des":37,"browserify-des/modes":38,evp_bytestokey:84}],37:[function(e,t,n){var i=e("cipher-base"),r=e("des.js"),a=e("inherits"),o=e("safe-buffer").Buffer,s={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function c(e){i.call(this);var t,n=e.mode.toLowerCase(),r=s[n];t=e.decrypt?"decrypt":"encrypt";var a=e.key;o.isBuffer(a)||(a=o.from(a)),"des-ede"!==n&&"des-ede-cbc"!==n||(a=o.concat([a,a.slice(0,8)]));var c=e.iv;o.isBuffer(c)||(c=o.from(c)),this._des=r.create({key:a,iv:c,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=c,a(c,i),c.prototype._update=function(e){return o.from(this._des.update(e))},c.prototype._final=function(){return o.from(this._des.final())}},{"cipher-base":49,"des.js":57,inherits:101,"safe-buffer":144}],38:[function(e,t,n){n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}},{}],39:[function(e,t,n){(function(n){var i=e("bn.js"),r=e("randombytes");function a(e){var t=s(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}function o(e,t){var r=a(t),o=t.modulus.byteLength(),s=(i.mont(t.modulus),new i(e).mul(r.blinder).umod(t.modulus)),c=s.toRed(i.mont(t.prime1)),l=s.toRed(i.mont(t.prime2)),u=t.coefficient,h=t.prime1,f=t.prime2,d=c.redPow(t.exponent1),p=l.redPow(t.exponent2);d=d.fromRed(),p=p.fromRed();var g=d.isub(p).imul(u).umod(h);return g.imul(f),p.iadd(g),new n(p.imul(r.unblinder).umod(t.modulus).toArray(!1,o))}function s(e){for(var t=e.modulus.byteLength(),n=new i(r(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new i(r(t));return n}t.exports=o,o.getr=s}).call(this,e("buffer").Buffer)},{"bn.js":16,buffer:47,randombytes:126}],40:[function(e,t,n){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":41}],41:[function(e,t,n){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],42:[function(e,t,n){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],43:[function(e,t,n){(function(n){var i=e("create-hash"),r=e("stream"),a=e("inherits"),o=e("./sign"),s=e("./verify"),c=e("./algorithms.json");function l(e){r.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function u(e){r.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new l(e)}function f(e){return new u(e)}Object.keys(c).forEach(function(e){c[e].id=new n(c[e].id,"hex"),c[e.toLowerCase()]=c[e]}),a(l,r.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=new n(e,t)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),i=o(n,e,this._hashType,this._signType,this._tag);return t?i.toString(t):i},a(u,r.Writable),u.prototype._write=function(e,t,n){this._hash.update(e),n()},u.prototype.update=function(e,t){return"string"==typeof e&&(e=new n(e,t)),this._hash.update(e),this},u.prototype.verify=function(e,t,i){"string"==typeof t&&(t=new n(t,i)),this.end();var r=this._hash.digest();return s(t,r,e,this._signType,this._tag)},t.exports={Sign:h,Verify:f,createSign:h,createVerify:f}}).call(this,e("buffer").Buffer)},{"./algorithms.json":41,"./sign":44,"./verify":45,buffer:47,"create-hash":52,inherits:101,stream:153}],44:[function(e,t,n){(function(n){var i=e("create-hmac"),r=e("browserify-rsa"),a=e("elliptic").ec,o=e("bn.js"),s=e("parse-asn1"),c=e("./curves.json");function l(e,t){var i=c[t.curve.join(".")];if(!i)throw new Error("unknown curve "+t.curve.join("."));var r=new a(i).keyFromPrivate(t.privateKey).sign(e);return new n(r.toDER())}function u(e,t,n){for(var i,r=t.params.priv_key,a=t.params.p,s=t.params.q,c=t.params.g,l=new o(0),u=d(e,s).mod(s),p=!1,y=f(r,s,e,n);!1===p;)l=m(c,i=g(s,y,n),a,s),0===(p=i.invm(s).imul(u.add(r.mul(l))).mod(s)).cmpn(0)&&(p=!1,l=new o(0));return h(l,p)}function h(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var i=[48,e.length+t.length+4,2,e.length];return i=i.concat(e,[2,t.length],t),new n(i)}function f(e,t,r,a){if((e=new n(e.toArray())).length<t.byteLength()){var o=new n(t.byteLength()-e.length);o.fill(0),e=n.concat([o,e])}var s=r.length,c=p(r,t),l=new n(s);l.fill(1);var u=new n(s);return u.fill(0),u=i(a,u).update(l).update(new n([0])).update(e).update(c).digest(),l=i(a,u).update(l).digest(),{k:u=i(a,u).update(l).update(new n([1])).update(e).update(c).digest(),v:l=i(a,u).update(l).digest()}}function d(e,t){var n=new o(e),i=(e.length<<3)-t.bitLength();return i>0&&n.ishrn(i),n}function p(e,t){e=(e=d(e,t)).mod(t);var i=new n(e.toArray());if(i.length<t.byteLength()){var r=new n(t.byteLength()-i.length);r.fill(0),i=n.concat([r,i])}return i}function g(e,t,r){var a,o;do{for(a=new n(0);8*a.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),a=n.concat([a,t.v]);o=d(a,e),t.k=i(r,t.k).update(t.v).update(new n([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==o.cmp(e));return o}function m(e,t,n,i){return e.toRed(o.mont(n)).redPow(t).fromRed().mod(i)}t.exports=function(e,t,i,a,o){var c=s(t);if(c.curve){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");return l(e,c)}if("dsa"===c.type){if("dsa"!==a)throw new Error("wrong private key type");return u(e,c,i)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");e=n.concat([o,e]);for(var h=c.modulus.byteLength(),f=[0,1];e.length+f.length+1<h;)f.push(255);f.push(0);for(var d=-1;++d<e.length;)f.push(e[d]);return r(f,c)},t.exports.getKey=f,t.exports.makeKey=g}).call(this,e("buffer").Buffer)},{"./curves.json":42,"bn.js":16,"browserify-rsa":39,buffer:47,"create-hmac":54,elliptic:67,"parse-asn1":111}],45:[function(e,t,n){(function(n){var i=e("bn.js"),r=e("elliptic").ec,a=e("parse-asn1"),o=e("./curves.json");function s(e,t,n){var i=o[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var a=new r(i),s=n.data.subjectPrivateKey.data;return a.verify(t,e,s)}function c(e,t,n){var r=n.data.p,o=n.data.q,s=n.data.g,c=n.data.pub_key,u=a.signature.decode(e,"der"),h=u.s,f=u.r;l(h,o),l(f,o);var d=i.mont(r),p=h.invm(o);return 0===s.toRed(d).redPow(new i(t).mul(p).mod(o)).fromRed().mul(c.toRed(d).redPow(f.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(f)}function l(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,r,o,l){var u=a(r);if("ec"===u.type){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");return s(e,t,u)}if("dsa"===u.type){if("dsa"!==o)throw new Error("wrong public key type");return c(e,t,u)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");t=n.concat([l,t]);for(var h=u.modulus.byteLength(),f=[1],d=0;t.length+f.length+2<h;)f.push(255),d++;f.push(0);for(var p=-1;++p<t.length;)f.push(t[p]);f=new n(f);var g=i.mont(u.modulus);e=(e=new i(e).toRed(g)).redPow(new i(u.publicExponent)),e=new n(e.fromRed().toArray());var m=d<8?1:0;for(h=Math.min(e.length,f.length),e.length!==f.length&&(m=1),p=-1;++p<h;)m|=e[p]^f[p];return 0===m}}).call(this,e("buffer").Buffer)},{"./curves.json":42,"bn.js":16,buffer:47,elliptic:67,"parse-asn1":111}],46:[function(e,t,n){(function(e){t.exports=function(t,n){for(var i=Math.min(t.length,n.length),r=new e(i),a=0;a<i;++a)r[a]=t[a]^n[a];return r}}).call(this,e("buffer").Buffer)},{buffer:47}],47:[function(e,t,n){(function(t){"use strict";var i=e("base64-js"),r=e("ieee754"),a=e("isarray");function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,n,i):"string"==typeof t?d(e,t,n):m(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}function f(e,t){if(u(t),e=s(e,t<0?0:0|y(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|b(t,n),r=(e=s(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}function p(e,t){var n=t.length<0?0:0|y(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function g(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t),e}function m(e,t){if(c.isBuffer(t)){var n=0|y(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function b(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function _(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function C(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:M(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):M(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function M(e,t,n,i,r){var a,o=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var h=!0,f=0;f<c;f++)if(l(e,a+f)!==l(t,f)){h=!1;break}if(h)return a}return-1}function S(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,i){return Z(z(t,e.length-n),e,n,i)}function D(e,t,n,i){return Z(q(t),e,n,i)}function E(e,t,n,i){return D(e,t,n,i)}function A(e,t,n,i){return Z(Q(t),e,n,i)}function P(e,t,n,i){return Z(Y(t,e.length-n),e,n,i)}function I(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var a,o,s,c,l=e[r],u=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(a=e[r+1]))&&(c=(31&l)<<6|63&a)>127&&(u=c);break;case 3:a=e[r+1],o=e[r+2],128==(192&a)&&128==(192&o)&&(c=(15&l)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:a=e[r+1],o=e[r+2],s=e[r+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return k(i)}n.Buffer=c,n.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return h(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var a=r-i,o=n-t,s=Math.min(a,o),l=this.slice(i,r),u=e.slice(t,n),h=0;h<s;++h)if(l[h]!==u[h]){a=l[h],o=u[h];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return C(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return C(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return D(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function k(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=T));return n}function R(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function O(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function L(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",a=t;a<n;++a)r+=H(e[a]);return r}function x(e,t,n){for(var i=e.slice(t,n),r="",a=0;a<i.length;a+=2)r+=String.fromCharCode(i[a]+256*i[a+1]);return r}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,i,r,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function K(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,a=Math.min(e.length-n,2);r<a;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function j(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,a=Math.min(e.length-n,4);r<a;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function X(e,t,n,i,r,a){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,i,a){return a||X(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function G(e,t,n,i,a){return a||X(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var i=this[e],r=1,a=0;++a<t&&(r*=256);)i+=this[e+a]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||B(e,t,this.length);for(var i=t,r=1,a=this[e+--i];i>0&&(r*=256);)a+=this[e+--i]*r;return a>=(r*=128)&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,a=0;for(this[t]=255&e;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):K(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):K(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);U(this,e,t,n,r-1,-r)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):K(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):K(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return G(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return G(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,a=i-n;if(this===e&&n<t&&t<i)for(r=a-1;r>=0;--r)e[r+t]=this[r+n];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=c.isBuffer(e)?e:z(new c(e,i).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function J(e){if((e=V(e).replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var i=e.length,r=null,a=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,i,r,a=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r=n%256,a.push(r),a.push(i);return a}function Q(e){return i.toByteArray(J(e))}function Z(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function $(e){return e!=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":15,ieee754:99,isarray:48}],48:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],49:[function(e,t,n){var i=e("safe-buffer").Buffer,r=e("stream").Transform,a=e("string_decoder").StringDecoder;function o(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(o,r),o.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(e,t,n){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{n(i)}},o.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},o.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},o.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return n&&(i+=this._decoder.end()),i},t.exports=o},{inherits:101,"safe-buffer":144,stream:153,string_decoder:154}],50:[function(e,t,n){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":102}],51:[function(e,t,n){(function(n){var i=e("elliptic"),r=e("bn.js");t.exports=function(e){return new o(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function s(e,t,i){Array.isArray(e)||(e=e.toArray());var r=new n(e);if(i&&r.length<i){var a=new n(i-r.length);a.fill(0),r=n.concat([a,r])}return t?r.toString(t):r}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,t,i){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},o.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var i=new r(e);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}}).call(this,e("buffer").Buffer)},{"bn.js":16,buffer:47,elliptic:67}],52:[function(e,t,n){"use strict";var i=e("inherits"),r=e("md5.js"),a=e("ripemd160"),o=e("sha.js"),s=e("cipher-base");function c(e){s.call(this,"digest"),this._hash=e}i(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new a:new c(o(e))}},{"cipher-base":49,inherits:101,"md5.js":103,ripemd160:143,"sha.js":146}],53:[function(e,t,n){var i=e("md5.js");t.exports=function(e){return(new i).update(e).digest()}},{"md5.js":103}],54:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./legacy"),a=e("cipher-base"),o=e("safe-buffer").Buffer,s=e("create-hash/md5"),c=e("ripemd160"),l=e("sha.js"),u=o.alloc(128);function h(e,t){a.call(this,"digest"),"string"==typeof t&&(t=o.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new c:l(e)).update(t).digest():t.length<n&&(t=o.concat([t,u],n));for(var i=this._ipad=o.allocUnsafe(n),r=this._opad=o.allocUnsafe(n),s=0;s<n;s++)i[s]=54^t[s],r[s]=92^t[s];this._hash="rmd160"===e?new c:l(e),this._hash.update(i)}i(h,a),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:l(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new r(s,t):new h(e,t)}},{"./legacy":55,"cipher-base":49,"create-hash/md5":53,inherits:101,ripemd160:143,"safe-buffer":144,"sha.js":146}],55:[function(e,t,n){"use strict";var i=e("inherits"),r=e("safe-buffer").Buffer,a=e("cipher-base"),o=r.alloc(128),s=64;function c(e,t){a.call(this,"digest"),"string"==typeof t&&(t=r.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=r.concat([t,o],s));for(var n=this._ipad=r.allocUnsafe(s),i=this._opad=r.allocUnsafe(s),c=0;c<s;c++)n[c]=54^t[c],i[c]=92^t[c];this._hash=[n]}i(c,a),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,e]))},t.exports=c},{"cipher-base":49,inherits:101,"safe-buffer":144}],56:[function(e,t,n){"use strict";n.randomBytes=n.rng=n.pseudoRandomBytes=n.prng=e("randombytes"),n.createHash=n.Hash=e("create-hash"),n.createHmac=n.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),r=Object.keys(i),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);n.getHashes=function(){return a};var o=e("pbkdf2");n.pbkdf2=o.pbkdf2,n.pbkdf2Sync=o.pbkdf2Sync;var s=e("browserify-cipher");n.Cipher=s.Cipher,n.createCipher=s.createCipher,n.Cipheriv=s.Cipheriv,n.createCipheriv=s.createCipheriv,n.Decipher=s.Decipher,n.createDecipher=s.createDecipher,n.Decipheriv=s.Decipheriv,n.createDecipheriv=s.createDecipheriv,n.getCiphers=s.getCiphers,n.listCiphers=s.listCiphers;var c=e("diffie-hellman");n.DiffieHellmanGroup=c.DiffieHellmanGroup,n.createDiffieHellmanGroup=c.createDiffieHellmanGroup,n.getDiffieHellman=c.getDiffieHellman,n.createDiffieHellman=c.createDiffieHellman,n.DiffieHellman=c.DiffieHellman;var l=e("browserify-sign");n.createSign=l.createSign,n.Sign=l.Sign,n.createVerify=l.createVerify,n.Verify=l.Verify,n.createECDH=e("create-ecdh");var u=e("public-encrypt");n.publicEncrypt=u.publicEncrypt,n.privateEncrypt=u.privateEncrypt,n.publicDecrypt=u.publicDecrypt,n.privateDecrypt=u.privateDecrypt;var h=e("randomfill");n.randomFill=h.randomFill,n.randomFillSync=h.randomFillSync,n.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},n.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":36,"browserify-sign":43,"browserify-sign/algos":40,"create-ecdh":51,"create-hash":52,"create-hmac":54,"diffie-hellman":63,pbkdf2:113,"public-encrypt":120,randombytes:126,randomfill:127}],57:[function(e,t,n){"use strict";n.utils=e("./des/utils"),n.Cipher=e("./des/cipher"),n.DES=e("./des/des"),n.CBC=e("./des/cbc"),n.EDE=e("./des/ede")},{"./des/cbc":58,"./des/cipher":59,"./des/des":60,"./des/ede":61,"./des/utils":62}],58:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits"),a={};function o(e){i.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}n.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}r(t,e);for(var n=Object.keys(a),i=0;i<n.length;i++){var o=n[i];t.prototype[o]=a[o]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new o(this.options.iv);this._cbcState=e},a._update=function(e,t,n,i){var r=this._cbcState,a=this.constructor.super_.prototype,o=r.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)o[s]^=e[t+s];a._update.call(this,o,0,n,i);for(s=0;s<this.blockSize;s++)o[s]=n[i+s]}else{a._update.call(this,e,t,n,i);for(s=0;s<this.blockSize;s++)n[i+s]^=o[s];for(s=0;s<this.blockSize;s++)o[s]=e[t+s]}}},{inherits:101,"minimalistic-assert":105}],59:[function(e,t,n){"use strict";var i=e("minimalistic-assert");function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[t+i];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var a=e.length-(e.length-t)%this.blockSize;t<a;t+=this.blockSize)this._update(e,t,r,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return r},r.prototype._updateDecrypt=function(e){for(var t=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)t+=this._buffer(e,t),n+=this._flushBuffer(r,n);return t+=this._buffer(e,t),r},r.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":105}],60:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits"),a=e("./utils"),o=e("./cipher");function s(){this.tmp=new Array(2),this.keys=null}function c(e){o.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}r(c,o),t.exports=c,c.create=function(e){return new c(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var n=a.readUInt32BE(t,0),r=a.readUInt32BE(t,4);a.pc1(n,r,e.tmp,0),n=e.tmp[0],r=e.tmp[1];for(var o=0;o<e.keys.length;o+=2){var s=l[o>>>1];n=a.r28shl(n,s),r=a.r28shl(r,s),a.pc2(n,r,e.keys,o)}},c.prototype._update=function(e,t,n,i){var r=this._desState,o=a.readUInt32BE(e,t),s=a.readUInt32BE(e,t+4);a.ip(o,s,r.tmp,0),o=r.tmp[0],s=r.tmp[1],"encrypt"===this.type?this._encrypt(r,o,s,r.tmp,0):this._decrypt(r,o,s,r.tmp,0),o=r.tmp[0],s=r.tmp[1],a.writeUInt32BE(n,o,i),a.writeUInt32BE(n,s,i+4)},c.prototype._pad=function(e,t){for(var n=e.length-t,i=t;i<e.length;i++)e[i]=n;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)i.equal(e[n],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,n,i,r){for(var o=t,s=n,c=0;c<e.keys.length;c+=2){var l=e.keys[c],u=e.keys[c+1];a.expand(s,e.tmp,0),l^=e.tmp[0],u^=e.tmp[1];var h=a.substitute(l,u),f=s;s=(o^a.permute(h))>>>0,o=f}a.rip(s,o,i,r)},c.prototype._decrypt=function(e,t,n,i,r){for(var o=n,s=t,c=e.keys.length-2;c>=0;c-=2){var l=e.keys[c],u=e.keys[c+1];a.expand(o,e.tmp,0),l^=e.tmp[0],u^=e.tmp[1];var h=a.substitute(l,u),f=o;o=(s^a.permute(h))>>>0,s=f}a.rip(o,s,i,r)}},{"./cipher":59,"./utils":62,inherits:101,"minimalistic-assert":105}],61:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits"),a=e("./cipher"),o=e("./des");function s(e,t){i.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),r=t.slice(8,16),a=t.slice(16,24);this.ciphers="encrypt"===e?[o.create({type:"encrypt",key:n}),o.create({type:"decrypt",key:r}),o.create({type:"encrypt",key:a})]:[o.create({type:"decrypt",key:a}),o.create({type:"encrypt",key:r}),o.create({type:"decrypt",key:n})]}function c(e){a.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}r(c,a),t.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,n,i){var r=this._edeState;r.ciphers[0]._update(e,t,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},c.prototype._pad=o.prototype._pad,c.prototype._unpad=o.prototype._unpad},{"./cipher":59,"./des":60,inherits:101,"minimalistic-assert":105}],62:[function(e,t,n){"use strict";n.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},n.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},n.ip=function(e,t,n,i){for(var r=0,a=0,o=6;o>=0;o-=2){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>>s+o&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>>s+o&1}for(o=6;o>=0;o-=2){for(s=1;s<=25;s+=8)a<<=1,a|=t>>>s+o&1;for(s=1;s<=25;s+=8)a<<=1,a|=e>>>s+o&1}n[i+0]=r>>>0,n[i+1]=a>>>0},n.rip=function(e,t,n,i){for(var r=0,a=0,o=0;o<4;o++)for(var s=24;s>=0;s-=8)r<<=1,r|=t>>>s+o&1,r<<=1,r|=e>>>s+o&1;for(o=4;o<8;o++)for(s=24;s>=0;s-=8)a<<=1,a|=t>>>s+o&1,a<<=1,a|=e>>>s+o&1;n[i+0]=r>>>0,n[i+1]=a>>>0},n.pc1=function(e,t,n,i){for(var r=0,a=0,o=7;o>=5;o--){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>s+o&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+o&1}for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+o&1;for(o=1;o<=3;o++){for(s=0;s<=24;s+=8)a<<=1,a|=t>>s+o&1;for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1}for(s=0;s<=24;s+=8)a<<=1,a|=e>>s+o&1;n[i+0]=r>>>0,n[i+1]=a>>>0},n.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];n.pc2=function(e,t,n,r){for(var a=0,o=0,s=i.length>>>1,c=0;c<s;c++)a<<=1,a|=e>>>i[c]&1;for(c=s;c<i.length;c++)o<<=1,o|=t>>>i[c]&1;n[r+0]=a>>>0,n[r+1]=o>>>0},n.expand=function(e,t,n){var i=0,r=0;i=(1&e)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(a=11;a>=3;a-=4)r|=e>>>a&63,r<<=6;r|=(31&e)<<1|e>>>31,t[n+0]=i>>>0,t[n+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];n.substitute=function(e,t){for(var n=0,i=0;i<4;i++){n<<=4,n|=r[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)]}return n>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];n.permute=function(e){for(var t=0,n=0;n<a.length;n++)t<<=1,t|=e>>>a[n]&1;return t>>>0},n.padSplit=function(e,t,n){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var r=[],a=0;a<t;a+=n)r.push(i.slice(a,a+n));return r.join(" ")}},{}],63:[function(e,t,n){(function(t){var i=e("./lib/generatePrime"),r=e("./lib/primes.json"),a=e("./lib/dh");var o={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(e){var n=new t(r[e].prime,"hex"),i=new t(r[e].gen,"hex");return new a(n,i)},n.createDiffieHellman=n.DiffieHellman=function e(n,r,s,c){return t.isBuffer(r)||void 0===o[r]?e(n,"binary",r,s):(r=r||"binary",c=c||"binary",s=s||new t([2]),t.isBuffer(s)||(s=new t(s,c)),"number"==typeof n?new a(i(n,s),s,!0):(t.isBuffer(n)||(n=new t(n,r)),new a(n,s,!0)))}}).call(this,e("buffer").Buffer)},{"./lib/dh":64,"./lib/generatePrime":65,"./lib/primes.json":66,buffer:47}],64:[function(e,t,n){(function(n){var i=e("bn.js"),r=new(e("miller-rabin")),a=new i(24),o=new i(11),s=new i(10),c=new i(3),l=new i(7),u=e("./generatePrime"),h=e("randombytes");function f(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function d(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}t.exports=m;var p={};function g(e,t){var n=t.toString("hex"),i=[n,e.toString(16)].join("_");if(i in p)return p[i];var h,f=0;if(e.isEven()||!u.simpleSieve||!u.fermatTest(e)||!r.test(e))return f+=1,f+="02"===n||"05"===n?8:4,p[i]=f,f;switch(r.test(e.shrn(1))||(f+=2),n){case"02":e.mod(a).cmp(o)&&(f+=8);break;case"05":(h=e.mod(s)).cmp(c)&&h.cmp(l)&&(f+=8);break;default:f+=4}return p[i]=f,f}function m(e,t,n){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}function y(e,t){var i=new n(e.toArray());return t?i.toString(t):i}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=g(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),a=this.getPrime();if(r.length<a.length){var o=new n(a.length-r.length);o.fill(0),r=n.concat([o,r])}return r},m.prototype.getPublicKey=function(e){return y(this._pub,e)},m.prototype.getPrivateKey=function(e){return y(this._priv,e)},m.prototype.getPrime=function(e){return y(this.__prime,e)},m.prototype.getGenerator=function(e){return y(this._gen,e)},m.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":65,"bn.js":16,buffer:47,"miller-rabin":104,randombytes:126}],65:[function(e,t,n){var i=e("randombytes");t.exports=b,b.simpleSieve=m,b.fermatTest=y;var r=e("bn.js"),a=new r(24),o=new(e("miller-rabin")),s=new r(1),c=new r(2),l=new r(5),u=(new r(16),new r(8),new r(10)),h=new r(3),f=(new r(7),new r(11)),d=new r(4),p=(new r(12),null);function g(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<t&&e[r]<=i&&n%e[r]!=0;r++);t!==r&&e[r]<=i||(e[t++]=n)}return p=e,e}function m(e){for(var t=g(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function y(e){var t=r.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new r(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new r(t);;){for(n=new r(i(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(c),t.cmp(c)){if(!t.cmp(l))for(;n.mod(u).cmp(h);)n.iadd(d)}else for(;n.mod(a).cmp(f);)n.iadd(d);if(m(p=n.shrn(1))&&m(n)&&y(p)&&y(n)&&o.test(p)&&o.test(n))return n}}},{"bn.js":16,"miller-rabin":104,randombytes:126}],66:[function(e,t,n){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],67:[function(e,t,n){"use strict";var i=n;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":82,"./elliptic/curve":70,"./elliptic/curves":73,"./elliptic/ec":74,"./elliptic/eddsa":77,"./elliptic/utils":81,brorand:17}],68:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils"),a=r.getNAF,o=r.getJSF,s=r.assert;function c(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(e,t){this.curve=e,this.type=t,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),i=a(t,1,this._bitLength),r=(1<<n.step+1)-(n.step%2==0?2:1);r/=3;for(var o=[],c=0;c<i.length;c+=n.step){var l=0;for(t=c+n.step-1;t>=c;t--)l=(l<<1)+i[t];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=r;f>0;f--){for(c=0;c<o.length;c++){(l=o[c])===f?h=h.mixedAdd(n.points[c]):l===-f&&(h=h.mixedAdd(n.points[c].neg()))}u=u.add(h)}return u.toP()},c.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var r=i.points,o=a(t,n,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(t=0;l>=0&&0===o[l];l--)t++;if(l>=0&&t++,c=c.dblp(t),l<0)break;var u=o[l];s(0!==u),c="affine"===e.type?u>0?c.mixedAdd(r[u-1>>1]):c.mixedAdd(r[-u-1>>1].neg()):u>0?c.add(r[u-1>>1]):c.add(r[-u-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,i,r){for(var s=this._wnafT1,c=this._wnafT2,l=this._wnafT3,u=0,h=0;h<i;h++){var f=(D=t[h])._getNAFPoints(e);s[h]=f.wnd,c[h]=f.points}for(h=i-1;h>=1;h-=2){var d=h-1,p=h;if(1===s[d]&&1===s[p]){var g=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(g[1]=t[d].add(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].add(t[p].neg())):(g[1]=t[d].toJ().mixedAdd(t[p]),g[2]=t[d].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=o(n[d],n[p]);u=Math.max(y[0].length,u),l[d]=new Array(u),l[p]=new Array(u);for(var b=0;b<u;b++){var v=0|y[0][b],_=0|y[1][b];l[d][b]=m[3*(v+1)+(_+1)],l[p][b]=0,c[d]=g}}else l[d]=a(n[d],s[d],this._bitLength),l[p]=a(n[p],s[p],this._bitLength),u=Math.max(l[d].length,u),u=Math.max(l[p].length,u)}var C=this.jpoint(null,null,null),M=this._wnafT4;for(h=u;h>=0;h--){for(var S=0;h>=0;){var w=!0;for(b=0;b<i;b++)M[b]=0|l[b][h],0!==M[b]&&(w=!1);if(!w)break;S++,h--}if(h>=0&&S++,C=C.dblp(S),h<0)break;for(b=0;b<i;b++){var D,E=M[b];0!==E&&(E>0?D=c[b][E-1>>1]:E<0&&(D=c[b][-E-1>>1].neg()),C="affine"===D.type?C.mixedAdd(D):C.add(D))}}for(h=0;h<i;h++)c[h]=null;return r?C:C.toP()},c.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=r.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(e){return this.encode(e,!0)},l.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},l.prototype.encode=function(e,t){return r.encode(this._encode(t),e)},l.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},l.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},l.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<t;r+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}},l.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=1===n?null:this.dbl(),r=1;r<n;r++)t[r]=t[r-1].add(i);return{wnd:e,points:t}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},{"../utils":81,"bn.js":16}],69:[function(e,t,n){"use strict";var i=e("../utils"),r=e("bn.js"),a=e("inherits"),o=e("./base"),s=i.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new r(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function l(e,t,n,i,a){o.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(t,16),this.y=new r(n,16),this.z=i?new r(i,16):this.curve.one,this.t=a&&new r(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,o),t.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)},c.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(a.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===i.cmp(r)},a(l,o.BasePoint),c.prototype.pointFromJSON=function(e){return l.fromJSON(this,e)},c.prototype.point=function(e,t,n,i){return new l(this,e,t,n,i)},l.fromJSON=function(e,t){return new l(e,t[0],t[1],t[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},l.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=i.redAdd(t),o=a.redSub(n),s=i.redSub(t),c=r.redMul(o),l=a.redMul(s),u=r.redMul(s),h=o.redMul(a);return this.curve.point(c,l,h,u)},l.prototype._projDbl=function(){var e,t,n,i=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var o=(l=this.curve._mulA(r)).redAdd(a);if(this.zOne)e=i.redSub(r).redSub(a).redMul(o.redSub(this.curve.two)),t=o.redMul(l.redSub(a)),n=o.redSqr().redSub(o).redSub(o);else{var s=this.z.redSqr(),c=o.redSub(s).redISub(s);e=i.redSub(r).redISub(a).redMul(c),t=o.redMul(l.redSub(a)),n=o.redMul(c)}}else{var l=r.redAdd(a);s=this.curve._mulC(this.z).redSqr(),c=l.redSub(s).redSub(s);e=this.curve._mulC(i.redISub(l)).redMul(c),t=this.curve._mulC(l).redMul(r.redISub(a)),n=l.redMul(c)}return this.curve.point(e,t,n)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(t),o=r.redSub(i),s=r.redAdd(i),c=n.redAdd(t),l=a.redMul(o),u=s.redMul(c),h=a.redMul(c),f=o.redMul(s);return this.curve.point(l,u,f,h)},l.prototype._projAdd=function(e){var t,n,i=this.z.redMul(e.z),r=i.redSqr(),a=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(a).redMul(o),c=r.redSub(s),l=r.redAdd(s),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(o),h=i.redMul(c).redMul(u);return this.curve.twisted?(t=i.redMul(l).redMul(o.redSub(this.curve._mulA(a))),n=c.redMul(l)):(t=i.redMul(l).redMul(o.redSub(a)),n=this.curve._mulC(c).redMul(l)),this.curve.point(h,t,n)},l.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},l.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},l.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},l.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},{"../utils":81,"./base":68,"bn.js":16,inherits:101}],70:[function(e,t,n){"use strict";var i=n;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":68,"./edwards":69,"./mont":71,"./short":72}],71:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("inherits"),a=e("./base"),o=e("../utils");function s(e){a.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){a.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(s,a),t.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},r(c,a.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),i=e.redMul(t),r=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(i,r)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(n),o=r.redMul(i),s=t.z.redMul(a.redAdd(o).redSqr()),c=t.x.redMul(a.redISub(o).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),r=[];0!==t.cmpn(0);t.iushrn(1))r.push(t.andln(1));for(var a=r.length-1;a>=0;a--)0===r[a]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":81,"./base":68,"bn.js":16,inherits:101}],72:[function(e,t,n){"use strict";var i=e("../utils"),r=e("bn.js"),a=e("inherits"),o=e("./base"),s=i.assert;function c(e){o.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(e,t,n,i){o.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(t,16),this.y=new r(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,n,i){o.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(t,16),this.y=new r(n,16),this.z=new r(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,o),t.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new r(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)n=new r(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?n=a[0]:(n=a[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map(function(e){return{a:new r(e.a,16),b:new r(e.b,16)}}):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:r.mont(e),n=new r(2).toRed(t).redInvm(),i=n.redNeg(),a=new r(3).toRed(t).redNeg().redSqrt().redMul(n);return[i.redAdd(a).fromRed(),i.redSub(a).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,i,a,o,s,c,l,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),p=new r(1),g=new r(0),m=new r(0),y=new r(1),b=0;0!==f.cmpn(0);){var v=d.div(f);l=d.sub(v.mul(f)),u=m.sub(v.mul(p));var _=y.sub(v.mul(g));if(!i&&l.cmp(h)<0)t=c.neg(),n=p,i=l.neg(),a=u;else if(i&&2==++b)break;c=l,d=f,f=l,m=p,p=u,y=g,g=_}o=l.neg(),s=u;var C=i.sqr().add(a.sqr());return o.sqr().add(s.sqr()).cmp(C)>=0&&(o=t,s=n),i.negative&&(i=i.neg(),a=a.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:i,b:a},{a:o,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],r=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=r.mul(n.a),s=a.mul(i.a),c=r.mul(n.b),l=a.mul(i.b);return{k1:e.sub(o).sub(s),k2:c.add(l).neg()}},c.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var a=i.fromRed().isOdd();return(t&&!a||!t&&a)&&(i=i.redNeg()),this.point(e,i)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===n.redSqr().redISub(r).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],c=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),c=c.neg(!0)),i[2*a]=s,i[2*a+1]=c,r[2*a]=o.k1,r[2*a+1]=o.k2}for(var l=this._wnafMulAdd(1,i,r,2*a,n),u=0;u<2*a;u++)i[u]=null,r[u]=null;return l},a(l,o.BasePoint),c.prototype.point=function(e,t,n){return new l(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return l.fromJSON(this,e,t)},l.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function r(t){return e.point(t[0],t[1],n)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(r))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(r))}},i},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},l.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),r=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),a=r.redSqr().redISub(this.x.redAdd(this.x)),o=r.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(e){return e=new r(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},l.prototype.mulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r):this.curve._wnafMulAdd(1,i,r,2)},l.prototype.jmulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r,!0):this.curve._wnafMulAdd(1,i,r,2,!0)},l.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},l.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(u,o.BasePoint),c.prototype.jpoint=function(e,t,n){return new u(this,e,t,n)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),r=e.x.redMul(n),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),s=i.redSub(r),c=a.redSub(o);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),h=i.redMul(l),f=c.redSqr().redIAdd(u).redISub(h).redISub(h),d=c.redMul(h.redISub(f)).redISub(a.redMul(u)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,d,p)},u.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),r=this.y,a=e.y.redMul(t).redMul(this.z),o=n.redSub(i),s=r.redSub(a);if(0===o.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=o.redSqr(),l=c.redMul(o),u=n.redMul(c),h=s.redSqr().redIAdd(l).redISub(u).redISub(u),f=s.redMul(u.redISub(h)).redISub(r.redMul(l)),d=this.z.redMul(o);return this.curve.jpoint(h,f,d)},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var i=this.curve.a,r=this.curve.tinv,a=this.x,o=this.y,s=this.z,c=s.redSqr().redSqr(),l=o.redAdd(o);for(n=0;n<e;n++){var u=a.redSqr(),h=l.redSqr(),f=h.redSqr(),d=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(c)),p=a.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var b=l.redMul(s);n+1<e&&(c=c.redMul(f)),a=g,s=b,l=y}return this.curve.jpoint(a,l.redMul(r),s)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),a=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i),c=s.redSqr().redISub(o).redISub(o),l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),e=c,t=s.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(u).redISub(f);d=d.redIAdd(d);var p=u.redAdd(u).redIAdd(u),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},u.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),a=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=s.redSqr().redISub(o).redISub(o);e=c;var l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(o.redISub(c)).redISub(l),n=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(u).redMul(this.x.redAdd(u));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,n)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),a=t.redSqr(),o=n.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(r)),c=t.redAdd(t),l=(c=c.redIAdd(c)).redMul(o),u=s.redSqr().redISub(l.redAdd(l)),h=l.redISub(u),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(h).redISub(f),p=n.redAdd(n).redMul(i);return this.curve.jpoint(u,d,p)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),r=e.redAdd(e).redIAdd(e),a=r.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var l=r.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(c),u=t.redMul(l);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.x.redMul(s).redISub(u);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(l.redMul(c.redISub(l)).redISub(o.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(o).redSqr().redISub(n).redISub(s);return this.curve.jpoint(h,f,d)},u.prototype.mul=function(e,t){return e=new r(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),r=n.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(i)).cmpn(0)},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":81,"./base":68,"bn.js":16,inherits:101}],73:[function(e,t,n){"use strict";var i,r=n,a=e("hash.js"),o=e("./curve"),s=e("./utils").assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=c,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch(e){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":70,"./precomputed/secp256k1":80,"./utils":81,"hash.js":86}],74:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("hmac-drbg"),a=e("../utils"),o=e("../curves"),s=e("brorand"),c=a.assert,l=e("./key"),u=e("./signature");function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(c(o.hasOwnProperty(e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}t.exports=h,h.prototype.keyPair=function(e){return new l(this,e)},h.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new r({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),a=this.n.sub(new i(2));;){var o=new i(t.generate(n));if(!(o.cmp(a)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,n,a){"object"==typeof n&&(a=n,n=null),a||(a={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),c=e.toArray("be",o),l=new r({hash:this.hash,entropy:s,nonce:c,pers:a.pers,persEnc:a.persEnc||"utf8"}),h=this.n.sub(new i(1)),f=0;;f++){var d=a.k?a.k(f):new i(l.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(0!==m.cmpn(0)){var y=d.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==g.cmp(m)?2:0);return a.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),b^=1),new u({r:m,s:y,recoveryParam:b})}}}}}},h.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r);var a=(t=new u(t,"hex")).r,o=t.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,c=o.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(a).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),h)).isInfinity()&&s.eqXToP(a):!(s=this.g.mulAdd(l,n.getPublic(),h)).isInfinity()&&0===s.getX().umod(this.n).cmp(a)},h.prototype.recoverPubKey=function(e,t,n,r){c((3&n)===n,"The recovery param is more than two bits"),t=new u(t,r);var a=this.n,o=new i(e),s=t.r,l=t.s,h=1&n,f=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");s=f?this.curve.pointFromX(s.add(this.curve.n),h):this.curve.pointFromX(s,h);var d=t.r.invm(a),p=a.sub(o).mul(d).umod(a),g=l.mul(d).umod(a);return this.g.mulAdd(p,s,g)},h.prototype.getKeyRecoveryParam=function(e,t,n,i){if(null!==(t=new u(t,i)).recoveryParam)return t.recoveryParam;for(var r=0;r<4;r++){var a;try{a=this.recoverPubKey(e,t,r)}catch(e){continue}if(a.eq(n))return r}throw new Error("Unable to find valid recovery factor")}},{"../curves":73,"../utils":81,"./key":75,"./signature":76,"bn.js":16,brorand:17,"hmac-drbg":98}],75:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils").assert;function a(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}t.exports=a,a.fromPublic=function(e,t,n){return t instanceof a?t:new a(e,{pub:t,pubEnc:n})},a.fromPrivate=function(e,t,n){return t instanceof a?t:new a(e,{priv:t,privEnc:n})},a.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},a.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?r(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},a.prototype.derive=function(e){return e.mul(this.priv).getX()},a.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},a.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":81,"bn.js":16}],76:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils"),a=r.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(a(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;for(var i=15&n,r=0,a=0,o=t.place;a<i;a++,o++)r<<=8,r|=e[o];return t.place=o,r}function l(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function u(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}t.exports=o,o.prototype._importDER=function(e,t){e=r.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;if(c(e,n)+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=c(e,n),o=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var l=c(e,n);if(e.length!==l+n.place)return!1;var u=e.slice(n.place,l+n.place);return 0===o[0]&&128&o[1]&&(o=o.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new i(o),this.s=new i(u),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=l(t),n=l(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2];u(i,t.length),(i=i.concat(t)).push(2),u(i,n.length);var a=i.concat(n),o=[48];return u(o,a.length),o=o.concat(a),r.encode(o,e)}},{"../utils":81,"bn.js":16}],77:[function(e,t,n){"use strict";var i=e("hash.js"),r=e("../curves"),a=e("../utils"),o=a.assert,s=a.parseBytes,c=e("./key"),l=e("./signature");function u(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof u))return new u(e);e=r[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}t.exports=u,u.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),r=this.g.mul(i),a=this.encodePoint(r),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:r,S:c,Rencoded:a})},u.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),r=this.hashInt(t.Rencoded(),i.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(i.pub().mul(r)).eq(a)},u.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},u.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},u.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},u.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},u.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),i=0!=(128&e[t]),r=a.intFromLE(n);return this.curve.pointFromY(r,i)},u.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(e){return a.intFromLE(e)},u.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../curves":73,"../utils":81,"./key":78,"./signature":79,"hash.js":86}],78:[function(e,t,n){"use strict";var i=e("../utils"),r=i.assert,a=i.parseBytes,o=i.cachedProperty;function s(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},o(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),o(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),o(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i}),o(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),o(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),o(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},s.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},t.exports=s},{"../utils":81}],79:[function(e,t,n){"use strict";var i=e("bn.js"),r=e("../utils"),a=r.assert,o=r.cachedProperty,s=r.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),o(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),o(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),o(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},{"../utils":81,"bn.js":16}],80:[function(e,t,n){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],81:[function(e,t,n){"use strict";var i=n,r=e("bn.js"),a=e("minimalistic-assert"),o=e("minimalistic-crypto-utils");i.assert=a,i.toArray=o.toArray,i.zero2=o.zero2,i.toHex=o.toHex,i.encode=o.encode,i.getNAF=function(e,t,n){var i=new Array(Math.max(e.bitLength(),n)+1);i.fill(0);for(var r=1<<t+1,a=e.clone(),o=0;o<i.length;o++){var s,c=a.andln(r-1);a.isOdd()?(s=c>(r>>1)-1?(r>>1)-c:c,a.isubn(s)):s=0,i[o]=s,a.iushrn(1)}return i},i.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var i=0,r=0;e.cmpn(-i)>0||t.cmpn(-r)>0;){var a,o,s,c=e.andln(3)+i&3,l=t.andln(3)+r&3;3===c&&(c=-1),3===l&&(l=-1),a=0==(1&c)?0:3!=(s=e.andln(7)+i&7)&&5!==s||2!==l?c:-c,n[0].push(a),o=0==(1&l)?0:3!=(s=t.andln(7)+r&7)&&5!==s||2!==c?l:-l,n[1].push(o),2*i===a+1&&(i=1-i),2*r===o+1&&(r=1-r),e.iushrn(1),t.iushrn(1)}return n},i.cachedProperty=function(e,t,n){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},i.parseBytes=function(e){return"string"==typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new r(e,"hex","le")}},{"bn.js":16,"minimalistic-assert":105,"minimalistic-crypto-utils":106}],82:[function(e,t,n){t.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.5.2",_inBundle:!1,_integrity:"sha512-f4x70okzZbIQl/NSRLkI/+tteV/9WqL98zx+SQ69KbXxmVrmjwsNUPn/gYJJ0sHvEak24cZgHIPegRePAtA/xw==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.2.tgz",_shasum:"05c5678d7173c049d8ca433552224a495d0e3762",_spec:"elliptic@^6.0.0",_where:"/Users/nantas/jenkins/workspace/Creator_2D/fireball/mac/fireball/dist/CocosCreator.app/Contents/Resources/app/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.2"}},{}],83:[function(e,t,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,n,i,a,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(s(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),i=(l=n.slice()).length,c=0;c<i;c++)l[c].apply(this,a);return!0},i.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var n,i,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},{}],84:[function(e,t,n){var i=e("safe-buffer").Buffer,r=e("md5.js");t.exports=function(e,t,n,a){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=n/8,s=i.alloc(o),c=i.alloc(a||0),l=i.alloc(0);o>0||a>0;){var u=new r;u.update(l),u.update(e),t&&u.update(t),l=u.digest();var h=0;if(o>0){var f=s.length-o;h=Math.min(o,l.length),l.copy(s,f,0,h),o-=h}if(h<l.length&&a>0){var d=c.length-a,p=Math.min(a,l.length-h);l.copy(c,d,h,h+p),a-=p}}return l.fill(0),{key:s,iv:c}}},{"md5.js":103,"safe-buffer":144}],85:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=e("stream").Transform;function a(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}function o(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(o,r),o.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(e){i=e}n(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(a(e,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var s=0,c=8*e.length;c>0;++s)this._length[s]+=c,(c=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*c);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},{inherits:101,"safe-buffer":144,stream:153}],86:[function(e,t,n){var i=n;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":87,"./hash/hmac":88,"./hash/ripemd":89,"./hash/sha":90,"./hash/utils":97}],87:[function(e,t,n){"use strict";var i=e("./utils"),r=e("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}n.BlockHash=a,a.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=e>>>24&255,i[r++]=e>>>16&255,i[r++]=e>>>8&255,i[r++]=255&e}else for(i[r++]=255&e,i[r++]=e>>>8&255,i[r++]=e>>>16&255,i[r++]=e>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,a=8;a<this.padLength;a++)i[r++]=0;return i}},{"./utils":97,"minimalistic-assert":105}],88:[function(e,t,n){"use strict";var i=e("./utils"),r=e("minimalistic-assert");function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,n))}t.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),r(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":97,"minimalistic-assert":105}],89:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./common"),a=i.rotl32,o=i.sum32,s=i.sum32_3,c=i.sum32_4,l=r.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,n,i){return e<=15?t^n^i:e<=31?t&n|~t&i:e<=47?(t|~n)^i:e<=63?t&i|n&~i:t^(n|~i)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(u,l),n.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],r=this.h[2],l=this.h[3],u=this.h[4],b=n,v=i,_=r,C=l,M=u,S=0;S<80;S++){var w=o(a(c(n,h(S,i,r,l),e[p[S]+t],f(S)),m[S]),u);n=u,u=l,l=a(r,10),r=i,i=w,w=o(a(c(b,h(79-S,v,_,C),e[g[S]+t],d(S)),y[S]),M),b=M,M=C,C=a(_,10),_=v,v=w}w=s(this.h[1],r,C),this.h[1]=s(this.h[2],l,M),this.h[2]=s(this.h[3],u,b),this.h[3]=s(this.h[4],n,v),this.h[4]=s(this.h[0],i,_),this.h[0]=w},u.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":87,"./utils":97}],90:[function(e,t,n){"use strict";n.sha1=e("./sha/1"),n.sha224=e("./sha/224"),n.sha256=e("./sha/256"),n.sha384=e("./sha/384"),n.sha512=e("./sha/512")},{"./sha/1":91,"./sha/224":92,"./sha/256":93,"./sha/384":94,"./sha/512":95}],91:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../common"),a=e("./common"),o=i.rotl32,s=i.sum32,c=i.sum32_5,l=a.ft_1,u=r.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(f,u),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=o(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var r=this.h[0],a=this.h[1],u=this.h[2],f=this.h[3],d=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),g=c(o(r,5),l(p,a,u,f),d,n[i],h[p]);d=f,f=u,u=o(a,30),a=r,r=g}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":87,"../utils":97,"./common":96}],92:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./256");function a(){if(!(this instanceof a))return new a;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(a,r),t.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":97,"./256":93}],93:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../common"),a=e("./common"),o=e("minimalistic-assert"),s=i.sum32,c=i.sum32_4,l=i.sum32_5,u=a.ch32,h=a.maj32,f=a.s0_256,d=a.s1_256,p=a.g0_256,g=a.g1_256,m=r.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}i.inherits(b,m),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=c(g(n[i-2]),n[i-7],p(n[i-15]),n[i-16]);var r=this.h[0],a=this.h[1],m=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],_=this.h[6],C=this.h[7];for(o(this.k.length===n.length),i=0;i<n.length;i++){var M=l(C,d(b),u(b,v,_),this.k[i],n[i]),S=s(f(r),h(r,a,m));C=_,_=v,v=b,b=s(y,M),y=m,m=a,a=r,r=s(M,S)}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],y),this.h[4]=s(this.h[4],b),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],C)},b.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":87,"../utils":97,"./common":96,"minimalistic-assert":105}],94:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./512");function a(){if(!(this instanceof a))return new a;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(a,r),t.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":97,"./512":95}],95:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../common"),a=e("minimalistic-assert"),o=i.rotr64_hi,s=i.rotr64_lo,c=i.shr64_hi,l=i.shr64_lo,u=i.sum64,h=i.sum64_hi,f=i.sum64_lo,d=i.sum64_4_hi,p=i.sum64_4_lo,g=i.sum64_5_hi,m=i.sum64_5_lo,y=r.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function _(e,t,n,i,r){var a=e&n^~e&r;return a<0&&(a+=4294967296),a}function C(e,t,n,i,r,a){var o=t&i^~t&a;return o<0&&(o+=4294967296),o}function M(e,t,n,i,r){var a=e&n^e&r^n&r;return a<0&&(a+=4294967296),a}function S(e,t,n,i,r,a){var o=t&i^t&a^i&a;return o<0&&(o+=4294967296),o}function w(e,t){var n=o(e,t,28)^o(t,e,2)^o(t,e,7);return n<0&&(n+=4294967296),n}function D(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function E(e,t){var n=o(e,t,14)^o(e,t,18)^o(t,e,9);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function P(e,t){var n=o(e,t,1)^o(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=s(e,t,1)^s(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function N(e,t){var n=o(e,t,19)^o(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function T(e,t){var n=s(e,t,19)^s(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}i.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var r=N(n[i-4],n[i-3]),a=T(n[i-4],n[i-3]),o=n[i-14],s=n[i-13],c=P(n[i-30],n[i-29]),l=I(n[i-30],n[i-29]),u=n[i-32],h=n[i-31];n[i]=d(r,a,o,s,c,l,u,h),n[i+1]=p(r,a,o,s,c,l,u,h)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],r=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],l=this.h[5],d=this.h[6],p=this.h[7],y=this.h[8],b=this.h[9],v=this.h[10],P=this.h[11],I=this.h[12],N=this.h[13],T=this.h[14],k=this.h[15];a(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var O=T,L=k,x=E(y,b),B=A(y,b),U=_(y,b,v,P,I),K=C(y,b,v,P,I,N),j=this.k[R],X=this.k[R+1],F=n[R],G=n[R+1],W=g(O,L,x,B,U,K,j,X,F,G),J=m(O,L,x,B,U,K,j,X,F,G);O=w(i,r),L=D(i,r),x=M(i,r,o,s,c),B=S(i,r,o,s,c,l);var V=h(O,L,x,B),H=f(O,L,x,B);T=I,k=N,I=v,N=P,v=y,P=b,y=h(d,p,W,J),b=f(p,p,W,J),d=c,p=l,c=o,l=s,o=i,s=r,i=h(W,J,V,H),r=f(W,J,V,H)}u(this.h,0,i,r),u(this.h,2,o,s),u(this.h,4,c,l),u(this.h,6,d,p),u(this.h,8,y,b),u(this.h,10,v,P),u(this.h,12,I,N),u(this.h,14,T,k)},v.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":87,"../utils":97,"minimalistic-assert":105}],96:[function(e,t,n){"use strict";var i=e("../utils").rotr32;function r(e,t,n){return e&t^~e&n}function a(e,t,n){return e&t^e&n^t&n}function o(e,t,n){return e^t^n}n.ft_1=function(e,t,n,i){return 0===e?r(t,n,i):1===e||3===e?o(t,n,i):2===e?a(t,n,i):void 0},n.ch32=r,n.maj32=a,n.p32=o,n.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},n.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},n.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},n.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},{"../utils":97}],97:[function(e,t,n){"use strict";var i=e("minimalistic-assert"),r=e("inherits");function a(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}n.inherits=r,n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var i=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?n[i++]=o:o<2048?(n[i++]=o>>6|192,n[i++]=63&o|128):a(e,r)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),n[i++]=o>>18|240,n[i++]=o>>12&63|128,n[i++]=o>>6&63|128,n[i++]=63&o|128):(n[i++]=o>>12|224,n[i++]=o>>6&63|128,n[i++]=63&o|128)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n},n.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},n.htonl=o,n.toHex32=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e[i];"little"===t&&(r=o(r)),n+=c(r.toString(16))}return n},n.zero2=s,n.zero8=c,n.join32=function(e,t,n,r){var a=n-t;i(a%4==0);for(var o=new Array(a/4),s=0,c=t;s<o.length;s++,c+=4){var l;l="big"===r?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[s]=l>>>0}return o},n.split32=function(e,t){for(var n=new Array(4*e.length),i=0,r=0;i<e.length;i++,r+=4){var a=e[i];"big"===t?(n[r]=a>>>24,n[r+1]=a>>>16&255,n[r+2]=a>>>8&255,n[r+3]=255&a):(n[r+3]=a>>>24,n[r+2]=a>>>16&255,n[r+1]=a>>>8&255,n[r]=255&a)}return n},n.rotr32=function(e,t){return e>>>t|e<<32-t},n.rotl32=function(e,t){return e<<t|e>>>32-t},n.sum32=function(e,t){return e+t>>>0},n.sum32_3=function(e,t,n){return e+t+n>>>0},n.sum32_4=function(e,t,n,i){return e+t+n+i>>>0},n.sum32_5=function(e,t,n,i,r){return e+t+n+i+r>>>0},n.sum64=function(e,t,n,i){var r=e[t],a=i+e[t+1]>>>0,o=(a<i?1:0)+n+r;e[t]=o>>>0,e[t+1]=a},n.sum64_hi=function(e,t,n,i){return(t+i>>>0<t?1:0)+e+n>>>0},n.sum64_lo=function(e,t,n,i){return t+i>>>0},n.sum64_4_hi=function(e,t,n,i,r,a,o,s){var c=0,l=t;return c+=(l=l+i>>>0)<t?1:0,c+=(l=l+a>>>0)<a?1:0,e+n+r+o+(c+=(l=l+s>>>0)<s?1:0)>>>0},n.sum64_4_lo=function(e,t,n,i,r,a,o,s){return t+i+a+s>>>0},n.sum64_5_hi=function(e,t,n,i,r,a,o,s,c,l){var u=0,h=t;return u+=(h=h+i>>>0)<t?1:0,u+=(h=h+a>>>0)<a?1:0,u+=(h=h+s>>>0)<s?1:0,e+n+r+o+c+(u+=(h=h+l>>>0)<l?1:0)>>>0},n.sum64_5_lo=function(e,t,n,i,r,a,o,s,c,l){return t+i+a+s+l>>>0},n.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},n.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},n.shr64_hi=function(e,t,n){return e>>>n},n.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},{inherits:101,"minimalistic-assert":105}],98:[function(e,t,n){"use strict";var i=e("hash.js"),r=e("minimalistic-crypto-utils"),a=e("minimalistic-assert");function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(e.entropy,e.entropyEnc||"hex"),n=r.toArray(e.nonce,e.nonceEnc||"hex"),i=r.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}t.exports=o,o.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,n,i){"string"!=typeof t&&(i=n,n=t,t=null),e=r.toArray(e,t),n=r.toArray(n,i),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},o.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=n,n=t,t=null),n&&(n=r.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(n),this._reseed++,r.encode(o,t)}},{"hash.js":86,"minimalistic-assert":105,"minimalistic-crypto-utils":106}],99:[function(e,t,n){n.read=function(e,t,n,i,r){var a,o,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?r-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;u>0;o=256*o+e[t+h],h+=f,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=l}return(d?-1:1)*o*Math.pow(2,a-i)},n.write=function(e,t,n,i,r,a){var o,s,c,l=8*a-r-1,u=(1<<l)-1,h=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*c-1)*Math.pow(2,r),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[n+d]=255&s,d+=p,s/=256,r-=8);for(o=o<<r|s,l+=r;l>0;e[n+d]=255&o,d+=p,o/=256,l-=8);e[n+d-p]|=128*g}},{}],100:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],101:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],102:[function(e,t,n){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))}t.exports=function(e){return null!=e&&(i(e)||r(e)||!!e._isBuffer)}},{}],103:[function(e,t,n){"use strict";var i=e("inherits"),r=e("hash-base"),a=e("safe-buffer").Buffer,o=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function l(e,t,n,i,r,a,o){return c(e+(t&n|~t&i)+r+a|0,o)+t|0}function u(e,t,n,i,r,a,o){return c(e+(t&i|n&~i)+r+a|0,o)+t|0}function h(e,t,n,i,r,a,o){return c(e+(t^n^i)+r+a|0,o)+t|0}function f(e,t,n,i,r,a,o){return c(e+(n^(t|~i))+r+a|0,o)+t|0}i(s,r),s.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,a=this._d;i=f(i=f(i=f(i=f(i=h(i=h(i=h(i=h(i=u(i=u(i=u(i=u(i=l(i=l(i=l(i=l(i,r=l(r,a=l(a,n=l(n,i,r,a,e[0],3614090360,7),i,r,e[1],3905402710,12),n,i,e[2],606105819,17),a,n,e[3],3250441966,22),r=l(r,a=l(a,n=l(n,i,r,a,e[4],4118548399,7),i,r,e[5],1200080426,12),n,i,e[6],2821735955,17),a,n,e[7],4249261313,22),r=l(r,a=l(a,n=l(n,i,r,a,e[8],1770035416,7),i,r,e[9],2336552879,12),n,i,e[10],4294925233,17),a,n,e[11],2304563134,22),r=l(r,a=l(a,n=l(n,i,r,a,e[12],1804603682,7),i,r,e[13],4254626195,12),n,i,e[14],2792965006,17),a,n,e[15],1236535329,22),r=u(r,a=u(a,n=u(n,i,r,a,e[1],4129170786,5),i,r,e[6],3225465664,9),n,i,e[11],643717713,14),a,n,e[0],3921069994,20),r=u(r,a=u(a,n=u(n,i,r,a,e[5],3593408605,5),i,r,e[10],38016083,9),n,i,e[15],3634488961,14),a,n,e[4],3889429448,20),r=u(r,a=u(a,n=u(n,i,r,a,e[9],568446438,5),i,r,e[14],3275163606,9),n,i,e[3],4107603335,14),a,n,e[8],1163531501,20),r=u(r,a=u(a,n=u(n,i,r,a,e[13],2850285829,5),i,r,e[2],4243563512,9),n,i,e[7],1735328473,14),a,n,e[12],2368359562,20),r=h(r,a=h(a,n=h(n,i,r,a,e[5],4294588738,4),i,r,e[8],2272392833,11),n,i,e[11],1839030562,16),a,n,e[14],4259657740,23),r=h(r,a=h(a,n=h(n,i,r,a,e[1],2763975236,4),i,r,e[4],1272893353,11),n,i,e[7],4139469664,16),a,n,e[10],3200236656,23),r=h(r,a=h(a,n=h(n,i,r,a,e[13],681279174,4),i,r,e[0],3936430074,11),n,i,e[3],3572445317,16),a,n,e[6],76029189,23),r=h(r,a=h(a,n=h(n,i,r,a,e[9],3654602809,4),i,r,e[12],3873151461,11),n,i,e[15],530742520,16),a,n,e[2],3299628645,23),r=f(r,a=f(a,n=f(n,i,r,a,e[0],4096336452,6),i,r,e[7],1126891415,10),n,i,e[14],2878612391,15),a,n,e[5],4237533241,21),r=f(r,a=f(a,n=f(n,i,r,a,e[12],1700485571,6),i,r,e[3],2399980690,10),n,i,e[10],4293915773,15),a,n,e[1],2240044497,21),r=f(r,a=f(a,n=f(n,i,r,a,e[8],1873313359,6),i,r,e[15],4264355552,10),n,i,e[6],2734768916,15),a,n,e[13],1309151649,21),r=f(r,a=f(a,n=f(n,i,r,a,e[4],4149444226,6),i,r,e[11],3174756917,10),n,i,e[2],718787259,15),a,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+a|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=s},{"hash-base":85,inherits:101,"safe-buffer":144}],104:[function(e,t,n){var i=e("bn.js"),r=e("brorand");function a(e){this.rand=e||new r.Rand}t.exports=a,a.create=function(e){return new a(e)},a.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(e)>=0);return r},a.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},a.prototype.test=function(e,t,n){var r=e.bitLength(),a=i.mont(e),o=new i(1).toRed(a);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),u=s.toRed(a);t>0;t--){var h=this._randrange(new i(2),s);n&&n(h);var f=h.toRed(a).redPow(l);if(0!==f.cmp(o)&&0!==f.cmp(u)){for(var d=1;d<c;d++){if(0===(f=f.redSqr()).cmp(o))return!1;if(0===f.cmp(u))break}if(d===c)return!1}}return!0},a.prototype.getDivisor=function(e,t){var n=e.bitLength(),r=i.mont(e),a=new i(1).toRed(r);t||(t=Math.max(1,n/48|0));for(var o=e.subn(1),s=0;!o.testn(s);s++);for(var c=e.shrn(s),l=o.toRed(r);t>0;t--){var u=this._randrange(new i(2),o),h=e.gcd(u);if(0!==h.cmpn(1))return h;var f=u.toRed(r).redPow(c);if(0!==f.cmp(a)&&0!==f.cmp(l)){for(var d=1;d<s;d++){if(0===(f=f.redSqr()).cmp(a))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(l))break}if(d===s)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":16,brorand:17}],105:[function(e,t,n){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=i,i.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},{}],106:[function(e,t,n){"use strict";var i=n;function r(e){return 1===e.length?"0"+e:e}function a(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}i.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)n[i]=0|e[i];return n}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16));else for(i=0;i<e.length;i++){var r=e.charCodeAt(i),a=r>>8,o=255&r;a?n.push(a,o):n.push(o)}return n},i.zero2=r,i.toHex=a,i.encode=function(e,t){return"hex"===t?a(e):e}},{}],107:[function(e,t,n){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],108:[function(e,t,n){"use strict";var i=e("asn1.js");n.certificate=e("./certificate");var r=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});n.RSAPrivateKey=r;var a=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});n.RSAPublicKey=a;var o=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});n.PublicKey=o;var s=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});n.PrivateKey=c;var l=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});n.EncryptedPrivateKey=l;var u=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});n.DSAPrivateKey=u,n.DSAparam=i.define("DSAparam",function(){this.int()});var h=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=h;var f=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});n.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":109,"asn1.js":1}],109:[function(e,t,n){"use strict";var i=e("asn1.js"),r=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(a)}),l=i.define("RDNSequence",function(){this.seqof(c)}),u=i.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),h=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))}),f=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(u),this.key("validity").use(h),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=p},{"asn1.js":1}],110:[function(e,t,n){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,o=e("evp_bytestokey"),s=e("browserify-aes"),c=e("safe-buffer").Buffer;t.exports=function(e,t){var n,l=e.toString(),u=l.match(i);if(u){var h="aes"+u[1],f=c.from(u[2],"hex"),d=c.from(u[3].replace(/[\r\n]/g,""),"base64"),p=o(t,f.slice(0,8),parseInt(u[1],10)).key,g=[],m=s.createDecipheriv(h,p,f);g.push(m.update(d)),g.push(m.final()),n=c.concat(g)}else{var y=l.match(a);n=new c(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:l.match(r)[1],data:n}}},{"browserify-aes":21,evp_bytestokey:84,"safe-buffer":144}],111:[function(e,t,n){var i=e("./asn1"),r=e("./aesid.json"),a=e("./fixProc"),o=e("browserify-aes"),s=e("pbkdf2"),c=e("safe-buffer").Buffer;function l(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var n,r,o=a(e,t),s=o.tag,l=o.data;switch(s){case"CERTIFICATE":r=i.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(r||(r=i.PublicKey.decode(l,"der")),n=r.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(r.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return r.subjectPrivateKey=r.subjectPublicKey,{type:"ec",data:r};case"1.2.840.10040.4.1":return r.algorithm.params.pub_key=i.DSAparam.decode(r.subjectPublicKey.data,"der"),{type:"dsa",data:r.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+s);case"ENCRYPTED PRIVATE KEY":l=u(l=i.EncryptedPrivateKey.decode(l,"der"),t);case"PRIVATE KEY":switch(n=(r=i.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(r.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:r.algorithm.curve,privateKey:i.ECPrivateKey.decode(r.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return r.algorithm.params.priv_key=i.DSAparam.decode(r.subjectPrivateKey,"der"),{type:"dsa",params:r.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+s);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=i.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+s)}}function u(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=r[e.algorithm.decrypt.cipher.algo.join(".")],l=e.algorithm.decrypt.cipher.iv,u=e.subjectPrivateKey,h=parseInt(a.split("-")[1],10)/8,f=s.pbkdf2Sync(t,n,i,h,"sha1"),d=o.createDecipheriv(a,f,l),p=[];return p.push(d.update(u)),p.push(d.final()),c.concat(p)}t.exports=l,l.signature=i.signature},{"./aesid.json":107,"./asn1":108,"./fixProc":110,"browserify-aes":21,pbkdf2:113,"safe-buffer":144}],112:[function(e,t,n){(function(e){function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}n.resolve=function(){for(var n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,i="/"===o.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===a(e,-1);return(e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=i(e.split("/")),a=i(t.split("/")),o=Math.min(r.length,a.length),s=o,c=0;c<o;c++)if(r[c]!==a[c]){s=c;break}var l=[];for(c=s;c<r.length;c++)l.push("..");return(l=l.concat(a.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!r){i=a;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},n.basename=function(e,t){var n=i(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===i&&(r=!1,i=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!r){n=o+1;break}}return-1===t||-1===i||0===a||1===a&&t===i-1&&t===n+1?"":e.slice(t,i)};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:119}],113:[function(e,t,n){n.pbkdf2=e("./lib/async"),n.pbkdf2Sync=e("./lib/sync")},{"./lib/async":114,"./lib/sync":117}],114:[function(e,t,n){(function(n,i){var r,a=e("./precondition"),o=e("./default-encoding"),s=e("./sync"),c=e("safe-buffer").Buffer,l=i.crypto&&i.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function f(e){if(i.process&&!i.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var t=d(r=r||c.alloc(8),r,10,128,e).then(function(){return!0}).catch(function(){return!1});return h[e]=t,t}function d(e,t,n,i,r){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:r}},e,i<<3)}).then(function(e){return c.from(e)})}function p(e,t){e.then(function(e){n.nextTick(function(){t(null,e)})},function(e){n.nextTick(function(){t(e)})})}t.exports=function(e,t,r,l,h,g){"function"==typeof h&&(g=h,h=void 0);var m=u[(h=h||"sha1").toLowerCase()];if(!m||"function"!=typeof i.Promise)return n.nextTick(function(){var n;try{n=s(e,t,r,l,h)}catch(e){return g(e)}g(null,n)});if(a(e,t,r,l),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");c.isBuffer(e)||(e=c.from(e,o)),c.isBuffer(t)||(t=c.from(t,o)),p(f(m).then(function(n){return n?d(e,t,r,l,m):s(e,t,r,l,h)}),g)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":115,"./precondition":116,"./sync":117,_process:119,"safe-buffer":144}],115:[function(e,t,n){(function(e){var n;e.browser?n="utf-8":n=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=n}).call(this,e("_process"))},{_process:119}],116:[function(e,t,n){(function(e){var n=Math.pow(2,30)-1;function i(t,n){if("string"!=typeof t&&!e.isBuffer(t))throw new TypeError(n+" must be a buffer or string")}t.exports=function(e,t,r,a){if(i(e,"Password"),i(t,"Salt"),"number"!=typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!=typeof a)throw new TypeError("Key length not a number");if(a<0||a>n||a!=a)throw new TypeError("Bad key length")}}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":102}],117:[function(e,t,n){var i=e("create-hash/md5"),r=e("ripemd160"),a=e("sha.js"),o=e("./precondition"),s=e("./default-encoding"),c=e("safe-buffer").Buffer,l=c.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,n){var i=f(e),r="sha512"===e||"sha384"===e?128:64;t.length>r?t=i(t):t.length<r&&(t=c.concat([t,l],r));for(var a=c.allocUnsafe(r+u[e]),o=c.allocUnsafe(r+u[e]),s=0;s<r;s++)a[s]=54^t[s],o[s]=92^t[s];var h=c.allocUnsafe(r+n+4);a.copy(h,0,0,r),this.ipad1=h,this.ipad2=a,this.opad=o,this.alg=e,this.blocksize=r,this.hash=i,this.size=u[e]}function f(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new r).update(e).digest()}:"md5"===e?i:function(t){return a(e).update(t).digest()}}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,n,i,r){o(e,t,n,i),c.isBuffer(e)||(e=c.from(e,s)),c.isBuffer(t)||(t=c.from(t,s));var a=new h(r=r||"sha1",e,t.length),l=c.allocUnsafe(i),f=c.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var d=0,p=u[r],g=Math.ceil(i/p),m=1;m<=g;m++){f.writeUInt32BE(m,t.length);for(var y=a.run(f,a.ipad1),b=y,v=1;v<n;v++){b=a.run(b,a.ipad2);for(var _=0;_<p;_++)y[_]^=b[_]}y.copy(l,d),d+=p}return l}},{"./default-encoding":115,"./precondition":116,"create-hash/md5":53,ripemd160:143,"safe-buffer":144,"sha.js":146}],118:[function(e,t,n){(function(e){"use strict";void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return e.nextTick(function(){t.apply(null,a)})}}}:t.exports=e}).call(this,e("_process"))},{_process:119}],119:[function(e,t,n){var i,r,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}})();var u,h=[],f=!1,d=-1;function p(){f&&u&&(f=!1,u.length?h=u.concat(h):d=-1,h.length&&g())}function g(){if(!f){var e=c(p);f=!0;for(var t=h.length;t;){for(u=h,h=[];++d<t;)u&&u[d].run();d=-1,t=h.length}u=null,f=!1,l(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new m(e,t)),1!==h.length||f||c(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],120:[function(e,t,n){n.publicEncrypt=e("./publicEncrypt"),n.privateDecrypt=e("./privateDecrypt"),n.privateEncrypt=function(e,t){return n.publicEncrypt(e,t,!0)},n.publicDecrypt=function(e,t){return n.privateDecrypt(e,t,!0)}},{"./privateDecrypt":122,"./publicEncrypt":123}],121:[function(e,t,n){var i=e("create-hash"),r=e("safe-buffer").Buffer;function a(e){var t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}t.exports=function(e,t){for(var n,o=r.alloc(0),s=0;o.length<t;)n=a(s++),o=r.concat([o,i("sha1").update(e).update(n).digest()]);return o.slice(0,t)}},{"create-hash":52,"safe-buffer":144}],122:[function(e,t,n){var i=e("parse-asn1"),r=e("./mgf"),a=e("./xor"),o=e("bn.js"),s=e("browserify-rsa"),c=e("create-hash"),l=e("./withPublic"),u=e("safe-buffer").Buffer;function h(e,t){var n=e.modulus.byteLength(),i=c("sha1").update(u.alloc(0)).digest(),o=i.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,o+1),l=t.slice(o+1),h=a(s,r(l,o)),f=a(l,r(h,n-o-1));if(d(i,f.slice(0,o)))throw new Error("decryption error");for(var p=o;0===f[p];)p++;if(1!==f[p++])throw new Error("decryption error");return f.slice(p)}function f(e,t,n){for(var i=t.slice(0,2),r=2,a=0;0!==t[r++];)if(r>=t.length){a++;break}var o=t.slice(2,r-1);if(("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&a++,o.length<8&&a++,a)throw new Error("decryption error");return t.slice(r)}function d(e,t){e=u.from(e),t=u.from(t);var n=0,i=e.length;e.length!==t.length&&(n++,i=Math.min(e.length,t.length));for(var r=-1;++r<i;)n+=e[r]^t[r];return n}t.exports=function(e,t,n){var r;r=e.padding?e.padding:n?1:4;var a,c=i(e),d=c.modulus.byteLength();if(t.length>d||new o(t).cmp(c.modulus)>=0)throw new Error("decryption error");a=n?l(new o(t),c):s(t,c);var p=u.alloc(d-a.length);if(a=u.concat([p,a],d),4===r)return h(c,a);if(1===r)return f(c,a,n);if(3===r)return a;throw new Error("unknown padding")}},{"./mgf":121,"./withPublic":124,"./xor":125,"bn.js":16,"browserify-rsa":39,"create-hash":52,"parse-asn1":111,"safe-buffer":144}],123:[function(e,t,n){var i=e("parse-asn1"),r=e("randombytes"),a=e("create-hash"),o=e("./mgf"),s=e("./xor"),c=e("bn.js"),l=e("./withPublic"),u=e("browserify-rsa"),h=e("safe-buffer").Buffer;function f(e,t){var n=e.modulus.byteLength(),i=t.length,l=a("sha1").update(h.alloc(0)).digest(),u=l.length,f=2*u;if(i>n-f-2)throw new Error("message too long");var d=h.alloc(n-i-f-2),p=n-u-1,g=r(u),m=s(h.concat([l,d,h.alloc(1,1),t],p),o(g,p)),y=s(g,o(m,u));return new c(h.concat([h.alloc(1),y,m],n))}function d(e,t,n){var i,r=t.length,a=e.modulus.byteLength();if(r>a-11)throw new Error("message too long");return i=n?h.alloc(a-r-3,255):p(a-r-3),new c(h.concat([h.from([0,n?1:2]),i,h.alloc(1),t],a))}function p(e){for(var t,n=h.allocUnsafe(e),i=0,a=r(2*e),o=0;i<e;)o===a.length&&(a=r(2*e),o=0),(t=a[o++])&&(n[i++]=t);return n}t.exports=function(e,t,n){var r;r=e.padding?e.padding:n?1:4;var a,o=i(e);if(4===r)a=f(o,t);else if(1===r)a=d(o,t,n);else{if(3!==r)throw new Error("unknown padding");if((a=new c(t)).cmp(o.modulus)>=0)throw new Error("data too long for modulus")}return n?u(a,o):l(a,o)}},{"./mgf":121,"./withPublic":124,"./xor":125,"bn.js":16,"browserify-rsa":39,"create-hash":52,"parse-asn1":111,randombytes:126,"safe-buffer":144}],124:[function(e,t,n){var i=e("bn.js"),r=e("safe-buffer").Buffer;t.exports=function(e,t){return r.from(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray())}},{"bn.js":16,"safe-buffer":144}],125:[function(e,t,n){t.exports=function(e,t){for(var n=e.length,i=-1;++i<n;)e[i]^=t[i];return e}},{}],126:[function(e,t,n){(function(n,i){"use strict";var r=65536,a=4294967295;var o=e("safe-buffer").Buffer,s=i.crypto||i.msCrypto;s&&s.getRandomValues?t.exports=function(e,t){if(e>a)throw new RangeError("requested too many random bytes");var i=o.allocUnsafe(e);if(e>0)if(e>r)for(var c=0;c<e;c+=r)s.getRandomValues(i.slice(c,c+r));else s.getRandomValues(i);if("function"==typeof t)return n.nextTick(function(){t(null,i)});return i}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:119,"safe-buffer":144}],127:[function(e,t,n){(function(t,i){"use strict";function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=e("safe-buffer"),o=e("randombytes"),s=a.Buffer,c=a.kMaxLength,l=i.crypto||i.msCrypto,u=Math.pow(2,32)-1;function h(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>u||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function f(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>u||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>c)throw new RangeError("buffer too small")}function d(e,n,i,r){if(t.browser){var a=e.buffer,s=new Uint8Array(a,n,i);return l.getRandomValues(s),r?void t.nextTick(function(){r(null,e)}):e}if(!r)return o(i).copy(e,n),e;o(i,function(t,i){if(t)return r(t);i.copy(e,n),r(null,e)})}l&&l.getRandomValues||!t.browser?(n.randomFill=function(e,t,n,r){if(!(s.isBuffer(e)||e instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)r=t,t=0,n=e.length;else if("function"==typeof n)r=n,n=e.length-t;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return h(t,e.length),f(n,t,e.length),d(e,t,n,r)},n.randomFillSync=function(e,t,n){void 0===t&&(t=0);if(!(s.isBuffer(e)||e instanceof i.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');h(t,e.length),void 0===n&&(n=e.length-t);return f(n,t,e.length),d(e,t,n)}):(n.randomFill=r,n.randomFillSync=r)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:119,randombytes:126,"safe-buffer":144}],128:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":129}],129:[function(e,t,n){"use strict";var i=e("process-nextick-args"),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=h;var a=Object.create(e("core-util-is"));a.inherits=e("inherits");var o=e("./_stream_readable"),s=e("./_stream_writable");a.inherits(h,o);for(var c=r(s.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},{"./_stream_readable":131,"./_stream_writable":133,"core-util-is":50,inherits:101,"process-nextick-args":118}],130:[function(e,t,n){"use strict";t.exports=a;var i=e("./_stream_transform"),r=Object.create(e("core-util-is"));function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}r.inherits=e("inherits"),r.inherits(a,i),a.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":132,"core-util-is":50,inherits:101}],131:[function(e,t,n){(function(n,i){"use strict";var r=e("process-nextick-args");t.exports=M;var a,o=e("isarray");M.ReadableState=C;e("events").EventEmitter;var s=function(e,t){return e.listeners(t).length},c=e("./internal/streams/stream"),l=e("safe-buffer").Buffer,u=i.Uint8Array||function(){};function h(e){return l.from(e)}function f(e){return l.isBuffer(e)||e instanceof u}var d=Object.create(e("core-util-is"));d.inherits=e("inherits");var p=e("util"),g=void 0;g=p&&p.debuglog?p.debuglog("stream"):function(){};var m,y=e("./internal/streams/BufferList"),b=e("./internal/streams/destroy");d.inherits(M,c);var v=["error","close","destroy","pause","resume"];function _(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function C(t,n){a=a||e("./_stream_duplex"),t=t||{};var i=n instanceof a;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m||(m=e("string_decoder/").StringDecoder),this.decoder=new m(t.encoding),this.encoding=t.encoding)}function M(t){if(a=a||e("./_stream_duplex"),!(this instanceof M))return new M(t);this._readableState=new C(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function S(e,t,n,i,r){var a,o=e._readableState;null===t?(o.reading=!1,N(e,o)):(r||(a=D(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=h(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):R(e,o)):w(e,o,t,!1))):i||(o.reading=!1));return E(o)}function w(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),R(e,t)}function D(e,t){var n;return f(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function E(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),M.prototype.destroy=b.destroy,M.prototype._undestroy=b.undestroy,M.prototype._destroy=function(e,t){this.push(null),t(e)},M.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},M.prototype.unshift=function(e){return S(this,e,null,!0,!1)},M.prototype.isPaused=function(){return!1===this._readableState.flowing},M.prototype.setEncoding=function(t){return m||(m=e("string_decoder/").StringDecoder),this._readableState.decoder=new m(t),this._readableState.encoding=t,this};var A=8388608;function P(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=P(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,T(e)}}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(k,e):k(e))}function k(e){g("emit readable"),e.emit("readable"),K(e)}function R(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(O,e,t))}function O(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(g("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function L(e){return function(){var t=e._readableState;g("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,K(e))}}function x(e){g("readable nexttick read 0"),e.read(0)}function B(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(U,e,t))}function U(e,t){t.reading||(g("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),K(e),t.flowing&&!t.reading&&e.read(0)}function K(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=X(e,t.buffer,t.decoder),n);var n}function X(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?F(e,t):G(e,t),i}function F(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?r+=a:r+=a.slice(0,e),0===(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}function G(e,t){var n=l.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var a=i.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=a.slice(o));break}++r}return t.length-=r,n}function W(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(J,t,e))}function J(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function V(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}M.prototype.read=function(e){g("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return g("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?W(this):T(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&W(this),null;var i,r=t.needReadable;return g("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&g("length less than watermark",r=!0),t.ended||t.reading?g("reading or ended",r=!1):r&&(g("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(i=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&W(this)),null!==i&&this.emit("data",i),i},M.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function(e,t){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,g("pipe count=%d opts=%j",a.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:v;function c(e,t){g("onunpipe"),e===i&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,f())}function l(){g("onend"),e.end()}a.endEmitted?r.nextTick(o):i.once("end",o),e.on("unpipe",c);var u=L(i);e.on("drain",u);var h=!1;function f(){g("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",u),e.removeListener("error",m),e.removeListener("unpipe",c),i.removeListener("end",l),i.removeListener("end",v),i.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||u()}var d=!1;function p(t){g("ondata"),d=!1,!1!==e.write(t)||d||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==V(a.pipes,e))&&!h&&(g("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,d=!0),i.pause())}function m(t){g("onerror",t),v(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),v()}function b(){g("onfinish"),e.removeListener("close",y),v()}function v(){g("unpipe"),i.unpipe(e)}return i.on("data",p),_(e,"error",m),e.once("close",y),e.once("finish",b),e.emit("pipe",i),a.flowing||(g("pipe resume"),i.resume()),e},M.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)i[a].emit("unpipe",this,n);return this}var o=V(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},M.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&T(this):r.nextTick(x,this))}return n},M.prototype.addListener=M.prototype.on,M.prototype.resume=function(){var e=this._readableState;return e.flowing||(g("resume"),e.flowing=!0,B(this,e)),this},M.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},M.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",function(){if(g("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(r){(g("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause())))}),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){g("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=j}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":129,"./internal/streams/BufferList":134,"./internal/streams/destroy":135,"./internal/streams/stream":136,_process:119,"core-util-is":50,events:83,inherits:101,isarray:137,"process-nextick-args":118,"safe-buffer":144,"string_decoder/":138,util:18}],132:[function(e,t,n){"use strict";t.exports=o;var i=e("./_stream_duplex"),r=Object.create(e("core-util-is"));function a(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);i.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){c(e,t,n)}):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=e("inherits"),r.inherits(o,i),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":129,"core-util-is":50,inherits:101}],133:[function(e,t,n){(function(n,i){"use strict";var r=e("process-nextick-args");function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){x(t,e)}}t.exports=v;var o,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:r.nextTick;v.WritableState=b;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var l={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,f=i.Uint8Array||function(){};function d(e){return h.from(e)}function p(e){return h.isBuffer(e)||e instanceof f}var g,m=e("./internal/streams/destroy");function y(){}function b(t,n){o=o||e("./_stream_duplex"),t=t||{};var i=n instanceof o;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,s=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(s||0===s)?s:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){A(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(t){if(o=o||e("./_stream_duplex"),!(g.call(v,this)||this instanceof o))return new v(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function _(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}function C(e,t,n,i){var a=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),r.nextTick(i,o),a=!1),a}function M(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n)),t}function S(e,t,n,i,r,a){if(!n){var o=M(t,i,r);i!==o&&(n=!0,r="buffer",i=o)}var s=t.objectMode?1:i.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else w(e,t,!1,s,i,r,a);return c}function w(e,t,n,i,r,a,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,a,t.onwrite),t.sync=!1}function D(e,t,n,i,a){--t.pendingcb,n?(r.nextTick(a,i),r.nextTick(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(a(i),e._writableState.errorEmitted=!0,e.emit("error",i),O(e,t))}function E(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function A(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(E(n),t)D(e,n,i,t,r);else{var a=T(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||N(e,n),i?s(P,e,n,a,r):P(e,n,a,r)}}function P(e,t,n,i){n||I(e,t),t.pendingcb--,i(),O(e,t)}function I(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function N(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)r[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;r.allBuffers=c,w(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,h=n.callback;if(w(e,t,!1,t.objectMode?1:l.length,l,u,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),O(e,t)})}function R(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function O(e,t){var n=T(t);return n&&(R(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function L(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function x(e,t,n){var i=e.entry;for(e.entry=null;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}c.inherits(v,u),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!g.call(this,e)||this===v&&(e&&e._writableState instanceof b)}})):g=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var i=this._writableState,r=!1,a=!i.objectMode&&p(e);return a&&!h.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=y),i.ended?_(this,n):(a||C(this,i,e,n))&&(i.pendingcb++,r=S(this,i,a,e,t,n)),r},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||N(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||L(this,i,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":129,"./internal/streams/destroy":135,"./internal/streams/stream":136,_process:119,"core-util-is":50,inherits:101,"process-nextick-args":118,"safe-buffer":144,"util-deprecate":155}],134:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=e("safe-buffer").Buffer,a=e("util");function o(e,t,n){e.copy(t,n)}t.exports=function(){function e(){i(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)o(n.data,t,i),i+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":144,util:18}],135:[function(e,t,n){"use strict";var i=e("process-nextick-args");function r(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":118}],136:[function(e,t,n){t.exports=e("events").EventEmitter},{events:83}],137:[function(e,t,n){arguments[4][48][0].apply(n,arguments)},{dup:48}],138:[function(e,t,n){"use strict";var i=e("safe-buffer").Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=a(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=f,this.end=d,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=p,this.end=g,t=3;break;default:return this.write=m,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function c(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e,t,n){var i=t.length-1;if(i<n)return 0;var r=c(t[i]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--i<n||-2===r?0:(r=c(t[i]))>=0?(r>0&&(e.lastNeed=r-2),r):--i<n||-2===r?0:(r=c(t[i]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}function u(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}function h(e){var t=this.lastTotal-this.lastNeed,n=u(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function f(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function p(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function g(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}n.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},s.prototype.text=function(e,t){var n=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":144}],139:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":140}],140:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":129,"./lib/_stream_passthrough.js":130,"./lib/_stream_readable.js":131,"./lib/_stream_transform.js":132,"./lib/_stream_writable.js":133}],141:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":140}],142:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":133}],143:[function(e,t,n){"use strict";var i=e("buffer").Buffer,r=e("inherits"),a=e("hash-base"),o=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function g(e,t,n,i,r,a,o,s){return p(e+(t^n^i)+a+o|0,s)+r|0}function m(e,t,n,i,r,a,o,s){return p(e+(t&n|~t&i)+a+o|0,s)+r|0}function y(e,t,n,i,r,a,o,s){return p(e+((t|~n)^i)+a+o|0,s)+r|0}function b(e,t,n,i,r,a,o,s){return p(e+(t&i|n&~i)+a+o|0,s)+r|0}function v(e,t,n,i,r,a,o,s){return p(e+(t^(n|~i))+a+o|0,s)+r|0}r(d,a),d.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,i=0|this._b,r=0|this._c,a=0|this._d,d=0|this._e,_=0|this._a,C=0|this._b,M=0|this._c,S=0|this._d,w=0|this._e,D=0;D<80;D+=1){var E,A;D<16?(E=g(n,i,r,a,d,e[s[D]],h[0],l[D]),A=v(_,C,M,S,w,e[c[D]],f[0],u[D])):D<32?(E=m(n,i,r,a,d,e[s[D]],h[1],l[D]),A=b(_,C,M,S,w,e[c[D]],f[1],u[D])):D<48?(E=y(n,i,r,a,d,e[s[D]],h[2],l[D]),A=y(_,C,M,S,w,e[c[D]],f[2],u[D])):D<64?(E=b(n,i,r,a,d,e[s[D]],h[3],l[D]),A=m(_,C,M,S,w,e[c[D]],f[3],u[D])):(E=v(n,i,r,a,d,e[s[D]],h[4],l[D]),A=g(_,C,M,S,w,e[c[D]],f[4],u[D])),n=d,d=a,a=p(r,10),r=i,i=E,_=w,w=S,S=p(M,10),M=C,C=A}var P=this._b+r+S|0;this._b=this._c+a+w|0,this._c=this._d+d+_|0,this._d=this._e+n+C|0,this._e=this._a+i+M|0,this._a=P},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=d},{buffer:47,"hash-base":85,inherits:101}],144:[function(e,t,n){var i=e("buffer"),r=i.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(a(i,n),n.Buffer=o),a(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{buffer:47}],145:[function(e,t,n){var i=e("safe-buffer").Buffer;function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var c=o%r,l=Math.min(a-s,r-c),u=0;u<l;u++)n[c+u]=e[s+u];s+=l,(o+=l)%r==0&&this._update(n)}return this._len+=a,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r},{"safe-buffer":144}],146:[function(e,t,n){(n=t.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t}).sha=e("./sha"),n.sha1=e("./sha1"),n.sha224=e("./sha224"),n.sha256=e("./sha256"),n.sha384=e("./sha384"),n.sha512=e("./sha512")},{"./sha":147,"./sha1":148,"./sha224":149,"./sha256":150,"./sha384":151,"./sha512":152}],147:[function(e,t,n){var i=e("inherits"),r=e("./hash"),a=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function l(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function h(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._a,i=0|this._b,r=0|this._c,a=0|this._d,s=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var f=0;f<80;++f){var d=~~(f/20),p=l(n)+h(d,i,r,a)+s+t[f]+o[d]|0;s=a,a=r,r=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":145,inherits:101,"safe-buffer":144}],148:[function(e,t,n){var i=e("inherits"),r=e("./hash"),a=e("safe-buffer").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function l(e){return e<<1|e>>>31}function u(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function f(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._a,i=0|this._b,r=0|this._c,a=0|this._d,s=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=l(t[c-3]^t[c-8]^t[c-14]^t[c-16]);for(var d=0;d<80;++d){var p=~~(d/20),g=u(n)+f(p,i,r,a)+s+t[d]+o[p]|0;s=a,a=r,r=h(i),i=n,n=g}this._a=n+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=c},{"./hash":145,inherits:101,"safe-buffer":144}],149:[function(e,t,n){var i=e("inherits"),r=e("./sha256"),a=e("./hash"),o=e("safe-buffer").Buffer,s=new Array(64);function c(){this.init(),this._w=s,a.call(this,64,56)}i(c,r),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=c},{"./hash":145,"./sha256":150,inherits:101,"safe-buffer":144}],150:[function(e,t,n){var i=e("inherits"),r=e("./hash"),a=e("safe-buffer").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,r.call(this,64,56)}function l(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}i(c,r),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._a,i=0|this._b,r=0|this._c,a=0|this._d,s=0|this._e,c=0|this._f,g=0|this._g,m=0|this._h,y=0;y<16;++y)t[y]=e.readInt32BE(4*y);for(;y<64;++y)t[y]=p(t[y-2])+t[y-7]+d(t[y-15])+t[y-16]|0;for(var b=0;b<64;++b){var v=m+f(s)+l(s,c,g)+o[b]+t[b]|0,_=h(n)+u(n,i,r)|0;m=g,g=c,c=s,s=a+v|0,a=r,r=i,i=n,n=v+_|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=c+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=c},{"./hash":145,inherits:101,"safe-buffer":144}],151:[function(e,t,n){var i=e("inherits"),r=e("./sha512"),a=e("./hash"),o=e("safe-buffer").Buffer,s=new Array(160);function c(){this.init(),this._w=s,a.call(this,128,112)}i(c,r),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=c},{"./hash":145,"./sha512":152,inherits:101,"safe-buffer":144}],152:[function(e,t,n){var i=e("inherits"),r=e("./hash"),a=e("safe-buffer").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,r.call(this,128,112)}function l(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}i(c,r),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,a=0|this._dh,s=0|this._eh,c=0|this._fh,b=0|this._gh,v=0|this._hh,_=0|this._al,C=0|this._bl,M=0|this._cl,S=0|this._dl,w=0|this._el,D=0|this._fl,E=0|this._gl,A=0|this._hl,P=0;P<32;P+=2)t[P]=e.readInt32BE(4*P),t[P+1]=e.readInt32BE(4*P+4);for(;P<160;P+=2){var I=t[P-30],N=t[P-30+1],T=d(I,N),k=p(N,I),R=g(I=t[P-4],N=t[P-4+1]),O=m(N,I),L=t[P-14],x=t[P-14+1],B=t[P-32],U=t[P-32+1],K=k+x|0,j=T+L+y(K,k)|0;j=(j=j+R+y(K=K+O|0,O)|0)+B+y(K=K+U|0,U)|0,t[P]=j,t[P+1]=K}for(var X=0;X<160;X+=2){j=t[X],K=t[X+1];var F=u(n,i,r),G=u(_,C,M),W=h(n,_),J=h(_,n),V=f(s,w),H=f(w,s),z=o[X],q=o[X+1],Y=l(s,c,b),Q=l(w,D,E),Z=A+H|0,$=v+V+y(Z,A)|0;$=($=($=$+Y+y(Z=Z+Q|0,Q)|0)+z+y(Z=Z+q|0,q)|0)+j+y(Z=Z+K|0,K)|0;var ee=J+G|0,te=W+F+y(ee,J)|0;v=b,A=E,b=c,E=D,c=s,D=w,s=a+$+y(w=S+Z|0,S)|0,a=r,S=M,r=i,M=C,i=n,C=_,n=$+te+y(_=Z+ee|0,Z)|0}this._al=this._al+_|0,this._bl=this._bl+C|0,this._cl=this._cl+M|0,this._dl=this._dl+S|0,this._el=this._el+w|0,this._fl=this._fl+D|0,this._gl=this._gl+E|0,this._hl=this._hl+A|0,this._ah=this._ah+n+y(this._al,_)|0,this._bh=this._bh+i+y(this._bl,C)|0,this._ch=this._ch+r+y(this._cl,M)|0,this._dh=this._dh+a+y(this._dl,S)|0,this._eh=this._eh+s+y(this._el,w)|0,this._fh=this._fh+c+y(this._fl,D)|0,this._gh=this._gh+b+y(this._gl,E)|0,this._hh=this._hh+v+y(this._hl,A)|0},c.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=c},{"./hash":145,inherits:101,"safe-buffer":144}],153:[function(e,t,n){t.exports=r;var i=e("events").EventEmitter;function r(){i.call(this)}e("inherits")(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var o=!1;function s(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",r),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},{events:83,inherits:101,"readable-stream/duplex.js":128,"readable-stream/passthrough.js":139,"readable-stream/readable.js":140,"readable-stream/transform.js":141,"readable-stream/writable.js":142}],154:[function(e,t,n){var i=e("buffer").Buffer,r=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){if(e&&!r(e))throw new Error("Unknown encoding: "+e)}var o=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),a(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=c;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=l;break;default:return void(this.write=s)}this.charBuffer=new i(6),this.charReceived=0,this.charLength=0};function s(e){return e.toString(this.encoding)}function c(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function l(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((r=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived);var r;i=(t+=e.toString(this.encoding,0,i)).length-1;if((r=t.charCodeAt(i))>=55296&&r<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),e.copy(this.charBuffer,0,0,a),t.substring(0,i)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;t+=i.slice(0,n).toString(r)}return t}},{buffer:47}],155:[function(e,t,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],156:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,i=n.eval,r=n.execScript;!i&&r&&(r.call(n,"null"),i=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var a=Object_keys(n),o=i.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(a,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},{indexof:100}],AgreementView:[function(e,t,n){"use strict";cc._RF.push(t,"dd34dhIKVhPR7iR7k9Iz/k9","AgreementView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../manager/EventManager"),r=e("../manager/UIManager"),a=e("../Define"),o=e("./base/PopupView"),s=(e("../libs/pbkiller/src/pbkiller"),cc._decorator),c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.labelon=null,t._pb=null,t}return __extends(t,e),t.prototype.start=function(){r.UIManager.hideMarquee()},t.prototype.onLoad=function(){this.labelon.string="\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8bb8\u53ef\u53ca\u670d\u52a1\u534f\u8bae",this.label.string="   \u300a\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8bb8\u53ef\u53ca\u670d\u52a1\u534f\u8bae\u300b\uff08\u4ee5\u4e0b\u7b80\u79f0\u201c\u672c\u534f\u8bae\u201d\uff09\u7531\u60a8\u4e0e\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u63d0\u4f9b\u65b9\u540c\u7f14\u7ed3\uff0c\u672c\u534f\u8bae\u5177\u6709\u5408\u540c\u6548\u529b\u3002\u8bf7\u60a8\u52a1\u5fc5\u5ba1\u614e\u9605\u8bfb\u3001\u5145\u5206\u7406\u89e3\u5404\u6761\u6b3e\u5185\u5bb9\uff0c\u7279\u522b\u662f\u514d\u9664\u6216\u8005\u9650\u5236\u540c\u6e38\u5a31\u4e50\u8d23\u4efb\u7684\u6761\u6b3e\uff08\u4ee5\u4e0b\u79f0\u201c\u514d\u8d23\u6761\u6b3e\u201d\uff09\u3001\u5bf9\u7528\u6237\u6743\u5229\u8fdb\u884c\u9650\u5236\u7684\u6761\u6b3e\uff08\u4ee5\u4e0b\u79f0\u201c\u9650\u5236\u6761\u6b3e\u201d\uff09\u3001\u7ea6\u5b9a\u4e89\u8bae\u89e3\u51b3\u65b9\u5f0f\u548c\u53f8\u6cd5\u7ba1\u8f96\u7684\u6761\u6b3e\uff0c\u4ee5\u53ca\u5f00\u901a\u6216\u4f7f\u7528\u67d0\u9879\u670d\u52a1\u7684\u5355\u72ec\u534f\u8bae\u3002\u524d\u8ff0\u514d\u8d23\u3001\u9650\u5236\u53ca\u4e89\u8bae\u89e3\u51b3\u65b9\u5f0f\u548c\u7ba1\u8f96\u6761\u6b3e\u53ef\u80fd\u4ee5\u9ed1\u4f53\u52a0\u7c97\u3001\u989c\u8272\u6807\u8bb0\u6216\u5176\u4ed6\u5408\u7406\u65b9\u5f0f\u63d0\u9192\u60a8\u6ce8\u610f\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u672c\u534f\u8bae\u7b2c\u4e8c\u6761\u3001\u7b2c\u4e09\u6761\u3001\u7b2c\u56db\u6761\u3001\u7b2c\u516d\u6761\u3001\u7b2c\u4e5d\u6761\u7b49\u76f8\u5173\u6761\u6b3e\uff0c\u60a8\u5bf9\u8be5\u7b49\u6761\u6b3e\u7684\u786e\u8ba4\u5c06\u53ef\u80fd\u5bfc\u81f4\u60a8\u5728\u7279\u5b9a\u60c5\u51b5\u4e0b\u7684\u88ab\u52a8\u3001\u4e0d\u4fbf\u3001\u635f\u5931\uff0c\u8bf7\u60a8\u5728\u786e\u8ba4\u540c\u610f\u672c\u534f\u8bae\u4e4b\u524d\u6216\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u4e4b\u524d\u518d\u6b21\u9605\u8bfb\u524d\u8ff0\u6761\u6b3e\u3002\n    \u9664\u975e\u60a8\u5df2\u5145\u5206\u9605\u8bfb\u3001\u5b8c\u5168\u7406\u89e3\u5e76\u63a5\u53d7\u672c\u534f\u8bae\u6240\u6709\u6761\u6b3e\uff0c\u5426\u5219\u60a8\u65e0\u6743\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u3002\u60a8\u70b9\u51fb\u201c\u540c\u610f\u201d\u6216\u201c\u4e0b\u4e00\u6b65\u201d\uff0c\u6216\u60a8\u6ce8\u518c\u3001\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u5747\u89c6\u4e3a\u60a8\u5df2\u9605\u8bfb\u5e76\u540c\u610f\u7b7e\u7f72\u672c\u534f\u8bae\u3002\u672c\u534f\u8bae\u5373\u5728\u60a8\u4e0e\u540c\u6e38\u5a31\u4e50\u4e4b\u95f4\u4ea7\u751f\u6cd5\u5f8b\u6548\u529b\uff0c\u6210\u4e3a\u5bf9\u53cc\u65b9\u5177\u6709\u7ea6\u675f\u529b\u7684\u6cd5\u5f8b\u6587\u4ef6\u3002\n  \u5982\u679c\u60a8\u672a\u6ee118\u5468\u5c81\uff0c\u8bf7\u5728\u6cd5\u5b9a\u76d1\u62a4\u4eba\u7684\u966a\u540c\u4e0b\u9605\u8bfb\u672c\u534f\u8bae\uff0c\u5e76\u7279\u522b\u6ce8\u610f\u672a\u6210\u5e74\u4eba\u4f7f\u7528\u6761\u6b3e\u3002\u5982\u60a8\u672a\u6210\u5e74\u4eba\u6cd5\u5b9a\u76d1\u62a4\u4eba\uff0c\u5e0c\u671b\u5408\u7406\u8bbe\u5b9a\u5b69\u5b50\u5a31\u4e50\u65f6\u95f4\uff0c\u57f9\u517b\u5b69\u5b50\u5065\u5eb7\u6e38\u620f\u4e60\u60ef\u7684\uff0c\u53ef\u4f9d\u636e\u76f8\u5173\u89c4\u5219\u767b\u5f55\u540c\u6e38\u5a31\u4e50\u6210\u957f\u5b88\u62a4\u5e73\u53f0\u4e86\u89e3\u76f8\u5173\u4fe1\u606f\uff0c\u60a8\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6210\u957f\u5b88\u62a4\u5e73\u53f0\u7684\uff0c\u5e94\u9075\u5b88\u8be5\u5e73\u53f0\u7684\u300a\u6210\u957f\u5b88\u62a4\u5e73\u53f0\u8bb8\u53ef\u53ca\u670d\u52a1\u534f\u8bae\u300b\u3002\n    \u4e00\u3001\u5b9a\u4e49\n\n1.1 \u672c\u534f\u8bae\uff1a\u6307\u672c\u534f\u8bae\u6b63\u6587\u3001\u300a\u540c\u6e38\u5a31\u4e50\u670d\u52a1\u534f\u8bae\u300b\u3001\u300a\u540c\u6e38\u5a31\u4e50\u9690\u79c1\u653f\u7b56\u300b\u3001\u6e38\u620f\u89c4\u5219\u53ca\u5176\u4fee\u8ba2\u7248\u672c\u3002\u4e0a\u8ff0\u5185\u5bb9\u4e00\u7ecf\u6b63\u5f0f\u53d1\u5e03\uff0c\u5373\u4e3a\u672c\u534f\u8bae\u4e0d\u53ef\u5206\u5272\u7684\u7ec4\u6210\u90e8\u5206\u3002\u672c\u534f\u8bae\u540c\u65f6\u8fd8\u5305\u62ec\u6587\u5316\u90e8\u6839\u636e\u300a\u7f51\u7edc\u6e38\u620f\u7ba1\u7406\u6682\u884c\u529e\u6cd5\u300b\uff08\u6587\u5316\u90e8\u4ee4\u7b2c49\u53f7\uff09\u5236\u5b9a\u7684\u300a\u7f51\u7edc\u6e38\u620f\u670d\u52a1\u683c\u5f0f\u5316\u534f\u8bae\u5fc5\u5907\u6761\u6b3e\u300b\u3002\n\n1.2 \u6e38\u620f\u89c4\u5219\uff1a\u6307\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u63d0\u4f9b\u65b9\u4e0d\u65f6\u53d1\u5e03\u5e76\u4fee\u8ba2\u7684\u5173\u4e8e\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u7528\u6237\u5b88\u5219\u3001\u73a9\u5bb6\u6761\u4f8b\u3001\u6e38\u620f\u516c\u544a\u3001\u63d0\u793a\u53ca\u901a\u77e5\u7b49\u5185\u5bb9\u3002\n\n1.3 \u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u63d0\u4f9b\u65b9\uff1a\u6307\u5411\u60a8\u63d0\u4f9b\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ca\u5176\u670d\u52a1\u7684\u6e56\u5317\u540c\u6e38\u5a31\u4e50\u79d1\u6280\u6709\u9650\u516c\u53f8\uff0c\u5728\u672c\u534f\u8bae\u4e2d\u7b80\u79f0\u4e3a\u201c\u540c\u6e38\u5a31\u4e50\u201d\u3002\n\n1.4 \u540c\u6e38\u5a31\u4e50\u6e38\u620f\uff1a\u6307\u7531\u540c\u6e38\u5a31\u4e50\u8d1f\u8d23\u8fd0\u8425\u7684\u6e38\u620f\u7684\u7edf\u79f0\uff0c\u5305\u62ec\u8ba1\u7b97\u673a\u5ba2\u6237\u7aef\u6e38\u620f\u3001\u7f51\u9875\u6e38\u620f\u3001HTML5\u6e38\u620f\uff08H5\u6e38\u620f\uff09\u3001\u79fb\u52a8\u7ec8\u7aef\u6e38\u620f\u3001\u4ee5\u53ca\u5176\u4ed6\u5f62\u5f0f\u7684\u6e38\u620f\uff1b\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ef\u80fd\u4ee5\u8f6f\u4ef6\u5f62\u5f0f\u63d0\u4f9b\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8fd8\u5305\u62ec\u8be5\u76f8\u5173\u8f6f\u4ef6\u53ca\u76f8\u5173\u6587\u6863\u3002\n\n1.5 \u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\uff1a\u6307\u540c\u6e38\u5a31\u4e50\u5411\u60a8\u63d0\u4f9b\u7684\u4e0e\u6e38\u620f\u76f8\u5173\u7684\u670d\u52a1\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a\u5728\u7ebf\u6e38\u620f\u3001\u5373\u65f6\u901a\u8baf\u3001\u4e92\u52a8\u5a31\u4e50\u3001\u4fe1\u606f\u6280\u672f\u54a8\u8be2\u670d\u52a1\u3001\u6570\u636e\u5904\u7406\u3001\u5b58\u50a8\u670d\u52a1\u7b49\u4ea7\u54c1\u53ca\u670d\u52a1\uff0c\u5177\u4f53\u670d\u52a1\u4ee5\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u5b9e\u9645\u63d0\u4f9b\u7684\u670d\u52a1\u4e3a\u51c6\u3002\n\n1.6 \u60a8\uff1a\u53c8\u79f0\u201c\u73a9\u5bb6\u201d\u6216\u201c\u7528\u6237\u201d\uff0c\u6307\u88ab\u6388\u6743\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ca\u5176\u670d\u52a1\u7684\u81ea\u7136\u4eba\u3002\n\n1.7 \u6e38\u620f\u6570\u636e\uff1a\u6307\u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u88ab\u670d\u52a1\u5668\u8bb0\u5f55\u7684\u5404\u79cd\u6570\u636e\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u89d2\u8272\u6570\u636e\u3001\u865a\u62df\u7269\u54c1\u6570\u636e\u3001\u884c\u4e3a\u65e5\u5fd7\u3001\u8d2d\u4e70\u65e5\u5fd7\u7b49\u7b49\u6570\u636e\u3002\n\n\u4e8c\u3001\u6e38\u620f\u8d26\u53f7\n\n2.1 \u7528\u6237\u627f\u8bfa\u4ee5\u5176\u771f\u5b9e\u8eab\u4efd\u6ce8\u518c\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8d26\u53f7\uff0c\u5e76\u4fdd\u8bc1\u6240\u63d0\u4f9b\u7684\u4e2a\u4eba\u8eab\u4efd\u8d44\u6599\u4fe1\u606f\u771f\u5b9e\u3001\u5b8c\u6574\u3001\u6709\u6548\uff0c\u4f9d\u636e\u6cd5\u5f8b\u89c4\u5b9a\u548c\u672c\u534f\u8bae\u7ea6\u5b9a\u5bf9\u6240\u63d0\u4f9b\u7684\u4fe1\u606f\u627f\u62c5\u76f8\u5e94\u7684\u6cd5\u5f8b\u8d23\u4efb\u3002\u5426\u5219\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u7ec8\u6b62\u4e3a\u60a8\u63d0\u4f9b\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\uff0c\u5e76\u6709\u6743\u5bf9\u60a8\u7684\u6e38\u620f\u8d26\u53f7\u91c7\u53d6\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u8b66\u544a\u3001\u9650\u5236\u6216\u7981\u6b62\u4f7f\u7528\u6e38\u620f\u8d26\u53f7\u5168\u90e8\u6216\u90e8\u5206\u529f\u80fd\u3001\u5220\u9664\u6e38\u620f\u8d26\u53f7\u53ca\u6e38\u620f\u6570\u636e\u3001\u5220\u9664\u76f8\u5173\u4fe1\u606f\u3001\u6e38\u620f\u8d26\u53f7\u5c01\u7981\uff08\u4ee5\u4e0b\u6709\u65f6\u7b80\u79f0\u201c\u5c01\u53f7\u201d\uff09\u76f4\u81f3\u6ce8\u9500\u7684\u5904\u7406\u63aa\u65bd\uff08\u4e3a\u63cf\u8ff0\u65b9\u4fbf\uff0c\u4ee5\u4e0b\u6709\u65f6\u4e5f\u5c06\u8be5\u7b49\u5904\u7406\u63aa\u65bd\u79f0\u4e3a\u201c\u5904\u7f5a\u201d\uff09\uff0c\u56e0\u6b64\u9020\u6210\u7684\u4e00\u5207\u540e\u679c\u7531\u60a8\u81ea\u884c\u627f\u62c5\u3002\n\n\u82e5\u60a8\u4e0d\u8fdb\u884c\u5b9e\u540d\u6ce8\u518c\u7684\uff0c\u6216\u60a8\u63d0\u4f9b\u7684\u6ce8\u518c\u4fe1\u606f\u4e0d\u5b8c\u6574\u7684\uff0c\u5219\u60a8\u53ef\u80fd\u65e0\u6cd5\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6216\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8fc7\u7a0b\u4e2d\u4f1a\u53d7\u5230\u76f8\u5e94\u9650\u5236\u3002\n\n2.2 \u60a8\u8fdb\u4e00\u6b65\u77e5\u6089\u5e76\u540c\u610f\uff0c\u60a8\u5728\u6e38\u5ba2\u6a21\u5f0f\u4e0b\u53ef\u80fd\u65e0\u6cd5\u8fdb\u884c\u6e38\u620f\u5145\u503c\u6216\u6d88\u8d39\u3002\u4e14\u4e00\u65e6\u60a8\u5378\u8f7d\u6216\u91cd\u88c5\u540c\u6e38\u5a31\u4e50\u6e38\u620f\uff0c\u6216\u60a8\u66f4\u6362\u624b\u673a\u3001\u7535\u8111\u7b49\u7ec8\u7aef\u8bbe\u5907\u6216\u8be5\u7b49\u7ec8\u7aef\u8bbe\u5907\u635f\u574f\u7684\uff0c\u60a8\u5728\u8be5\u6e38\u5ba2\u6a21\u5f0f\u4e0b\u6240\u6709\u6e38\u620f\u76f8\u5173\u6570\u636e\u53ef\u80fd\u90fd\u5c06\u4f1a\u88ab\u6e05\u7a7a\uff0c\u4e14\u65e0\u6cd5\u67e5\u8be2\u548c\u6062\u590d\u3002\n\n\u5982\u56e0\u6b64\u9020\u6210\u60a8\u4efb\u4f55\u635f\u5931\u7684\uff0c\u5747\u7531\u60a8\u81ea\u884c\u627f\u62c5\u3002\n\n\u60a8\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u8ba4\u53ef\u7684\u7b2c\u4e09\u65b9\u8d26\u53f7\u4f5c\u4e3a\u6e38\u620f\u8d26\u53f7\u4f7f\u7528\u548c\u4eab\u53d7\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\uff0c\u60a8\u8fd8\u5e94\u9075\u5b88\u6709\u5173\u8be5\u7b2c\u4e09\u65b9\u8d26\u53f7\u7684\u534f\u8bae\u3001\u89c4\u5219\uff0c\u4e14\u56e0\u8be5\u7b2c\u4e09\u65b9\u8d26\u53f7\u4ea7\u751f\u7684\u76f8\u5173\u95ee\u9898\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u88ab\u76d7\u7b49\uff0c\u60a8\u5e94\u81ea\u884c\u8054\u7cfb\u8be5\u7b2c\u4e09\u65b9\u8fdb\u884c\u89e3\u51b3\uff0c\u540c\u6e38\u5a31\u4e50\u53ef\u89c6\u60c5\u51b5\u63d0\u4f9b\u76f8\u5e94\u7684\u534f\u52a9\u3002\n\n2.3 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff1a\u4e3a\u5224\u65ad\u6216\u6838\u5b9e\u60a8\u63d0\u4f9b\u7684\u76f8\u5173\u5b9e\u540d\u6ce8\u518c\u4fe1\u606f\u662f\u5426\u771f\u5b9e\u6216\u6709\u6548\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u5c06\u60a8\u63d0\u4f9b\u7684\u5b9e\u540d\u6ce8\u518c\u4fe1\u606f\u63d0\u4f9b\u7ed9\u7b2c\u4e09\u65b9\u8fdb\u884c\u6574\u7406\u3001\u4fdd\u5b58\u53ca\u6bd4\u5bf9\u7b49\u5904\u7406\u3002\u4e14\u540c\u6e38\u5a31\u4e50\u4f1a\u6309\u7167\u56fd\u5bb6\u76f8\u5173\u8981\u6c42\u5c06\u60a8\u7684\u5b9e\u540d\u6ce8\u518c\u4fe1\u606f\u8fd0\u7528\u4e8e\u9632\u6c89\u8ff7\u7cfb\u7edf\u4e4b\u4e2d\uff0c\u5373\u540c\u6e38\u5a31\u4e50\u53ef\u80fd\u4f1a\u6839\u636e\u60a8\u7684\u5b9e\u540d\u6ce8\u518c\u4fe1\u606f\u5224\u65ad\u60a8\u662f\u5426\u5e74\u6ee118\u5468\u5c81\u3001\u60a8\u63d0\u4ea4\u7684\u5b9e\u540d\u8eab\u4efd\u4fe1\u606f\u662f\u5426\u89c4\u8303\u6216\u5b9e\u540d\u9a8c\u8bc1\u662f\u5426\u901a\u8fc7\u7b49\uff0c\u4ece\u800c\u51b3\u5b9a\u662f\u5426\u5bf9\u60a8\u7684\u6e38\u620f\u8d26\u53f7\u4e88\u4ee5\u9632\u6c89\u8ff7\u9650\u5236\u3002\n\n2.4 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u5ba1\u67e5\u7528\u6237\u6ce8\u518c\u6240\u63d0\u4f9b\u7684\u8eab\u4efd\u4fe1\u606f\u662f\u5426\u771f\u5b9e\u3001\u6709\u6548\uff0c\u5e76\u5e94\u79ef\u6781\u5730\u91c7\u53d6\u6280\u672f\u4e0e\u7ba1\u7406\u7b49\u5408\u7406\u63aa\u65bd\u4fdd\u969c\u7528\u6237\u8d26\u53f7\u7684\u5b89\u5168\u3001\u6709\u6548\uff1b\u7528\u6237\u6709\u4e49\u52a1\u59a5\u5584\u4fdd\u7ba1\u5176\u8d26\u53f7\u53ca\u5bc6\u7801\uff0c\u5e76\u6b63\u786e\u3001\u5b89\u5168\u5730\u4f7f\u7528\u5176\u8d26\u53f7\u53ca\u5bc6\u7801\u3002\u4efb\u4f55\u4e00\u65b9\u672a\u5c3d\u4e0a\u8ff0\u4e49\u52a1\u5bfc\u81f4\u8d26\u53f7\u5bc6\u7801\u9057\u5931\u3001\u8d26\u53f7\u88ab\u76d7\u7b49\u60c5\u5f62\u800c\u7ed9\u7528\u6237\u548c\u4ed6\u4eba\u7684\u6c11\u4e8b\u6743\u5229\u9020\u6210\u635f\u5bb3\u7684\uff0c\u5e94\u5f53\u627f\u62c5\u7531\u6b64\u4ea7\u751f\u7684\u6cd5\u5f8b\u8d23\u4efb\u3002\n\n\u82e5\u60a8\u53d1\u73b0\u6709\u4ed6\u4eba\u5192\u7528\u6216\u76d7\u7528\u60a8\u7684\u6e38\u620f\u8d26\u53f7\u53ca\u5bc6\u7801\u3001\u6216\u4efb\u4f55\u5176\u4ed6\u672a\u7ecf\u60a8\u5408\u6cd5\u6388\u6743\u4f7f\u7528\u7684\u60c5\u5f62\u65f6\uff0c\u5e94\u7acb\u5373\u4ee5\u540c\u6e38\u5a31\u4e50\u8981\u6c42\u7684\u6709\u6548\u65b9\u5f0f\u901a\u77e5\u540c\u6e38\u5a31\u4e50\u5e76\u544a\u77e5\u540c\u6e38\u5a31\u4e50\u9700\u91c7\u53d6\u7684\u63aa\u65bd\u3002\u60a8\u901a\u77e5\u540c\u6e38\u5a31\u4e50\u65f6\uff0c\u5e94\u63d0\u4f9b\u4e0e\u60a8\u6ce8\u518c\u8eab\u4efd\u4fe1\u606f\u76f8\u4e00\u81f4\u7684\u4e2a\u4eba\u6709\u6548\u8eab\u4efd\u4fe1\u606f\uff0c\u540c\u6e38\u5a31\u4e50\u6536\u5230\u60a8\u7684\u6709\u6548\u8bf7\u6c42\u5e76\u6838\u5b9e\u8eab\u4efd\u540e\uff0c\u4f1a\u6839\u636e\u60a8\u7684\u8981\u6c42\u6216\u7ed3\u5408\u5177\u4f53\u60c5\u51b5\u91c7\u53d6\u76f8\u5e94\u63aa\u65bd\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u6682\u505c\u8be5\u8d26\u53f7\u7684\u767b\u5f55\u548c\u4f7f\u7528\u7b49\uff09\uff0c\u540c\u6e38\u5a31\u4e50\u56e0\u6839\u636e\u60a8\u7684\u8bf7\u6c42\u91c7\u53d6\u76f8\u5e94\u63aa\u65bd\u800c\u9020\u6210\u60a8\u53ca\u5176\u4ed6\u7528\u6237\u635f\u5931\u7684\uff0c\u7531\u60a8\u81ea\u884c\u627f\u62c5\u3002\u82e5\u60a8\u6ca1\u6709\u63d0\u4f9b\u6709\u6548\u8eab\u4efd\u4fe1\u606f\u6216\u60a8\u63d0\u4f9b\u7684\u4e2a\u4eba\u6709\u6548\u8eab\u4efd\u4fe1\u606f\u4e0e\u6240\u6ce8\u518c\u7684\u8eab\u4efd\u4fe1\u606f\u4e0d\u4e00\u81f4\u7684\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u62d2\u7edd\u60a8\u7684\u8bf7\u6c42\uff0c\u56e0\u6b64\u9020\u6210\u60a8\u635f\u5931\u7684\uff0c\u7531\u60a8\u81ea\u884c\u627f\u62c5\u3002\n\n2.5 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff0c\u4e3a\u9ad8\u6548\u5229\u7528\u670d\u52a1\u5668\u8d44\u6e90\uff0c\u5982\u679c\u60a81\u5e74\u5185\u672a\u4f7f\u7528\u6e38\u620f\u8d26\u53f7\u767b\u5f55\u540c\u6e38\u5a31\u4e50\u6e38\u620f\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u5728\u63d0\u524d\u901a\u77e5\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u8be5\u8d26\u53f7\u53ca\u5176\u8d26\u53f7\u4e0b\u7684\u6e38\u620f\u6570\u636e\u53ca\u76f8\u5173\u4fe1\u606f\u91c7\u53d6\u5220\u9664\u7b49\u5904\u7f6e\u63aa\u65bd\u3002\n\n2.6 \u60a8\u7406\u89e3\u5e76\u540c\u610f\uff0c\u60a8\u4e0d\u5f97\u5c06\u6e38\u620f\u8d26\u53f7\u4ee5\u4efb\u4f55\u65b9\u5f0f\u63d0\u4f9b\u7ed9\u4ed6\u4eba\u4f7f\u7528\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4e0d\u5f97\u4ee5\u8f6c\u8ba9\u3001\u51fa\u79df\u3001\u501f\u7528\u7b49\u65b9\u5f0f\u63d0\u4f9b\u7ed9\u4ed6\u4eba\u4f5c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u76f4\u64ad\u3001\u5f55\u5236\u3001\u4ee3\u6253\u4ee3\u7ec3\u7b49\u5546\u4e1a\u6027\u4f7f\u7528\u3002\u5426\u5219\uff0c\u56e0\u6b64\u4ea7\u751f\u4efb\u4f55\u6cd5\u5f8b\u540e\u679c\u53ca\u8d23\u4efb\u5747\u7531\u60a8\u81ea\u884c\u627f\u62c5\uff0c\u4e14\u540c\u6e38\u5a31\u4e50\u6709\u6743\u5bf9\u60a8\u7684\u6e38\u620f\u8d26\u53f7\u91c7\u53d6\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u8b66\u544a\u3001\u9650\u5236\u6216\u7981\u6b62\u4f7f\u7528\u6e38\u620f\u8d26\u53f7\u5168\u90e8\u6216\u90e8\u5206\u529f\u80fd\u3001\u5220\u9664\u6e38\u620f\u8d26\u53f7\u53ca\u6e38\u620f\u6570\u636e\u53ca\u5176\u4ed6\u76f8\u5173\u4fe1\u606f\u3001\u5c01\u53f7\u76f4\u81f3\u6ce8\u9500\u7684\u5904\u7406\u63aa\u65bd\uff0c\u56e0\u6b64\u9020\u6210\u7684\u4e00\u5207\u540e\u679c\u7531\u60a8\u81ea\u884c\u627f\u62c5\u3002\n\n\u4e09\u3001\u7528\u6237\u4fe1\u606f\u6536\u96c6\u3001\u4f7f\u7528\u53ca\u4fdd\u62a4\n\n3.1 \u60a8\u540c\u610f\u5e76\u6388\u6743\u540c\u6e38\u5a31\u4e50\u4e3a\u5c65\u884c\u672c\u534f\u8bae\u4e4b\u76ee\u7684\u6536\u96c6\u60a8\u7684\u7528\u6237\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5305\u62ec\u60a8\u5728\u5b9e\u540d\u6ce8\u518c\u7cfb\u7edf\u4e2d\u6ce8\u518c\u7684\u4fe1\u606f\u3001\u60a8\u6e38\u620f\u8d26\u53f7\u4e0b\u7684\u6e38\u620f\u6570\u636e\u4ee5\u53ca\u5176\u4ed6\u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u7684\u8fc7\u7a0b\u4e2d\u5411\u540c\u6e38\u5a31\u4e50\u63d0\u4f9b\u6216\u540c\u6e38\u5a31\u4e50\u57fa\u4e8e\u5b89\u5168\u3001\u7528\u6237\u4f53\u9a8c\u4f18\u5316\u7b49\u8003\u8651\u800c\u9700\u6536\u96c6\u7684\u4fe1\u606f\uff0c\u540c\u6e38\u5a31\u4e50\u5bf9\u60a8\u7684\u7528\u6237\u4fe1\u606f\u7684\u6536\u96c6\u5c06\u9075\u5faa\u672c\u534f\u8bae\u53ca\u76f8\u5173\u6cd5\u5f8b\u7684\u89c4\u5b9a\u3002\n\n3.2 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff1a\u540c\u6e38\u5a31\u4e50\u6216\u5176\u5408\u4f5c\u7684\u7b2c\u4e09\u65b9\u53ef\u4ee5\u6839\u636e\u60a8\u7684\u7528\u6237\u4fe1\u606f\uff0c\u901a\u8fc7\u77ed\u4fe1\u3001\u7535\u8bdd\u3001\u90ae\u4ef6\u7b49\u5404\u79cd\u65b9\u5f0f\u5411\u60a8\u63d0\u4f9b\u5173\u4e8e\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u6d3b\u52a8\u4fe1\u606f\u3001\u63a8\u5e7f\u4fe1\u606f\u7b49\u5404\u7c7b\u4fe1\u606f\u3002\n\n3.3 \u60a8\u5e94\u5bf9\u901a\u8fc7\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ca\u76f8\u5173\u670d\u52a1\u4e86\u89e3\u3001\u63a5\u6536\u6216\u53ef\u63a5\u89e6\u5230\u7684\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u5176\u4ed6\u7528\u6237\u5728\u5185\u7684\u4efb\u4f55\u4eba\u7684\u4e2a\u4eba\u4fe1\u606f\u4e88\u4ee5\u5145\u5206\u5c0a\u91cd\uff0c\u60a8\u4e0d\u5e94\u4ee5\u641c\u96c6\u3001\u590d\u5236\u3001\u5b58\u50a8\u3001\u4f20\u64ad\u6216\u4ee5\u5176\u4ed6\u4efb\u4f55\u65b9\u5f0f\u4f7f\u7528\u5176\u4ed6\u7528\u6237\u7684\u4e2a\u4eba\u4fe1\u606f\uff0c\u5426\u5219\uff0c\u7531\u6b64\u4ea7\u751f\u7684\u540e\u679c\u7531\u60a8\u81ea\u884c\u627f\u62c5\u3002\n\n3.4 \u4fdd\u62a4\u7528\u6237\u4fe1\u606f\u53ca\u9690\u79c1\u662f\u540c\u6e38\u5a31\u4e50\u7684\u4e00\u9879\u57fa\u672c\u539f\u5219\u3002\u9664\u672c\u534f\u8bae\u53e6\u6709\u89c4\u5b9a\u5916\uff0c\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u5bf9\u7528\u6237\u4fe1\u606f\u6536\u96c6\u3001\u4f7f\u7528\u53ca\u4fdd\u62a4\u7b49\u5c06\u9075\u5faa\u540c\u6e38\u5a31\u4e50\u7edf\u4e00\u516c\u5e03\u7684\u76f8\u5173\u9690\u79c1\u653f\u7b56\u3002\n\n\u56db\u3001\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\n\n4.1 \u540c\u610f\u672c\u534f\u8bae\u7684\u7528\u6237\uff0c\u89c6\u540c\u8d2d\u4e70\u5e76\u8bb8\u53ef\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8f6f\u4ef6\u3002\u540c\u6e38\u5a31\u4e50\u5c06\u6839\u636e\u60a8\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8f6f\u4ef6\u7684\u65f6\u95f4\u3001\u6b21\u6570\uff0c\u6536\u53d6\u4e00\u5b9a\u7684\u670d\u52a1\u8d39\u3002\u5728\u60a8\u9075\u5b88\u672c\u534f\u8bae\u53ca\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u7684\u524d\u63d0\u4e0b\uff0c\u540c\u6e38\u5a31\u4e50\u7ed9\u4e88\u60a8\u4e00\u9879\u4e2a\u4eba\u7684\u3001\u4e0d\u53ef\u8f6c\u8ba9\u53ca\u975e\u6392\u4ed6\u6027\u7684\u8bb8\u53ef\uff0c\u4ee5\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u3002\u60a8\u4ec5\u53ef\u4e3a\u975e\u5546\u4e1a\u76ee\u7684\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\uff0c\u5305\u62ec\uff1a\n\n\uff081\uff09\u63a5\u6536\u3001\u4e0b\u8f7d\u3001\u5b89\u88c5\u3001\u542f\u52a8\u3001\u5347\u7ea7\u3001\u767b\u5f55\u3001\u663e\u793a\u3001\u8fd0\u884c\u548c/\u6216\u622a\u5c4f\u540c\u6e38\u5a31\u4e50\u6e38\u620f\uff1b\n\n\uff082\uff09\u521b\u5efa\u6e38\u620f\u89d2\u8272\uff0c\u8bbe\u7f6e\u7f51\u540d\uff0c\u67e5\u9605\u6e38\u620f\u89c4\u5219\u3001\u7528\u6237\u4e2a\u4eba\u8d44\u6599\u3001\u6e38\u620f\u5bf9\u5c40\u7ed3\u679c\uff0c\u5f00\u8bbe\u6e38\u620f\u623f\u95f4\u3001\u8bbe\u7f6e\u6e38\u620f\u53c2\u6570\uff0c\u5728\u6e38\u620f\u4e2d\u8d2d\u4e70\u3001\u4f7f\u7528\u6e38\u620f\u9053\u5177\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u7b49\uff0c\u4f7f\u7528\u804a\u5929\u529f\u80fd\u3001\u793e\u4ea4\u5206\u4eab\u529f\u80fd\uff1b\n\n\uff083\uff09\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u652f\u6301\u5e76\u5141\u8bb8\u7684\u5176\u4ed6\u67d0\u4e00\u9879\u6216\u51e0\u9879\u529f\u80fd\u3002\n\n4.2 \u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u4e0d\u5f97\u672a\u7ecf\u540c\u6e38\u5a31\u4e50\u8bb8\u53ef\u4ee5\u4efb\u4f55\u65b9\u5f0f\u5f55\u5236\u3001\u76f4\u64ad\u6216\u5411\u4ed6\u4eba\u4f20\u64ad\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u5185\u5bb9\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4e0d\u5f97\u5229\u7528\u4efb\u4f55\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u8fdb\u884c\u7f51\u7edc\u76f4\u64ad\u3001\u4f20\u64ad\u7b49\u3002\n\n4.3 \u5728\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u4ee5\u8f6f\u4ef6\u5f62\u5f0f\u63d0\u4f9b\u7684\u60c5\u51b5\u4e0b\uff0c\u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ca\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u65f6\u8fd8\u5e94\u7b26\u5408\u672c\u534f\u8bae\u7b2c\u4e94\u6761\u5173\u4e8e\u8f6f\u4ef6\u8bb8\u53ef\u7684\u89c4\u5b9a\u3002\n\n4.4 \u672c\u6761\u53ca\u672c\u534f\u8bae\u5176\u4ed6\u6761\u6b3e\u672a\u660e\u793a\u6388\u6743\u7684\u5176\u4ed6\u4e00\u5207\u6743\u5229\u4ecd\u7531\u540c\u6e38\u5a31\u4e50\u4fdd\u7559\uff0c\u60a8\u5728\u884c\u4f7f\u8fd9\u4e9b\u6743\u5229\u65f6\u987b\u53e6\u5916\u53d6\u5f97\u540c\u6e38\u5a31\u4e50\u7684\u4e66\u9762\u8bb8\u53ef\u3002\n\n4.5 \u5982\u679c\u60a8\u8fdd\u53cd\u672c\u534f\u8bae\u7ea6\u5b9a\u7684\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u91c7\u53d6\u76f8\u5e94\u7684\u63aa\u65bd\u8fdb\u884c\u5904\u7406\uff0c\u8be5\u63aa\u65bd\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a\u4e0d\u7ecf\u901a\u77e5\u968f\u65f6\u5bf9\u76f8\u5173\u5185\u5bb9\u8fdb\u884c\u5220\u9664\uff0c\u5e76\u89c6\u884c\u4e3a\u60c5\u8282\u5bf9\u8fdd\u89c4\u6e38\u620f\u8d26\u53f7\u5904\u4ee5\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u8b66\u544a\u3001\u9650\u5236\u6216\u7981\u6b62\u4f7f\u7528\u5168\u90e8\u6216\u90e8\u5206\u529f\u80fd\u3001\u6e38\u620f\u8d26\u53f7\u5c01\u7981\u76f4\u81f3\u6ce8\u9500\u7684\u5904\u7f5a\uff0c\u5e76\u516c\u544a\u5904\u7406\u7ed3\u679c\uff0c\u8981\u6c42\u60a8\u8d54\u507f\u56e0\u60a8\u4ece\u4e8b\u8fdd\u7ea6\u884c\u4e3a\u800c\u7ed9\u540c\u6e38\u5a31\u4e50\u9020\u6210\u7684\u635f\u5931\u7b49\u3002\n\n4.6 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u4f9d\u5408\u7406\u5224\u65ad\u5bf9\u8fdd\u53cd\u6709\u5173\u6cd5\u5f8b\u6cd5\u89c4\u6216\u672c\u534f\u8bae\u89c4\u5b9a\u7684\u884c\u4e3a\u8fdb\u884c\u5904\u7406\uff0c\u5bf9\u8fdd\u6cd5\u8fdd\u89c4\u7684\u4efb\u4f55\u7528\u6237\u91c7\u53d6\u9002\u5f53\u7684\u6cd5\u5f8b\u884c\u52a8\uff0c\u5e76\u4f9d\u636e\u6cd5\u5f8b\u6cd5\u89c4\u4fdd\u5b58\u6709\u5173\u4fe1\u606f\u5411\u6709\u5173\u90e8\u95e8\u62a5\u544a\u7b49\uff0c\u7528\u6237\u5e94\u72ec\u81ea\u627f\u62c5\u7531\u6b64\u800c\u4ea7\u751f\u7684\u4e00\u5207\u6cd5\u5f8b\u8d23\u4efb\u3002\n\n4.7 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff0c\u56e0\u60a8\u8fdd\u53cd\u672c\u534f\u8bae\u6216\u76f8\u5173\u670d\u52a1\u6761\u6b3e\u7684\u89c4\u5b9a\uff0c\u5bfc\u81f4\u6216\u4ea7\u751f\u7b2c\u4e09\u65b9\u4e3b\u5f20\u7684\u4efb\u4f55\u7d22\u8d54\u3001\u8981\u6c42\u6216\u635f\u5931\uff0c\u60a8\u5e94\u5f53\u72ec\u7acb\u627f\u62c5\u8d23\u4efb\uff1b\u540c\u6e38\u5a31\u4e50\u56e0\u6b64\u906d\u53d7\u635f\u5931\u7684\uff0c\u60a8\u4e5f\u5e94\u5f53\u4e00\u5e76\u8d54\u507f\u3002\n\n4.8 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff1a\u6e38\u620f\u9053\u5177\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u7b49\u662f\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u7684\u4e00\u90e8\u5206\uff0c\u540c\u6e38\u5a31\u4e50\u5728\u6b64\u8bb8\u53ef\u60a8\u4f9d\u672c\u534f\u8bae\u800c\u83b7\u5f97\u5176\u4f7f\u7528\u6743\u3002\u60a8\u8d2d\u4e70\u3001\u4f7f\u7528\u6e38\u620f\u9053\u5177\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u7b49\u5e94\u9075\u5faa\u672c\u534f\u8bae\u3001\u6e38\u620f\u5177\u4f53\u89c4\u5219\u7684\u8981\u6c42\uff1b\u540c\u65f6\uff0c\u6e38\u620f\u9053\u5177\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u7b49\u53ef\u80fd\u53d7\u5230\u4e00\u5b9a\u6709\u6548\u671f\u9650\u7684\u9650\u5236\uff0c\u5373\u4f7f\u60a8\u5728\u89c4\u5b9a\u7684\u6709\u6548\u671f\u5185\u672a\u4f7f\u7528\uff0c\u9664\u4e0d\u53ef\u6297\u529b\u6216\u53ef\u5f52\u8d23\u4e8e\u540c\u6e38\u5a31\u4e50\u7684\u539f\u56e0\u5916\uff0c\u4e00\u65e6\u6709\u6548\u671f\u5c4a\u6ee1\uff0c\u5c06\u4f1a\u81ea\u52a8\u5931\u6548\u3002\n\n\u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff1a\u4e3a\u66f4\u597d\u5730\u5411\u7528\u6237\u63d0\u4f9b\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u5bf9\u6e38\u620f\u4e2d\u7684\u4efb\u4f55\u5185\u5bb9\u6216\u6784\u6210\u5143\u7d20\u7b49\u4f5c\u51fa\u8c03\u6574\u3001\u66f4\u65b0\u6216\u4f18\u5316\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u60a8\u8d2d\u4e70\u6216\u6b63\u5728\u4f7f\u7528\u7684\u89d2\u8272\u3001\u6e38\u620f\u88c5\u5907\u53ca\u5176\u4ed6\u6e38\u620f\u9053\u5177\u7684\u7f8e\u672f\u8bbe\u8ba1\u3001\u6027\u80fd\u53ca\u76f8\u5173\u6570\u503c\u8bbe\u7f6e\u7b49\u4f5c\u51fa\u8c03\u6574\u3001\u66f4\u65b0\u6216\u4f18\u5316\u7b49\uff09\u3002\u4e14\u5982\u540c\u6e38\u5a31\u4e50\u505a\u51fa\u76f8\u5e94\u8c03\u6574\u3001\u66f4\u65b0\u6216\u4f18\u5316\u7684\uff0c\u60a8\u540c\u610f\u4e0d\u4f1a\u56e0\u6b64\u8ffd\u7a76\u540c\u6e38\u5a31\u4e50\u7684\u4efb\u4f55\u6cd5\u5f8b\u8d23\u4efb\u3002\n\n4.9 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff1a\u4e3a\u4fdd\u969c\u60a8\u6e38\u620f\u8d26\u53f7\u5b89\u5168\uff0c\u4e3a\u8425\u9020\u516c\u5e73\u3001\u5065\u5eb7\u53ca\u5b89\u5168\u7684\u6e38\u620f\u73af\u5883\uff0c\u5728\u60a8\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5728\u4e0d\u8fdd\u53cd\u76f8\u5173\u6cd5\u5f8b\u89c4\u5b9a\u60c5\u51b5\u4e0b\uff0c\u540c\u6e38\u5a31\u4e50\u53ef\u4ee5\u901a\u8fc7\u6280\u672f\u624b\u6bb5\u4e86\u89e3\u60a8\u7ec8\u7aef\u8bbe\u5907\u7684\u968f\u673a\u5b58\u50a8\u5185\u5b58\u4ee5\u53ca\u4e0e\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u540c\u65f6\u8fd0\u884c\u7684\u76f8\u5173\u7a0b\u5e8f\u3002\u4e00\u7ecf\u53d1\u73b0\u6709\u4efb\u4f55\u672a\u7ecf\u6388\u6743\u7684\u3001\u5371\u5bb3\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u6b63\u5e38\u8fd0\u8425\u7684\u76f8\u5173\u7a0b\u5e8f\uff0c\u540c\u6e38\u5a31\u4e50\u53ef\u4ee5\u6536\u96c6\u6240\u6709\u4e0e\u6b64\u6709\u5173\u7684\u4fe1\u606f\u5e76\u91c7\u53d6\u5408\u7406\u63aa\u65bd\u4e88\u4ee5\u6253\u51fb\u3002\n\n4.10 \u60a8\u5145\u5206\u7406\u89e3\u5e76\u540c\u610f\uff1a\u4e3a\u4e86\u4fdd\u8bc1\u60a8\u53ca\u5176\u4ed6\u7528\u6237\u7684\u6e38\u620f\u4f53\u9a8c\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u8f6c\u79fb\u6216\u8005\u6e05\u9664\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u5668\u4e0a\u5b58\u50a8\u7684\u4e00\u4e9b\u8fc7\u5f80\u7684\u6e38\u620f\u6570\u636e\u3002\n\n4.11 \u540c\u6e38\u5a31\u4e50\u5c06\u6309\u7167\u76f8\u5173\u6cd5\u5f8b\u6cd5\u89c4\u548c\u672c\u534f\u8bae\u7684\u89c4\u5b9a\uff0c\u91c7\u53d6\u5207\u5b9e\u6709\u6548\u7684\u63aa\u65bd\u4fdd\u62a4\u672a\u6210\u5e74\u4eba\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u7684\u5408\u6cd5\u6743\u76ca\uff0c\u5305\u62ec\u53ef\u80fd\u91c7\u53d6\u6280\u672f\u63aa\u65bd\u3001\u7981\u6b62\u672a\u6210\u5e74\u4eba\u63a5\u89e6\u4e0d\u9002\u5b9c\u7684\u6e38\u620f\u6216\u8005\u6e38\u620f\u529f\u80fd\u3001\u9650\u5236\u672a\u6210\u5e74\u4eba\u7684\u6e38\u620f\u65f6\u95f4\u3001\u9884\u9632\u672a\u6210\u5e74\u4eba\u6c89\u8ff7\u7f51\u7edc\u3002\u4f5c\u4e3a\u6e38\u620f\u89c4\u5219\u7684\u4e00\u90e8\u5206\uff0c\u540c\u6e38\u5a31\u4e50\u8fd8\u5c06\u5728\u9002\u5f53\u4f4d\u7f6e\u53d1\u5e03\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7528\u6237\u6307\u5f15\u548c\u8b66\u793a\u8bf4\u660e\uff0c\u5305\u62ec\u6e38\u620f\u5185\u5bb9\u4ecb\u7ecd\u3001\u6b63\u786e\u4f7f\u7528\u6e38\u620f\u7684\u65b9\u6cd5\u4ee5\u53ca\u9632\u6b62\u5371\u5bb3\u53d1\u751f\u7684\u65b9\u6cd5\u3002\u6240\u6709\u672a\u6210\u5e74\u4eba\u7528\u6237\u90fd\u5e94\u5728\u6cd5\u5b9a\u76d1\u62a4\u4eba\u7684\u6307\u5bfc\u4e0b\u4ed4\u7ec6\u9605\u8bfb\u5e76\u9075\u7167\u6267\u884c\u8fd9\u4e9b\u6307\u5f15\u548c\u8bf4\u660e\uff1b\u5176\u4ed6\u73a9\u5bb6\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u7684\u8fc7\u7a0b\u4e2d\u5e94\u907f\u514d\u53d1\u5e03\u3001\u4ea7\u751f\u4efb\u4f55\u6709\u635f\u672a\u6210\u5e74\u4eba\u8eab\u5fc3\u5065\u5eb7\u7684\u5185\u5bb9\uff0c\u5171\u540c\u8425\u9020\u5065\u5eb7\u6e38\u620f\u73af\u5883\u3002\n\n4.12 \u5982\u679c\u60a8\u672a\u6ee118\u5468\u5c81\u7684\uff0c\u4e3a\u4fdd\u969c\u60a8\u7684\u5408\u6cd5\u6743\u76ca\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u4f9d\u636e\u56fd\u5bb6\u6709\u5173\u6cd5\u5f8b\u6cd5\u89c4\u53ca\u653f\u7b56\u89c4\u5b9a\u3001\u672c\u534f\u8bae\u5176\u4ed6\u6761\u6b3e\u89c4\u5b9a\u3001\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u8fd0\u8425\u7b56\u7565\u6216\u6839\u636e\u60a8\u6cd5\u5b9a\u76d1\u62a4\u4eba\u7684\u5408\u7406\u8981\u6c42\u91c7\u53d6\u4ee5\u4e0b\u4e00\u79cd\u6216\u591a\u79cd\u63aa\u65bd\uff1a\n\n\uff081\uff09\u5c06\u4e0e\u60a8\u6e38\u620f\u76f8\u5173\u7684\u4fe1\u606f\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u60a8\u6e38\u620f\u8d26\u53f7\u7684\u767b\u5f55\u4fe1\u606f\u3001\u5145\u503c\u6d41\u6c34\u4fe1\u606f\u7b49\uff09\u63d0\u4f9b\u7ed9\u60a8\u7684\u6cd5\u5b9a\u76d1\u62a4\u4eba\uff0c\u4f7f\u5f97\u60a8\u6cd5\u5b9a\u76d1\u62a4\u4eba\u53ef\u53ca\u65f6\u6216\u540c\u6b65\u4e86\u89e3\u60a8\u6e38\u620f\u60c5\u51b5\uff1b\n\n\uff082\uff09\u9650\u5236\u60a8\u6e38\u620f\u8d26\u53f7\u7684\u6d88\u8d39\u989d\u5ea6\uff1b\n\n\uff083\uff09\u91c7\u53d6\u6280\u672f\u63aa\u65bd\u5c4f\u853d\u67d0\u4e9b\u6e38\u620f\u6216\u6e38\u620f\u7684\u67d0\u4e9b\u529f\u80fd\uff0c\u6216\u9650\u5b9a\u60a8\u6e38\u620f\u65f6\u95f4\u6216\u6e38\u620f\u65f6\u957f\uff1b\n\n\uff084\uff09\u6ce8\u9500\u6216\u5220\u9664\u60a8\u6e38\u620f\u8d26\u53f7\u53ca\u6e38\u620f\u6570\u636e\u7b49\u76f8\u5173\u4fe1\u606f\uff1b\n\n\uff085\uff09\u60a8\u6cd5\u5b9a\u76d1\u62a4\u4eba\u8981\u6c42\u91c7\u53d6\u7684\uff0c\u6216\u540c\u6e38\u5a31\u4e50\u8ba4\u4e3a\u53ef\u91c7\u53d6\u7684\u5176\u4ed6\u5408\u7406\u63aa\u65bd\uff0c\u4ee5\u9650\u5236\u6216\u7981\u6b62\u60a8\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u3002\n\n4.13 \u540c\u6e38\u5a31\u4e50\u5411\u7528\u6237\u63d0\u4f9b\u6e38\u620f\u670d\u52a1\u672c\u8eab\u5c5e\u4e8e\u5546\u4e1a\u884c\u4e3a\uff0c\u7528\u6237\u6709\u6743\u81ea\u4e3b\u51b3\u5b9a\u662f\u5426\u6839\u636e\u540c\u6e38\u5a31\u4e50\u81ea\u884c\u786e\u5b9a\u7684\u6536\u8d39\u9879\u76ee\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u8d2d\u4e70\u6e38\u620f\u5185\u7684\u865a\u62df\u9053\u5177\u7684\u4f7f\u7528\u6743\u4ee5\u53ca\u63a5\u53d7\u5176\u4ed6\u589e\u503c\u670d\u52a1\u7b49\u5404\u7c7b\u6536\u8d39\u9879\u76ee\uff09\u53ca\u6536\u8d39\u6807\u51c6\u652f\u4ed8\u76f8\u5e94\u7684\u8d39\u7528\uff0c\u4ee5\u83b7\u5f97\u76f8\u5e94\u7684\u6e38\u620f\u670d\u52a1\u3002\u5982\u60a8\u4e0d\u6309\u76f8\u5e94\u6807\u51c6\u652f\u4ed8\u76f8\u5e94\u8d39\u7528\u7684\uff0c\u60a8\u5c06\u65e0\u6cd5\u83b7\u5f97\u76f8\u5e94\u7684\u6e38\u620f\u670d\u52a1\u3002\n\n\u60a8\u77e5\u6089\u5e76\u540c\u610f\uff1a\u6536\u8d39\u9879\u76ee\u6216\u6536\u8d39\u6807\u51c6\u7684\u6539\u53d8\u3001\u8c03\u6574\u662f\u4e00\u79cd\u6b63\u5e38\u7684\u5546\u4e1a\u884c\u4e3a\uff0c\u60a8\u4e0d\u5f97\u56e0\u4e3a\u6536\u8d39\u9879\u76ee\u6216\u6536\u8d39\u6807\u51c6\u7684\u6539\u53d8\u3001\u8c03\u6574\u800c\u8981\u6c42\u540c\u6e38\u5a31\u4e50\u8fdb\u884c\u8d54\u507f\u6216\u8865\u507f\u3002\n\n4.14 \u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\uff0c\u540c\u6e38\u5a31\u4e50\u4e0d\u5bf9\u56e0\u4e0d\u53ef\u6297\u529b\u5bfc\u81f4\u7684\u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u906d\u53d7\u7684\u635f\u5931\u627f\u62c5\u8d23\u4efb\u3002\u8be5\u7b49\u4e0d\u53ef\u6297\u529b\u4e8b\u4ef6\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u56fd\u5bb6\u6cd5\u5f8b\u3001\u6cd5\u89c4\u3001\u653f\u7b56\u53ca\u56fd\u5bb6\u673a\u5173\u7684\u547d\u4ee4\u53ca\u5176\u4ed6\u653f\u5e9c\u884c\u4e3a\u6216\u8005\u5176\u5b83\u7684\u8bf8\u5982\u5730\u9707\u3001\u6c34\u707e\u3001\u96ea\u707e\u3001\u706b\u707e\u3001\u6d77\u5578\u3001\u53f0\u98ce\u3001\u7f62\u5de5\u3001\u6218\u4e89\u7b49\u4e0d\u53ef\u9884\u6d4b\u3001\u4e0d\u53ef\u907f\u514d\u4e14\u4e0d\u53ef\u514b\u670d\u7684\u4e8b\u4ef6\u3002\n\n4.15 \u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ef\u80fd\u56e0\u6e38\u620f\u8f6f\u4ef6BUG\u3001\u7248\u672c\u66f4\u65b0\u7f3a\u9677\u3001\u7b2c\u4e09\u65b9\u75c5\u6bd2\u653b\u51fb\u6216\u5176\u4ed6\u4efb\u4f55\u56e0\u7d20\u5bfc\u81f4\u60a8\u7684\u6e38\u620f\u89d2\u8272\u3001\u6e38\u620f\u9053\u5177\u3001\u6e38\u620f\u88c5\u5907\u53ca\u6e38\u620f\u5e01\u7b49\u8d26\u53f7\u6570\u636e\u53d1\u751f\u5f02\u5e38\u3002\u5728\u6570\u636e\u5f02\u5e38\u7684\u539f\u56e0\u672a\u5f97\u5230\u67e5\u660e\u524d\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u6682\u65f6\u51bb\u7ed3\u8be5\u6e38\u620f\u8d26\u53f7\uff1b\u82e5\u67e5\u660e\u6570\u636e\u5f02\u5e38\u4e3a\u975e\u6b63\u5e38\u6e38\u620f\u884c\u4e3a\u6240\u81f4\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u6062\u590d\u6e38\u620f\u8d26\u53f7\u6570\u636e\u81f3\u5f02\u5e38\u53d1\u751f\u524d\u7684\u539f\u59cb\u72b6\u6001\uff08\u5305\u62ec\u5411\u7b2c\u4e09\u65b9\u8ffd\u56de\u88ab\u8f6c\u79fb\u6570\u636e\uff09\uff0c\u4e14\u540c\u6e38\u5a31\u4e50\u65e0\u987b\u5411\u60a8\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u3002\n\n4.16 \u540c\u6e38\u5a31\u4e50\u672a\u6388\u6743\u60a8\u4ece\u4efb\u4f55\u7b2c\u4e09\u65b9\u901a\u8fc7\u8d2d\u4e70\u3001\u63a5\u53d7\u8d60\u4e0e\u6216\u8005\u5176\u4ed6\u7684\u65b9\u5f0f\u83b7\u5f97\u6e38\u620f\u8d26\u53f7\u3001\u6e38\u620f\u9053\u5177\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u7b49\uff0c\u540c\u6e38\u5a31\u4e50\u4e0d\u5bf9\u7b2c\u4e09\u65b9\u4ea4\u6613\u7684\u884c\u4e3a\u8d1f\u8d23\uff0c\u5e76\u4e14\u4e0d\u53d7\u7406\u56e0\u4efb\u4f55\u7b2c\u4e09\u65b9\u4ea4\u6613\u53d1\u751f\u7ea0\u7eb7\u800c\u5e26\u6765\u7684\u7533\u8bc9\u3002\n\n4.17 \u60a8\u5145\u5206\u7406\u89e3\u5230\uff1a\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u5b58\u5728\u4e0d\u4e92\u901a\u7684\u5ba2\u89c2\u60c5\u51b5\uff0c\u8be5\u5ba2\u89c2\u60c5\u51b5\u5e76\u975e\u540c\u6e38\u5a31\u4e50\u9020\u6210\uff0c\u7531\u6b64\u53ef\u80fd\u5bfc\u81f4\u60a8\u5728\u67d0\u4e00\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u5145\u503c\u548c\u6e38\u620f\u6570\u636e\u4e0d\u80fd\u987a\u5229\u8f6c\u79fb\u5230\u53e6\u4e00\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u3002\u7531\u4e8e\u60a8\u5728\u4e0d\u540c\u7cfb\u7edf\u8fdb\u884c\u5207\u6362\u9020\u6210\u7684\u5145\u503c\u635f\u5931\u548c\u6e38\u620f\u6570\u636e\u4e22\u5931\u98ce\u9669\u5e94\u7531\u60a8\u81ea\u884c\u627f\u62c5\uff0c\u540c\u6e38\u5a31\u4e50\u5bf9\u6b64\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u3002\n\n4.18 \u540c\u6e38\u5a31\u4e50\u81ea\u884c\u51b3\u5b9a\u7ec8\u6b62\u8fd0\u8425\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u65f6\u6216\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u56e0\u5176\u4ed6\u4efb\u4f55\u539f\u56e0\u7ec8\u6b62\u8fd0\u8425\u65f6\uff0c\u540c\u6e38\u5a31\u4e50\u4f1a\u6309\u7167\u6587\u5316\u90e8\u6709\u5173\u7f51\u7edc\u6e38\u620f\u7ec8\u6b62\u8fd0\u8425\u7684\u76f8\u5173\u89c4\u5b9a\u5904\u7406\u6e38\u620f\u7ec8\u6b62\u8fd0\u8425\u76f8\u5173\u4e8b\u5b9c\uff0c\u4ee5\u4fdd\u969c\u7528\u6237\u5408\u6cd5\u6743\u76ca\u3002\n\n\u4e94\u3001\u8f6f\u4ef6\u8bb8\u53ef\n\n5.1 \u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u53ef\u80fd\u9700\u8981\u4e0b\u8f7d\u5e76\u5b89\u88c5\u76f8\u5173\u8f6f\u4ef6\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u4ece\u540c\u6e38\u5a31\u4e50\u7684\u76f8\u5173\u7f51\u7ad9\u4e0a\u83b7\u53d6\u8be5\u8f6f\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4ece\u5f97\u5230\u540c\u6e38\u5a31\u4e50\u6388\u6743\u7684\u7b2c\u4e09\u65b9\u83b7\u53d6\u3002\u5982\u679c\u60a8\u4ece\u672a\u7ecf\u540c\u6e38\u5a31\u4e50\u6388\u6743\u7684\u7b2c\u4e09\u65b9\u83b7\u53d6\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6216\u4e0e\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u540d\u79f0\u76f8\u540c\u7684\u6e38\u620f\uff0c\u5c06\u89c6\u4e3a\u60a8\u672a\u83b7\u5f97\u540c\u6e38\u5a31\u4e50\u6388\u6743\uff0c\u540c\u6e38\u5a31\u4e50\u65e0\u6cd5\u4fdd\u8bc1\u8be5\u6e38\u620f\u80fd\u591f\u6b63\u5e38\u4f7f\u7528\uff0c\u5e76\u5bf9\u56e0\u6b64\u7ed9\u60a8\u9020\u6210\u7684\u635f\u5931\u4e0d\u4e88\u8d1f\u8d23\u3002\n\n5.2 \u540c\u6e38\u5a31\u4e50\u53ef\u80fd\u4e3a\u4e0d\u540c\u7684\u7ec8\u7aef\u8bbe\u5907\u6216\u64cd\u4f5c\u7cfb\u7edf\u5f00\u53d1\u4e86\u4e0d\u540c\u7684\u8f6f\u4ef6\u7248\u672c\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8eios\u3001android\u7b49\u591a\u4e2a\u5e94\u7528\u7248\u672c\uff0c\u60a8\u5e94\u5f53\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9009\u62e9\u4e0b\u8f7d\u5408\u9002\u7684\u7248\u672c\u8fdb\u884c\u5b89\u88c5\uff0c\u4e0b\u8f7d\u5b89\u88c5\u7a0b\u5e8f\u540e\uff0c\u60a8\u9700\u8981\u6309\u7167\u8be5\u7a0b\u5e8f\u63d0\u793a\u7684\u6b65\u9aa4\u6b63\u786e\u5b89\u88c5\u3002\n\n5.3 \u82e5\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u4ee5\u8f6f\u4ef6\u5f62\u5f0f\u63d0\u4f9b\uff0c\u540c\u6e38\u5a31\u4e50\u7ed9\u4e88\u60a8\u4e00\u9879\u4e2a\u4eba\u7684\u3001\u4e0d\u53ef\u8f6c\u8ba9\u53ca\u975e\u6392\u4ed6\u6027\u7684\u8bb8\u53ef\u3002\u60a8\u4ec5\u53ef\u4e3a\u975e\u5546\u4e1a\u76ee\u7684\u5728\u5355\u4e00\u53f0\u7ec8\u7aef\u8bbe\u5907\u4e0a\u4e0b\u8f7d\u3001\u5b89\u88c5\u3001\u767b\u5f55\u3001\u4f7f\u7528\u8be5\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u3002\n\n5.4 \u5982\u679c\u60a8\u4e0d\u518d\u9700\u8981\u4f7f\u7528\u8be5\u8f6f\u4ef6\u6216\u8005\u9700\u8981\u5b89\u88c5\u65b0\u7248\uff0c\u53ef\u4ee5\u81ea\u884c\u5378\u8f7d\u3002\u5982\u679c\u60a8\u613f\u610f\u5e2e\u52a9\u540c\u6e38\u5a31\u4e50\u6539\u8fdb\u4ea7\u54c1\u670d\u52a1\uff0c\u8bf7\u544a\u77e5\u5378\u8f7d\u7684\u539f\u56e0\u3002\n\n5.5 \u4e3a\u4e86\u4fdd\u8bc1\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u7684\u5b89\u5168\u6027\u548c\u529f\u80fd\u7684\u4e00\u81f4\u6027\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u5bf9\u8f6f\u4ef6\u8fdb\u884c\u66f4\u65b0\uff0c\u6216\u8005\u5bf9\u8f6f\u4ef6\u7684\u90e8\u5206\u529f\u80fd\u6548\u679c\u8fdb\u884c\u6539\u53d8\u6216\u9650\u5236\u3002\n\n5.6 \u8f6f\u4ef6\u65b0\u7248\u672c\u53d1\u5e03\u540e\uff0c\u65e7\u7248\u672c\u7684\u8f6f\u4ef6\u53ef\u80fd\u65e0\u6cd5\u4f7f\u7528\u3002\u540c\u6e38\u5a31\u4e50\u4e0d\u4fdd\u8bc1\u65e7\u7248\u672c\u8f6f\u4ef6\u7ee7\u7eed\u53ef\u7528\u53ca\u76f8\u5e94\u7684\u5ba2\u6237\u670d\u52a1\uff0c\u8bf7\u60a8\u968f\u65f6\u6838\u5bf9\u5e76\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u3002\n\n\u516d\u3001\u7528\u6237\u884c\u4e3a\u89c4\u8303\n\n6.1 \u60a8\u5145\u5206\u4e86\u89e3\u5e76\u540c\u610f\uff0c\u60a8\u5fc5\u987b\u4e3a\u81ea\u5df1\u6e38\u620f\u8d26\u53f7\u4e0b\u7684\u4e00\u5207\u884c\u4e3a\u8d1f\u8d23\uff0c\u5305\u62ec\u60a8\u6240\u53d1\u8868\u7684\u4efb\u4f55\u5185\u5bb9\u4ee5\u53ca\u7531\u6b64\u4ea7\u751f\u7684\u4efb\u4f55\u540e\u679c\u3002\n\n6.2 \u60a8\u9664\u4e86\u53ef\u4ee5\u6309\u7167\u672c\u534f\u8bae\u7684\u7ea6\u5b9a\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u4e4b\u5916\uff0c\u4e0d\u5f97\u8fdb\u884c\u4efb\u4f55\u4fb5\u72af\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u77e5\u8bc6\u4ea7\u6743\u7684\u884c\u4e3a\uff0c\u6216\u8005\u8fdb\u884c\u5176\u4ed6\u7684\u6709\u635f\u4e8e\u540c\u6e38\u5a31\u4e50\u6216\u5176\u4ed6\u7b2c\u4e09\u65b9\u5408\u6cd5\u6743\u76ca\u7684\u884c\u4e3a\u3002\n\n6.3 \u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6216\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u65f6\u987b\u9075\u5b88\u6cd5\u5f8b\u6cd5\u89c4\uff0c\u4e0d\u5f97\u5229\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6216\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u4ece\u4e8b\u8fdd\u6cd5\u8fdd\u89c4\u884c\u4e3a\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4ee5\u4e0b\u884c\u4e3a\uff1a\n\n\uff08\u4e00\uff09\u8fdd\u53cd\u5baa\u6cd5\u786e\u5b9a\u7684\u57fa\u672c\u539f\u5219\u7684\uff1b\n\n\uff08\u4e8c\uff09\u5371\u5bb3\u56fd\u5bb6\u7edf\u4e00\u3001\u4e3b\u6743\u548c\u9886\u571f\u5b8c\u6574\u7684\uff1b\n\n\uff08\u4e09\uff09\u6cc4\u9732\u56fd\u5bb6\u79d8\u5bc6\u3001\u5371\u5bb3\u56fd\u5bb6\u5b89\u5168\u6216\u8005\u635f\u5bb3\u56fd\u5bb6\u8363\u8a89\u548c\u5229\u76ca\u7684\uff1b\n\n\uff08\u56db\uff09\u717d\u52a8\u6c11\u65cf\u4ec7\u6068\u3001\u6c11\u65cf\u6b67\u89c6\uff0c\u7834\u574f\u6c11\u65cf\u56e2\u7ed3\uff0c\u6216\u8005\u4fb5\u5bb3\u6c11\u65cf\u98ce\u4fd7\u3001\u4e60\u60ef\u7684\uff1b\n\n\uff08\u4e94\uff09\u5ba3\u626c\u90aa\u6559\u3001\u8ff7\u4fe1\u7684\uff1b\n\n\uff08\u516d\uff09\u6563\u5e03\u8c23\u8a00\uff0c\u6270\u4e71\u793e\u4f1a\u79e9\u5e8f\uff0c\u7834\u574f\u793e\u4f1a\u7a33\u5b9a\u7684\uff1b\n\n\uff08\u4e03\uff09\u5ba3\u626c\u6deb\u79fd\u3001\u8272\u60c5\u3001\u8d4c\u535a\u3001\u66b4\u529b\uff0c\u6216\u8005\u6559\u5506\u72af\u7f6a\u7684\uff1b\n\n\uff08\u516b\uff09\u4fae\u8fb1\u3001\u8bfd\u8c24\u4ed6\u4eba\uff0c\u4fb5\u5bb3\u4ed6\u4eba\u5408\u6cd5\u6743\u76ca\u7684\uff1b\n\n\uff08\u4e5d\uff09\u8fdd\u80cc\u793e\u4f1a\u516c\u5fb7\u7684\uff1b\n\n\uff08\u5341\uff09\u6709\u6cd5\u5f8b\u3001\u884c\u653f\u6cd5\u89c4\u548c\u56fd\u5bb6\u89c4\u5b9a\u7981\u6b62\u7684\u5176\u4ed6\u5185\u5bb9\u7684\u3002\n\n6.4 \u9664\u975e\u6cd5\u5f8b\u5141\u8bb8\u6216\u540c\u6e38\u5a31\u4e50\u4e66\u9762\u8bb8\u53ef\uff0c\u60a8\u4e0d\u5f97\u4ece\u4e8b\u4e0b\u5217\u884c\u4e3a\uff1a\n\n\uff081\uff09\u5220\u9664\u6e38\u620f\u8f6f\u4ef6\u53ca\u5176\u526f\u672c\u4e0a\u5173\u4e8e\u8457\u4f5c\u6743\u7684\u4fe1\u606f\uff1b\n\n\uff082\uff09\u5bf9\u6e38\u620f\u8f6f\u4ef6\u8fdb\u884c\u53cd\u5411\u5de5\u7a0b\u3001\u53cd\u5411\u6c47\u7f16\u3001\u53cd\u5411\u7f16\u8bd1\u6216\u8005\u4ee5\u5176\u4ed6\u65b9\u5f0f\u5c1d\u8bd5\u53d1\u73b0\u8f6f\u4ef6\u7684\u6e90\u4ee3\u7801\uff1b\n\n\uff083\uff09\u5bf9\u6e38\u620f\u8f6f\u4ef6\u8fdb\u884c\u626b\u63cf\u3001\u63a2\u67e5\u3001\u6d4b\u8bd5\uff0c\u4ee5\u68c0\u6d4b\u3001\u53d1\u73b0\u3001\u67e5\u627e\u5176\u4e2d\u53ef\u80fd\u5b58\u5728\u7684BUG\u6216\u5f31\u70b9\uff1b\n\n\uff084\uff09\u5bf9\u6e38\u620f\u8f6f\u4ef6\u6216\u8005\u8f6f\u4ef6\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u91ca\u653e\u5230\u4efb\u4f55\u7ec8\u7aef\u5185\u5b58\u4e2d\u7684\u6570\u636e\u3001\u8f6f\u4ef6\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7aef\u7684\u4ea4\u4e92\u6570\u636e\uff0c\u4ee5\u53ca\u8f6f\u4ef6\u8fd0\u884c\u6240\u5fc5\u9700\u7684\u7cfb\u7edf\u6570\u636e\uff0c\u8fdb\u884c\u590d\u5236\u3001\u4fee\u6539\u3001\u589e\u52a0\u3001\u5220\u9664\u3001\u6302\u63a5\u8fd0\u884c\u6216\u521b\u4f5c\u4efb\u4f55\u884d\u751f\u4f5c\u54c1\uff0c\u5f62\u5f0f\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u4f7f\u7528\u63d2\u4ef6\u3001\u5916\u6302\u6216\u975e\u7ecf\u5408\u6cd5\u6388\u6743\u7684\u7b2c\u4e09\u65b9\u5de5\u5177/\u670d\u52a1\u63a5\u5165\u8f6f\u4ef6\u548c\u76f8\u5173\u7cfb\u7edf\uff1b\n\n\uff085\uff09\u4fee\u6539\u6216\u4f2a\u9020\u8f6f\u4ef6\u8fd0\u884c\u4e2d\u7684\u6307\u4ee4\u3001\u6570\u636e\uff0c\u589e\u52a0\u3001\u5220\u51cf\u3001\u53d8\u52a8\u8f6f\u4ef6\u7684\u529f\u80fd\u6216\u8fd0\u884c\u6548\u679c\uff0c\u6216\u8005\u5c06\u7528\u4e8e\u4e0a\u8ff0\u7528\u9014\u7684\u8f6f\u4ef6\u3001\u65b9\u6cd5\u8fdb\u884c\u8fd0\u8425\u6216\u5411\u516c\u4f17\u4f20\u64ad\uff0c\u65e0\u8bba\u4e0a\u8ff0\u884c\u4e3a\u662f\u5426\u4e3a\u5546\u4e1a\u76ee\u7684\uff1b\n\n\uff086\uff09\u901a\u8fc7\u975e\u540c\u6e38\u5a31\u4e50\u5f00\u53d1\u3001\u6388\u6743\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u3001\u63d2\u4ef6\u3001\u5916\u6302\u3001\u7cfb\u7edf\uff0c\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ca\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\uff0c\u6216\u5236\u4f5c\u3001\u53d1\u5e03\u3001\u4f20\u64ad\u975e\u540c\u6e38\u5a31\u4e50\u5f00\u53d1\u3001\u6388\u6743\u7684\u7b2c\u4e09\u65b9\u8f6f\u4ef6\u3001\u63d2\u4ef6\u3001\u5916\u6302\u3001\u7cfb\u7edf\uff1b\n\n\uff087\uff09\u5bf9\u6e38\u620f\u4e2d\u540c\u6e38\u5a31\u4e50\u62e5\u6709\u77e5\u8bc6\u4ea7\u6743\u7684\u5185\u5bb9\u8fdb\u884c\u4f7f\u7528\u3001\u51fa\u79df\u3001\u51fa\u501f\u3001\u590d\u5236\u3001\u4fee\u6539\u3001\u94fe\u63a5\u3001\u8f6c\u8f7d\u3001\u6c47\u7f16\u3001\u53d1\u8868\u3001\u51fa\u7248\u3001\u5efa\u7acb\u955c\u50cf\u7ad9\u70b9\u7b49\uff1b\n\n\uff088\uff09\u5efa\u7acb\u6709\u5173\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u955c\u50cf\u7ad9\u70b9\uff0c\u6216\u8005\u8fdb\u884c\u7f51\u9875\uff08\u7edc\uff09\u5feb\u7167\uff0c\u6216\u8005\u5229\u7528\u67b6\u8bbe\u670d\u52a1\u5668\u7b49\u65b9\u5f0f\uff0c\u4e3a\u4ed6\u4eba\u63d0\u4f9b\u4e0e\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u5b8c\u5168\u76f8\u540c\u6216\u8005\u7c7b\u4f3c\u7684\u670d\u52a1\uff1b\n\n\uff089\uff09\u5c06\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u4efb\u610f\u90e8\u5206\u5206\u79bb\u51fa\u6765\u5355\u72ec\u4f7f\u7528\uff0c\u6216\u8005\u8fdb\u884c\u5176\u4ed6\u7684\u4e0d\u7b26\u5408\u672c\u534f\u8bae\u7684\u4f7f\u7528\uff1b\n\n\uff0810\uff09\u4f7f\u7528\u3001\u4fee\u6539\u6216\u906e\u76d6\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u540d\u79f0\u3001\u5546\u6807\u6216\u5176\u5b83\u77e5\u8bc6\u4ea7\u6743\uff1b\n\n\uff0811\uff09\u5176\u4ed6\u672a\u7ecf\u540c\u6e38\u5a31\u4e50\u660e\u793a\u6388\u6743\u7684\u884c\u4e3a\u3002\n\n6.5 \u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u6709\u5982\u4e0b\u4efb\u4f55\u884c\u4e3a\u7684\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u89c6\u60c5\u8282\u4e25\u91cd\u7a0b\u5ea6\uff0c\u4f9d\u636e\u672c\u534f\u8bae\u53ca\u76f8\u5173\u6e38\u620f\u89c4\u5219\u7684\u89c4\u5b9a\uff0c\u5bf9\u60a8\u505a\u51fa\u6682\u65f6\u6216\u6c38\u4e45\u6027\u5730\u7981\u6b62\u767b\u5f55\uff08\u5373\u5c01\u53f7\uff09\u3001\u5220\u9664\u6e38\u620f\u8d26\u53f7\u53ca\u6e38\u620f\u6570\u636e\u3001\u5220\u9664\u76f8\u5173\u4fe1\u606f\u7b49\u5904\u7406\u63aa\u65bd\uff0c\u60c5\u8282\u4e25\u91cd\u7684\u5c06\u79fb\u4ea4\u6709\u5173\u884c\u653f\u7ba1\u7406\u673a\u5173\u7ed9\u4e88\u884c\u653f\u5904\u7f5a\uff0c\u6216\u8005\u8ffd\u7a76\u60a8\u7684\u5211\u4e8b\u8d23\u4efb\uff1a\n\n\uff081\uff09\u4ee5\u67d0\u79cd\u65b9\u5f0f\u6697\u793a\u6216\u4f2a\u79f0\u540c\u6e38\u5a31\u4e50\u5185\u90e8\u5458\u5de5\u6216\u67d0\u79cd\u7279\u6b8a\u8eab\u4efd\uff0c\u4f01\u56fe\u5f97\u5230\u4e0d\u6b63\u5f53\u5229\u76ca\u6216\u5f71\u54cd\u5176\u4ed6\u7528\u6237\u6743\u76ca\u7684\u884c\u4e3a\uff1b\n\n\uff082\uff09\u5728\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u4e2d\u4f7f\u7528\u975e\u6cd5\u6216\u4e0d\u5f53\u8bcd\u8bed\u3001\u5b57\u7b26\u7b49\uff0c\u5305\u62ec\u7528\u4e8e\u89d2\u8272\u547d\u540d\uff1b\n\n\uff083\uff09\u4ee5\u4efb\u4f55\u65b9\u5f0f\u7834\u574f\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6216\u5f71\u54cd\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u7684\u6b63\u5e38\u8fdb\u884c\uff1b\n\n\uff084\uff09\u5404\u79cd\u975e\u6cd5\u5916\u6302\u884c\u4e3a\uff1b\n\n\uff085\uff09\u4f20\u64ad\u975e\u6cd5\u8a00\u8bba\u6216\u4e0d\u5f53\u4fe1\u606f\uff1b\n\n\uff086\uff09\u76d7\u53d6\u4ed6\u4eba\u6e38\u620f\u8d26\u53f7\u3001\u6e38\u620f\u7269\u54c1\uff1b\n\n\uff087\uff09\u79c1\u81ea\u8fdb\u884c\u6e38\u620f\u8d26\u53f7\u4ea4\u6613\uff1b\n\n\uff088\uff09\u79c1\u81ea\u8fdb\u884c\u6e38\u620f\u865a\u62df\u8d27\u5e01\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u53ca\u5176\u4ed6\u6e38\u620f\u9053\u5177\u7b49\u4ea4\u6613\uff1b\n\n\uff089\uff09\u8fdd\u53cd\u672c\u534f\u8bae\u4efb\u4f55\u7ea6\u5b9a\u7684\uff1b\n\n\uff0810\uff09\u5176\u4ed6\u5728\u884c\u4e1a\u5185\u88ab\u5e7f\u6cdb\u8ba4\u53ef\u7684\u4e0d\u5f53\u884c\u4e3a\uff0c\u65e0\u8bba\u662f\u5426\u5df2\u7ecf\u88ab\u672c\u534f\u8bae\u6216\u6e38\u620f\u89c4\u5219\u660e\u786e\u5217\u660e\u3002\n\n\u60a8\u77e5\u6089\u5e76\u540c\u610f\uff0c\u7531\u4e8e\u5916\u6302\u5177\u6709\u9690\u853d\u6027\u6216\u7528\u5b8c\u540e\u5373\u6d88\u5931\u7b49\u7279\u70b9\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u6839\u636e\u60a8\u7684\u6e38\u620f\u6570\u636e\u548c\u8868\u73b0\u5f02\u5e38\u5224\u65ad\u60a8\u6709\u65e0\u4f7f\u7528\u975e\u6cd5\u5916\u6302\u7b49\u884c\u4e3a\u3002\n\n6.6 \u60a8\u77e5\u6089\u5e76\u540c\u610f\uff0c\u5982\u540c\u6e38\u5a31\u4e50\u4f9d\u636e\u672c\u534f\u8bae\u5bf9\u60a8\u7684\u6e38\u620f\u8d26\u53f7\u91c7\u53d6\u5c01\u53f7\u5904\u7406\u63aa\u65bd\u7684\uff0c\u5177\u4f53\u5c01\u53f7\u671f\u95f4\u7531\u540c\u6e38\u5a31\u4e50\u6839\u636e\u60a8\u8fdd\u89c4\u884c\u4e3a\u60c5\u8282\u800c\u5b9a\u3002\n\n\u60a8\u77e5\u6089\u5e76\u540c\u610f\uff1a\uff081\uff09\u5728\u5c01\u53f7\u671f\u95f4\uff0c\u60a8\u6e38\u620f\u8d26\u53f7\u4e2d\u7684\u6e38\u620f\u865a\u62df\u8d27\u5e01\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u53ca\u5176\u4ed6\u6e38\u620f\u9053\u5177\u53ef\u80fd\u90fd\u5c06\u65e0\u6cd5\u4f7f\u7528\uff1b\uff082\uff09\u5982\u524d\u8ff0\u6e38\u620f\u865a\u62df\u8d27\u5e01\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u53ca\u5176\u4ed6\u6e38\u620f\u9053\u5177\u5b58\u5728\u4e00\u5b9a\u6709\u6548\u671f\uff0c\u8be5\u6709\u6548\u671f\u53ef\u80fd\u4f1a\u5728\u5c01\u53f7\u671f\u95f4\u8fc7\u671f\uff0c\u60a8\u6e38\u620f\u8d26\u53f7\u89e3\u5c01\u540e\uff0c\u60a8\u5c06\u65e0\u6cd5\u4f7f\u7528\u8be5\u7b49\u5df2\u8fc7\u671f\u7684\u6e38\u620f\u865a\u62df\u8d27\u5e01\u3001\u6e38\u620f\u88c5\u5907\u3001\u6e38\u620f\u5e01\u53ca\u5176\u4ed6\u6e38\u620f\u9053\u5177\u3002\u636e\u6b64\uff0c\u60a8\u4e5f\u540c\u610f\u4e0d\u4f1a\u56e0\u53d1\u751f\u524d\u8ff0\u7b2c\uff081\uff09\u548c\uff08\u6216\uff09\u7b2c\uff082\uff09\u70b9\u89c4\u5b9a\u7684\u60c5\u5f62\u800c\u8ffd\u7a76\u540c\u6e38\u5a31\u4e50\u4efb\u4f55\u6cd5\u5f8b\u8d23\u4efb\u3002\n\n\u4e03\u3001\u77e5\u8bc6\u4ea7\u6743\n\n7.1 \u540c\u6e38\u5a31\u4e50\u662f\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u77e5\u8bc6\u4ea7\u6743\u6743\u5229\u4eba\u3002\u540c\u6e38\u5a31\u4e50\u6e38\u620f\uff08\u5305\u62ec\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6574\u4f53\u53ca\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6d89\u53ca\u7684\u6240\u6709\u5185\u5bb9\u3001\u7ec4\u6210\u90e8\u5206\u6216\u6784\u6210\u8981\u7d20 \uff09\u7684\u4e00\u5207\u8457\u4f5c\u6743\u3001\u5546\u6807\u6743\u3001\u4e13\u5229\u6743\u3001\u5546\u4e1a\u79d8\u5bc6\u7b49\u77e5\u8bc6\u4ea7\u6743\u53ca\u5176\u4ed6\u5408\u6cd5\u6743\u76ca\uff0c\u4ee5\u53ca\u4e0e\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u76f8\u5173\u7684\u6240\u6709\u4fe1\u606f\u5185\u5bb9\uff08\u5305\u62ec\u6587\u5b57\u3001\u56fe\u7247\u3001\u97f3\u9891\u3001\u89c6\u9891\u3001\u56fe\u8868\u3001\u754c\u9762\u8bbe\u8ba1\u3001\u7248\u9762\u6846\u67b6\u3001\u6709\u5173\u6570\u636e\u6216\u7535\u5b50\u6587\u6863\u7b49\uff09\u5747\u53d7\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u6cd5\u5f8b\u6cd5\u89c4\u548c\u76f8\u5e94\u7684\u56fd\u9645\u6761\u7ea6\u4fdd\u62a4\uff0c\u540c\u6e38\u5a31\u4e50\u4eab\u6709\u4e0a\u8ff0\u77e5\u8bc6\u4ea7\u6743\u548c\u5408\u6cd5\u6743\u76ca\uff0c\u4f46\u76f8\u5173\u6743\u5229\u4eba\u4f9d\u7167\u6cd5\u5f8b\u89c4\u5b9a\u5e94\u4eab\u6709\u7684\u6743\u5229\u9664\u5916\u3002\u672a\u7ecf\u540c\u6e38\u5a31\u4e50\u4e8b\u5148\u4e66\u9762\u540c\u610f\uff0c\u60a8\u4e0d\u5f97\u4ee5\u4efb\u4f55\u65b9\u5f0f\u5c06\u540c\u6e38\u5a31\u4e50\u6e38\u620f\uff08\u5305\u62ec\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6574\u4f53\u53ca\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u6d89\u53ca\u7684\u6240\u6709\u5185\u5bb9\u3001\u7ec4\u6210\u90e8\u5206\u6216\u6784\u6210\u8981\u7d20 \uff09\u8fdb\u884c\u5546\u4e1a\u6027\u4f7f\u7528\u3002\n\n7.2 \u5c3d\u7ba1\u672c\u534f\u8bae\u6709\u5176\u4ed6\u89c4\u5b9a\uff0c\u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u4e2d\u4ea7\u751f\u7684\u6e38\u620f\u6570\u636e\u7684\u6240\u6709\u6743\u548c\u77e5\u8bc6\u4ea7\u6743\u5f52\u540c\u6e38\u5a31\u4e50\u6240\u6709\uff0c\u540c\u6e38\u5a31\u4e50\u6709\u6743\u4fdd\u5b58\u3001\u5904\u7f6e\u8be5\u6e38\u620f\u6570\u636e\u3002\u5176\u4e2d\uff0c\u540c\u6e38\u5a31\u4e50\u5bf9\u7528\u6237\u8d2d\u4e70\u6e38\u620f\u865a\u62df\u8d27\u5e01\u7684\u8d2d\u4e70\u8bb0\u5f55\u7684\u4fdd\u5b58\u671f\u9650\u5c06\u9075\u5b88\u6587\u5316\u90e8\u300a\u7f51\u7edc\u6e38\u620f\u7ba1\u7406\u6682\u884c\u529e\u6cd5\u300b\u6709\u5173\u89c4\u5b9a\u3002\u5bf9\u5176\u4ed6\u6e38\u620f\u6570\u636e\u7684\u4fdd\u5b58\u671f\u9650\u7531\u540c\u6e38\u5a31\u4e50\u81ea\u884c\u51b3\u5b9a\uff0c\u4f46\u56fd\u5bb6\u6cd5\u5f8b\u6cd5\u89c4\u53e6\u6709\u89c4\u5b9a\u7684\u4ece\u5176\u89c4\u5b9a\u3002\n\n7.3 \u540c\u6e38\u5a31\u4e50\u6e38\u620f\u53ef\u80fd\u6d89\u53ca\u7b2c\u4e09\u65b9\u77e5\u8bc6\u4ea7\u6743\uff0c\u800c\u8be5\u7b49\u7b2c\u4e09\u65b9\u5bf9\u60a8\u57fa\u4e8e\u672c\u534f\u8bae\u5728\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u4e2d\u4f7f\u7528\u8be5\u7b49\u77e5\u8bc6\u4ea7\u6743\u6709\u8981\u6c42\u7684\uff0c\u540c\u6e38\u5a31\u4e50\u5c06\u4ee5\u9002\u5f53\u65b9\u5f0f\u5411\u60a8\u544a\u77e5\u8be5\u8981\u6c42\uff0c\u60a8\u5e94\u5f53\u4e00\u5e76\u9075\u5b88\u3002\n\n\u516b\u3001\u9075\u5b88\u5f53\u5730\u6cd5\u5f8b\u76d1\u7ba1\n\n8.1 \u60a8\u5728\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u8fc7\u7a0b\u4e2d\u5e94\u5f53\u9075\u5b88\u5f53\u5730\u76f8\u5173\u7684\u6cd5\u5f8b\u6cd5\u89c4\uff0c\u5e76\u5c0a\u91cd\u5f53\u5730\u7684\u9053\u5fb7\u548c\u98ce\u4fd7\u4e60\u60ef\u3002\u5982\u679c\u60a8\u7684\u884c\u4e3a\u8fdd\u53cd\u4e86\u5f53\u5730\u6cd5\u5f8b\u6cd5\u89c4\u6216\u9053\u5fb7\u98ce\u4fd7\uff0c\u60a8\u5e94\u5f53\u4e3a\u6b64\u72ec\u7acb\u627f\u62c5\u8d23\u4efb\u3002\n\n8.2 \u60a8\u5e94\u907f\u514d\u56e0\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u800c\u4f7f\u540c\u6e38\u5a31\u4e50\u5377\u5165\u653f\u6cbb\u548c\u516c\u5171\u4e8b\u4ef6\uff0c\u5426\u5219\u540c\u6e38\u5a31\u4e50\u6709\u6743\u6682\u505c\u6216\u7ec8\u6b62\u5bf9\u60a8\u7684\u670d\u52a1\u3002\n\n\u4e5d\u3001\u7ba1\u8f96\u4e0e\u6cd5\u5f8b\u9002\u7528\n\n9.1 \u672c\u534f\u8bae\u7684\u6210\u7acb\u3001\u751f\u6548\u3001\u5c65\u884c\u3001\u89e3\u91ca\u53ca\u7ea0\u7eb7\u89e3\u51b3\uff0c\u9002\u7528\u4e2d\u534e\u4eba\u6c11\u5171\u548c\u56fd\u5927\u9646\u5730\u533a\u6cd5\u5f8b\uff08\u4e0d\u5305\u62ec\u51b2\u7a81\u6cd5\uff09\u3002\n\n9.2 \u82e5\u60a8\u548c\u540c\u6e38\u5a31\u4e50\u4e4b\u95f4\u56e0\u672c\u534f\u8bae\u53d1\u751f\u4efb\u4f55\u7ea0\u7eb7\u6216\u4e89\u8bae\uff0c\u9996\u5148\u5e94\u53cb\u597d\u534f\u5546\u89e3\u51b3\uff1b\u534f\u5546\u4e0d\u6210\u7684\uff0c\u60a8\u540c\u610f\u5c06\u7ea0\u7eb7\u6216\u4e89\u8bae\u63d0\u4ea4\u81f3\u6b66\u6c49\u5e02\u4e1c\u6e56\u65b0\u6280\u672f\u5f00\u53d1\u533a\u4eba\u6c11\u6cd5\u9662\u7ba1\u8f96\u3002\n\n9.3 \u672c\u534f\u8bae\u6240\u6709\u6761\u6b3e\u7684\u6807\u9898\u4ec5\u4e3a\u9605\u8bfb\u65b9\u4fbf\uff0c\u672c\u8eab\u5e76\u65e0\u5b9e\u9645\u6db5\u4e49\uff0c\u4e0d\u80fd\u4f5c\u4e3a\u672c\u534f\u8bae\u6db5\u4e49\u89e3\u91ca\u7684\u4f9d\u636e\u3002\n\n9.4 \u672c\u534f\u8bae\u6761\u6b3e\u65e0\u8bba\u56e0\u4f55\u79cd\u539f\u56e0\u90e8\u5206\u65e0\u6548\uff0c\u5176\u4f59\u6761\u6b3e\u4ecd\u6709\u6548\uff0c\u5bf9\u5404\u65b9\u5177\u6709\u7ea6\u675f\u529b\u3002\n\n\u5341\u3001\u5176\u4ed6\n\n10.1 \u540c\u6e38\u5a31\u4e50\u6709\u6743\u5728\u5fc5\u8981\u65f6\u53d8\u66f4\u672c\u534f\u8bae\u6761\u6b3e\uff0c\u60a8\u53ef\u4ee5\u5728\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u7684\u76f8\u5173\u9875\u9762\u67e5\u9605\u6700\u65b0\u7248\u672c\u7684\u534f\u8bae\u6761\u6b3e\u3002\u672c\u534f\u8bae\u6761\u6b3e\u53d8\u66f4\u540e\uff0c\u5982\u679c\u60a8\u7ee7\u7eed\u4f7f\u7528\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\uff0c\u5373\u89c6\u4e3a\u60a8\u5df2\u63a5\u53d7\u53d8\u66f4\u540e\u7684\u534f\u8bae\u3002\n\n10.2 \u6839\u636e\u56fd\u5bb6\u65b0\u95fb\u51fa\u7248\u603b\u7f72\u5173\u4e8e\u5065\u5eb7\u6e38\u620f\u7684\u5fe0\u544a\uff0c\u540c\u6e38\u5a31\u4e50\u63d0\u9192\u60a8\uff1a\u62b5\u5236\u4e0d\u826f\u6e38\u620f\uff0c\u62d2\u7edd\u76d7\u7248\u6e38\u620f\uff1b\u6ce8\u610f\u81ea\u6211\u4fdd\u62a4\uff0c\u8c28\u9632\u53d7\u9a97\u4e0a\u5f53\uff1b\u9002\u5ea6\u6e38\u620f\u76ca\u8111\uff0c\u6c89\u8ff7\u6e38\u620f\u4f24\u8eab\u3002\n\n10.3 \u5982\u679c\u60a8\u5bf9\u672c\u534f\u8bae\u6216\u540c\u6e38\u5a31\u4e50\u6e38\u620f\u670d\u52a1\u6709\u610f\u89c1\u6216\u5efa\u8bae\uff0c\u53ef\u4e0e\u540c\u6e38\u5a31\u4e50\u5ba2\u670d\u90e8\u95e8\u8054\u7cfb\uff0c\u6211\u4eec\u4f1a\u7ed9\u4e88\u60a8\u5fc5\u8981\u7684\u5e2e\u52a9\u3002\n\n\u540c\u6e38\u5a31\u4e50\u79d1\u6280\u6709\u9650\u516c\u53f8"},t.prototype.onBtnAgree=function(){i.EventManager.emit(a.EventDef.UpdateUserAgree),this.close()},__decorate([l(cc.Label)],t.prototype,"label",void 0),__decorate([l(cc.Label)],t.prototype,"labelon",void 0),t=__decorate([c],t)}(o.default);n.default=u,cc._RF.pop()},{"../Define":"Define","../libs/pbkiller/src/pbkiller":"pbkiller","../manager/EventManager":"EventManager","../manager/UIManager":"UIManager","./base/PopupView":"PopupView"}],AppStart:[function(e,t,n){"use strict";cc._RF.push(t,"7d6d64/eqZOuqPpapaWwZG3","AppStart");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./manager/EventManager"),o=e("./Define"),s=e("./manager/UIManager"),c=e("./manager/NetManager"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvas=null,t.node_view=null,t.node_popup=null,t.node_system=null,t.node_tips=null,t.backgroundTime=0,t}return i(t,e),t.prototype.onLoad=function(){cc.sys.isNative&&console.log("\u641c\u7d20\u8def\u5f84\u4e3a\uff1a",jsb.fileUtils.getSearchPaths()),cc.sys.OS_IOS==cc.sys.os||(cc.sys.OS_ANDROID,cc.sys.os),s.UIManager.init(this),this.initEvent()},t.prototype.initEvent=function(){cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this)},t.prototype.onSizeChanged=function(){console.log("onSizeChanged"),a.EventManager.emit(o.EventDef.SizeChanged)},t.prototype.onDestroy=function(){cc.game.targetOff(this),a.EventManager.off(this)},t.prototype.start=function(){s.UIManager.open("prefabs/LogoView")},t.prototype.onGameShow=function(){c.NetManager.protocolRpc.heartTime=cc.sys.now();var e=cc.sys.now()-this.backgroundTime;cc.audioEngine.resumeAll(),a.EventManager.emit(o.EventDef.GameShow,e)},t.prototype.onGameHide=function(){this.backgroundTime=cc.sys.now(),cc.audioEngine.pauseAll(),c.NetManager.backstage=!0,a.EventManager.emit(o.EventDef.GameHide)},r([h(cc.Canvas)],t.prototype,"canvas",void 0),r([h(cc.Node)],t.prototype,"node_view",void 0),r([h(cc.Node)],t.prototype,"node_popup",void 0),r([h(cc.Node)],t.prototype,"node_system",void 0),r([h(cc.Node)],t.prototype,"node_tips",void 0),t=r([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./Define":"Define","./manager/EventManager":"EventManager","./manager/NetManager":"NetManager","./manager/UIManager":"UIManager"}],AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"2796cXx581CxoL+NcUhi/qP","AudioManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./DataManager"),s=e("../common/log/LogWrap"),c=e("./ResManager"),l=cc._decorator,u=l.ccclass,h=(l.property,function(){function e(){this._bgmVolume=1,this._sfxVolume=1,this._playMusic=!0,this._playSound=!0,this.bgmAudioID=-1,this.bgmUrl="",this.audioIdObj={}}var t;return t=e,Object.defineProperty(e.prototype,"playMusic",{get:function(){return this._playMusic},set:function(e){this._playMusic=e,e?cc.audioEngine.isMusicPlaying()||cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playSound",{get:function(){return this._playSound},set:function(e){this._playSound=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bgmVolume",{get:function(){return this._bgmVolume},set:function(e){this._bgmVolume=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sfxVolume",{get:function(){return this._sfxVolume},set:function(e){this._sfxVolume=e},enumerable:!0,configurable:!0}),e.prototype.saveSoundConfig=function(){o.DataManager.storage.set("soundConfig",{playMusic:this.playMusic,playSound:this.playSound,bgmVolume:this.bgmVolume,sfxVolume:this.sfxVolume})},e.prototype.addAudioId=function(e,t){this.audioIdObj[e],this.audioIdObj[e]=t},e.prototype.playBGM=function(e,t){var n=this;void 0===t&&(t="sounds/");var i=cc.path.extname(e);i&&(e=e.slice(0,-i.length));var r=t+e;this.bgmUrl!=r?(this.bgmUrl=r,cc.loader.loadRes(r,cc.AudioClip,function(e,t){e?s.LogWrap.err("\u80cc\u666f\u97f3\u4e50\u51fa\u9519",r):n.bgmAudioID=cc.audioEngine.playMusic(t,!0)})):s.LogWrap.warn("playBGM \u76f8\u540c",r)},e.prototype.playGameBGM=function(e){var t="game/"+o.DataManager.getGameName(o.DataManager.gameType)+"/audio/";this.playBGM(e,t)},e.prototype.playSFX=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n="sounds/");var r=cc.path.extname(e);return r&&(e=e.slice(0,-r.length)),this.sfxVolume>0&&this.playSound&&cc.loader.loadRes(n+e,cc.AudioClip,function(r,a){if(r)s.LogWrap.err("\u97f3\u6548\u51fa\u9519",n+e);else{var o=cc.audioEngine.playEffect(a,t);i.addAudioId(e,o)}}),null},e.prototype.playGameSFX=function(e,t){void 0===t&&(t=!1);var n="game/"+o.DataManager.getGameName(o.DataManager.gameType)+"/audio/";this.playSFX(e,t,n)},e.prototype.setSFXVolume=function(e){this.sfxVolume=e,this.playSound=e>0,cc.audioEngine.setEffectsVolume(this.sfxVolume)},e.prototype.setBGMVolume=function(e){e>0?(this._playMusic=!0,cc.audioEngine.isMusicPlaying()||cc.audioEngine.resumeMusic()):(this._playMusic=!1,cc.audioEngine.pauseMusic()),this.bgmVolume=e,cc.audioEngine.setMusicVolume(this.bgmVolume)},e.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},e.prototype.stopAllEffects=function(){cc.audioEngine.stopAllEffects()},e.prototype.stopEffect=function(e){s.LogWrap.log("\u505c\u6b62\u5355\u4e2a\u97f3\u6548"),null!=this.audioIdObj[e]&&(cc.audioEngine.stopEffect(this.audioIdObj[e]),this.audioIdObj[e]=null)},e.prototype.stopBGM=function(){this.bgmUrl="",cc.audioEngine.stopMusic()},e.prototype.playHallBGM=function(){return r(this,void 0,void 0,function(){var e,t;return a(this,function(i){switch(i.label){case 0:return(e=o.DataManager.getBgms())[o.DataManager.bgm]?"\u66f2\u76ee1"!=e[o.DataManager.bgm].name?[3,1]:(n.AudioManager.playBGM(e[o.DataManager.bgm].path),[3,3]):[3,3];case 1:return this.bgmUrl=e[o.DataManager.bgm].path,[4,c.ResManager.loadAsync(this.bgmUrl)];case 2:t=i.sent(),this.bgmAudioID=cc.audioEngine.playMusic(t,!0),i.label=3;case 3:return[2]}})})},e.instance=new t,e=t=i([u],e)}());n.default=h,n.AudioManager=h.instance,cc._RF.pop()},{"../common/log/LogWrap":"LogWrap","./DataManager":"DataManager","./ResManager":"ResManager"}],Base64:[function(e,t,n){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"225dcNi3RxFDI6MEmotkeKN","Base64"),function(e,n){"function"==typeof define&&define.amd?define([],n):"object"===(void 0===t?"undefined":i(t))&&t.exports?t.exports=n():(void 0).Base=n()}(0,function(){function e(){this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}return e.prototype.encode=function(e){var t,n,i,r,a,o,s,c="",l=0;for(e=this._utf8_encode(e);l<e.length;)r=(t=e.charCodeAt(l++))>>2,a=(3&t)<<4|(n=e.charCodeAt(l++))>>4,o=(15&n)<<2|(i=e.charCodeAt(l++))>>6,s=63&i,isNaN(n)?o=s=64:isNaN(i)&&(s=64),c=c+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return c},e.prototype.decode=function(e){var t,n,i,r,a,o,s="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)t=this._keyStr.indexOf(e.charAt(c++))<<2|(r=this._keyStr.indexOf(e.charAt(c++)))>>4,n=(15&r)<<4|(a=this._keyStr.indexOf(e.charAt(c++)))>>2,i=(3&a)<<6|(o=this._keyStr.indexOf(e.charAt(c++))),s+=String.fromCharCode(t),64!=a&&(s+=String.fromCharCode(n)),64!=o&&(s+=String.fromCharCode(i));return s=this._utf8_decode(s)},e.prototype._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},e.prototype._utf8_decode=function(e){for(var t="",n=0,i=0,r=0,a=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&a),n+=3);return t},new e}),cc._RF.pop()},{}],BaseView:[function(e,t,n){"use strict";cc._RF.push(t,"0ff28muYohMIauBYtYFYaOe","BaseView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../manager/EventManager"),o=e("../../common/UIHelper"),s=e("../../manager/AudioManager"),c=e("../../manager/SoundEffect"),l=cc._decorator,u=l.ccclass,h=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.items={},t.data=null,t}return i(t,e),t.prototype.onLoad=function(){this.items=o.default.loadItem(this.node),this.init()},t.prototype.start=function(){},t.prototype.onDestroy=function(){a.EventManager.off(this)},t.prototype.init=function(){this.initComponent(),this.initEvent()},t.prototype.initComponent=function(){},t.prototype.initEvent=function(){},t.prototype.close=function(){s.AudioManager.playSFX(c.SoundEffect.click),this.node.destroy()},t.prototype.initData=function(e){this.data=e},t.prototype.getItem=function(e){return this.items[e]},t=r([u],t)}(cc.Component));n.default=h,cc._RF.pop()},{"../../common/UIHelper":"UIHelper","../../manager/AudioManager":"AudioManager","../../manager/EventManager":"EventManager","../../manager/SoundEffect":"SoundEffect"}],ButtonEx:[function(e,t,n){"use strict";cc._RF.push(t,"6702fK7LFBKmIURCo/uwFO/","ButtonEx"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,i.menu),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.transition!=cc.Button.Transition.SPRITE&&(this.transition=cc.Button.Transition.SCALE,this.zoomScale=.9)},t.prototype.disabledScale=function(){this.transition=cc.Button.Transition.NONE},t.prototype.registerClickEx=function(e,t,n,i){void 0===i&&(i="");var r=new cc.Component.EventHandler;return r.target=t,r.component=n,r.handler=e,r.customEventData=i,this.clickEvents.push(r),this},t.prototype.registerClick=function(e){return this.node.off("click"),this.node.on("click",function(){e&&e()}),this},t=__decorate([r,a("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ButtonEx")],t)}(cc.Button);n.default=o,cc._RF.pop()},{}],CCFormData:[function(e,t,n){"use strict";cc._RF.push(t,"1f4e2dh/H1DvatuNjLNPOLR","CCFormData");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,o=(r.property,function(){function e(){this._boundary_key="WebKitFormBoundary",this._boundary="--"+this._boundary_key,this._end_boundary=this._boundary+"--",this._result=""}return e.prototype.append=function(e,t){this._result+=this._boundary+"\r\n",this._result+='Content-Disposition: form-data; name="'+e+'"\r\n\r\n',this._result+=t+"\r\n",console.log(this._result)},e.prototype.appendFile=function(e,t,n){var i="upload."+n;this._result+=this._boundary+"\r\n",this._result+='Content-Disposition: form-data; name="'+e+'"; filename="'+i+'"\r\n',this._result+="Content-Type: application/x-www-form-urlencoded\r\n",this._result+="\r\n",this._result+=t,this._result+="\r\n",console.log(this._result)},Object.defineProperty(e.prototype,"arrayBuffer",{get:function(){this._result+="\r\n"+this._end_boundary;var e=[];console.log(this._result);for(var t=0;t<this._result.length;t++){var n=this._result[t];if("string"==typeof n)for(var i=0;i<n.length;i++)e.push(n.charCodeAt(i));else for(var r=0;r<n.length;r++)e.push(n[r])}return new Uint8Array(e).buffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StrBuffer",{get:function(){this._result+="\r\n"+this._end_boundary;for(var e="",t=0;t<this._result.length;t++){e+=this._result[t]}return e},enumerable:!0,configurable:!0}),e=i([a],e)}());n.default=o,cc._RF.pop()},{}],CardArea:[function(e,t,n){"use strict";cc._RF.push(t,"c71ca9Wzw5Ol7M2olb2g76t","CardArea");var i=a(e("./PDKPlayer")),r=a(e("../../view/base/BaseView"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=s(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,a=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}cc.Class({extends:r.default,properties:{_touchBegan:null,_touchMoved:null,game:{default:null,type:i.default}},start:function(){if(!this.game.huifang){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.game.cardsArr=this.node.getChildren();var e=this.game.cardsArr[0];e&&(this.CARD_DISTANCE=e.width*e.anchorX+this.node.getComponent(cc.Layout).spacingX),console.log("CARD_DISTANCE: "+this.CARD_DISTANCE)}},onTouchStart:function(e){var t=e.getLocation(),n=this._beginPos=this.node.convertToNodeSpaceAR(t);this._checkSelectCard(n,n,!0)},onTouchMove:function(e){var t=e.getLocation(),n=this.node.convertToNodeSpaceAR(t);this._checkSelectCard(n,n),this._checkSelectCardReverse(this._beginPos,n)},onTouchEnd:function(e){this._onSelectCardEnd()},_onSelectCardEnd:function(){var e,t=[],n=o(this.game.cardsArr);try{for(n.s();!(e=n.n()).done;){var i=e.value.getComponent("PDKCard");i.touched&&(i.selected=!i.selected,i.node.y=110==i.node.y?90:110),i.touched=!1,i.spSelected.active=!1,t.push(i)}}catch(e){n.e(e)}finally{n.f()}this.game.moveCard(t)},_checkSelectCard:function(e,t,n){var i=this.game.cardsArr.length;if(n)for(var r=i-1;r>=0;r--){var a=this.game.cardsArr[r];if(a.getBoundingBox().contains(e))return a.getComponent("PDKCard").touched=!0,void(a.getComponent("PDKCard").spSelected.active=!0)}else for(var o=Math.max(1,Math.abs(e.x-t.x)),s=Math.max(1,Math.abs(e.y-t.y)),c=Math.min(e.x,t.x),l=Math.min(e.y,t.y),u=cc.rect(c,l,o,s),h=i-1;h>=0;h--){var f=this.game.cardsArr[h];if(f.getBoundingBox().contains(u))return f.getComponent("PDKCard").touched=!0,void(f.getComponent("PDKCard").spSelected.active=!0)}},_checkSelectCardReverse:function(e,t){for(var n=e.x<t.x?e:t,i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),a=cc.rect(n.x,n.y,i,r),o=this.game.cardsArr.length,s=o-1;s>=0;s--){var c=this.game.cardsArr[s];cc.Intersection.rectRect(c.getBoundingBox(),a)?n.x-c.x>=this.CARD_DISTANCE&&s!=o-1&&(c.getComponent("PDKCard").touched=!1,c.getComponent("PDKCard").spSelected.active=!1):(c.getComponent("PDKCard").touched=!1,c.getComponent("PDKCard").spSelected.active=!1)}}}),cc._RF.pop()},{"../../view/base/BaseView":"BaseView","./PDKPlayer":"PDKPlayer"}],ClubChat:[function(e,t,n){"use strict";cc._RF.push(t,"a2cbfObympDQ4zvrpTERbr/","ClubChat");var i=o(e("../view/base/BaseView")),r=e("../manager/DataManager"),a=o(e("../common/UIHelper"));function o(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{liaotian:cc.Node,mPlayerListScroll:cc.ScrollView,mPlayerList:cc.Prefab,liaotianname:cc.Label,roll:cc.ScrollView,mliaotianListScroll:cc.ScrollView,mzhiji:cc.Prefab,mduifang:cc.Prefab,fangda:cc.Node},onLoad:function(){this.mPlayerListScroll.content.removeAllChildren();for(var e=r.DataManager.playerInfo,t=0;t<10;t++){var n=cc.instantiate(this.mPlayerList);this.mPlayerListScroll.content.addChild(n),n.getChildByName("name").getComponent(cc.Label).string=e.name,n.getChildByName("id").getComponent(cc.Label).string=e.id;var i=n.getChildByName("iconBg").getChildByName("icon");a.default.loadHead(r.DataManager.playerInfo.icon,i),n.agentId=e.id,n.name=e.name,n.icon=r.DataManager.playerInfo.icon,n.on(cc.Node.EventType.TOUCH_END,this.onliaotian.bind(this))}},start:function(){},onliaotian:function(e){console.log("\u70b9\u51fb\u6309\u94ae"),this.liaotian.active=!this.liaotian.active;var t=e.target.agentId,n=e.target.name,i=e.target.icon;this.liaotian.active&&(this.mliaotianListScroll.content.removeAllChildren(),this.liaotiandata(n,t,i,"https://dou-image.oss-cn-hangzhou.aliyuncs.com/avatar/f643be78401841df9fc584cc0d44da58.png"))},top:function(){var e=this.roll;e.scrollToBottom(.5);e.getMaxScrollOffset()},liaotiandata:function(e,t,n,i){console.log(e),console.log(t),console.log(n),this.liaotianname.string=e;for(var o=0;o<3;o++){var s=cc.instantiate(this.mzhiji);this.mliaotianListScroll.content.addChild(s);var c=s.getChildByName("icon").getChildByName("iconBg").getChildByName("icon");if(a.default.loadHead(r.DataManager.playerInfo.icon,c),i){var l=s.getChildByName("New Node").getChildByName("New Sprite");a.default.loadHead(i,l),l.icon=i,l.on(cc.Node.EventType.TOUCH_END,this.imsg.bind(this))}var u=cc.instantiate(this.mduifang);this.mliaotianListScroll.content.addChild(u);var h=u.getChildByName("icon").getChildByName("iconBg").getChildByName("icon");a.default.loadHead(n,h)}for(o=0;o<3;o++){s=cc.instantiate(this.mzhiji);this.mliaotianListScroll.content.addChild(s);c=s.getChildByName("icon").getChildByName("iconBg").getChildByName("icon");a.default.loadHead(r.DataManager.playerInfo.icon,c),s.getChildByName("New Node").getChildByName("New Label").active=!0,s.getChildByName("New Node").getChildByName("New Sprite").active=!1;u=cc.instantiate(this.mduifang);this.mliaotianListScroll.content.addChild(u);h=u.getChildByName("icon").getChildByName("iconBg").getChildByName("icon");a.default.loadHead(n,h)}this.top()},imsg:function(e){if(this.fangda.active=!this.fangda.active,this.fangda.active){console.log(e.target.icon);var t=this.fangda.getChildByName("icon");a.default.loadHead(e.target.icon,t)}},onClickClose:function(e){this.close()}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../manager/DataManager":"DataManager","../view/base/BaseView":"BaseView"}],ClubCreate:[function(e,t,n){"use strict";cc._RF.push(t,"7d493+0yl9NbLHPuXnhb/RW","ClubCreate");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("../view/base/BaseView")),r=e("../manager/NetManager"),a=e("../manager/DataManagerClub"),o=e("../manager/UIManager");cc.Class({extends:i.default,properties:{mEditClubName:cc.EditBox},onLoad:function(){},start:function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1))},onClickOk:function(e){if(a.DataManagerClub.MyClubInfo.length>=3)return o.UIManager.showTips("\u4ff1\u4e50\u90e8\u5df2\u8fbe\u4e0a\u9650"),void this.close();""!==this.mEditClubName.string&&this.mEditClubName.string&&(r.NetManager.protocolRpc.sendC2S_CreateClub(this.mEditClubName.string),this.close())},onClickClose:function(e){this.close()}}),cc._RF.pop()},{"../manager/DataManagerClub":"DataManagerClub","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],ClubGameDesk:[function(e,t,n){"use strict";cc._RF.push(t,"926e6H0plZFk4q/89uAoO3S","ClubGameDesk");var i=h(e("../view/base/BaseView")),r=e("../manager/DataManagerClub"),a=e("../manager/NetManager"),o=e("../manager/UIManager"),s=h(e("../common/UIHelper")),c=e("../manager/AudioManager"),l=(e("../game/kwx/KWXDefine"),e("../manager/DataManager"),e("../manager/EventManager"),e("../game/kwx/protocol/KWXCmd"),e("../manager/EventClubDef"),e("../libs/pbkiller/protobuf"),e("../manager/SoundEffect")),u=h(e("../common/utils/Utils"));e("../game/kwx/protocol/MessageQueue");function h(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mGameName:cc.Label,mGuiZe:cc.Node,mGameRadix:cc.Label,mDeskPlayTimes:cc.Label,mIcon:[cc.Node],mDeskState:cc.Node,mDeskStates:[cc.SpriteFrame],mDeskGameTypeAnim:sp.Skeleton,mBiaoQian:cc.Node,mIsMatch:cc.Node,mIsMatchs:[cc.SpriteFrame],mDeskBg:cc.Node,mEstablish:cc.Node,mDeskBgs:[cc.SpriteFrame],mDeskzb:[cc.Node],mtouxiangjia:cc.SpriteFrame,Online:cc.Node,mjinrufangjian:cc.Prefab},onLoad:function(e){this.deskId=0,this.roomId=0,this.gameWanfa=0,this.gameRadix=0,this.isDeskFull=!1,this.maxPlayetimes=0,this.joinLimit=0,this.gameType=0,this.isMatch=!1,this.threePlayerUserPos=[cc.v2(-111,-47),cc.v2(111,-47),cc.v2(-109,86)],this.threePlayerUserPoszb=[cc.v2(-111,-87),cc.v2(111,-87),cc.v2(-109,53)],this.nnthreePlayerUserPos=[cc.v2(-180,-47),cc.v2(0,-47),cc.v2(180,-47),cc.v2(-180,86),cc.v2(180,86),cc.v2(0,86)],this.nnthreePlayerUserPoszb=[cc.v2(-180,-87),cc.v2(0,-87),cc.v2(180,-87),cc.v2(-180,53),cc.v2(180,53),cc.v2(0,53)],this.nnthreePlayerUserPosba=[cc.v2(-180,-47),cc.v2(0,-47),cc.v2(180,-47),cc.v2(190,73),cc.v2(99,97),cc.v2(0,97),cc.v2(-99,97),cc.v2(-190,73)],this.nnthreePlayerUserPoszbba=[cc.v2(-180,-87),cc.v2(0,-87),cc.v2(180,-87),cc.v2(-180,53),cc.v2(180,53),cc.v2(0,53),cc.v2(0,86),cc.v2(0,86)],this.deskUser=[],this.totalUser=0,this.usericon=[]},start:function(){this.ClickTime=(new Date).getTime(),this.ClickMinTime=300;var e=r.DataManagerClub.getClubIdentity(r.DataManagerClub.CurClubInfo.clubId);1==r.DataManagerClub.Mytype&&5==e&&0==this.isMatch&&this.mIsMatch.on(cc.Node.EventType.TOUCH_END,this.onTypedesk.bind(this))},initPlayDesk:function(e){var t=r.DataManagerClub.fromGameIdGetDeskInfo(e.id);4==t.gameType?this.gameWanfa=100*t.gameType+t.playerCount+t.param[4]:this.gameWanfa=100*t.gameType+t.playerCount,this.gameRadix=t.radix,this.deskId=t.id,this.joinLimit=t.joinLimit,this.gameType=t.gameType,this.isMatch=t.match,this.juShu=t.juShu,this.playerCount=t.playerCount,this.leavelimit=t.leavelimit,this.param=t.param,this.mIcon[0].active=!1,this.mIcon[1].active=!1,this.mIcon[2].active=!1,this.mDeskState.active=!1,this.mDeskBg.active=!1,this.mGuiZe.getComponent(cc.Label).string=t.name||"\u6682\u672a\u5907\u6ce8",this.maxPlayetimes=t.juShu,this.Online.getChildByName("Label").getComponent(cc.Label).string=u.default.getFormatPlay(t.matchPlayerCount),this.totalUser=t.matchPlayerCount,this.mGameName.string=r.DataManagerClub.getGameNameStr(t),this.mGameRadix.string="\u5e95"+r.DataManagerClub.divide100Double(t.radix)+"  \u5165"+r.DataManagerClub.divide100Double(t.joinLimit),this.mDeskPlayTimes.string=t.playerCount+"\u4eba / "+t.juShu+"\u5c40",3===t.playerCount&&this.updateThreePlayUi(),this.isMatch?(this.mIsMatch.getComponent(cc.Sprite).spriteFrame=this.mIsMatchs[1],this.Online.active=!0,1===t.gameType?(this.mGameName.node.color=cc.color(255,255,255),this.mDeskPlayTimes.node.color=cc.color(75,115,89),this.mGameRadix.node.color=cc.color(75,115,89)):2===t.gameType&&(this.mGameName.node.color=cc.color(255,255,255),this.mDeskPlayTimes.node.color=cc.color(73,92,143),this.mGameRadix.node.color=cc.color(73,92,143),this.mEstablish.active=!1,this.node.getChildByName("pdk").active=!0)):(this.mGameName.node.active=!1,1===t.gameType?this.node.getChildByName("chuangjianzhuobjpt").active=!0:2===t.gameType?this.node.getChildByName("pdkpt").active=!0:(this.mDeskPlayTimes.string=t.playerCount+"\u4eba / \u65e0\u9650\u5c40",this.node.getChildByName("nnbj").active=!0))},initGameDesk:function(e,t,n){var i=r.DataManagerClub.fromGameIdGetDeskInfo(e.gameId);if(i){if(4===i.gameType?this.gameWanfa=100*i.gameType+i.playerCount+i.param[4]:this.gameWanfa=100*i.gameType+i.playerCount,this.gameRadix=i.radix,this.gameType=i.gameType,this.roomId=e.roomId,this.maxPlayetimes=i.juShu,this.joinLimit=i.joinLimit,this.gameType=i.gameType,this.leavelimit=i.leavelimit,this.param=i.param,this.playerCount=i.playerCount,this.juShu=i.juShu,this.mGuiZe.getComponent(cc.Label).string=i.name||"\u6682\u672a\u5907\u6ce8",this.mIsMatch.parent.active=!1,this.mDeskBg.active=!0,this.mDeskState.active=!1,this.mEstablish.active=!1,this.mBiaoQian.active=!0,this.usericon=e.pis,1===i.gameType)this.mBiaoQian.getChildByName("kwx").active=!0,this.mGameRadix.string="\u5e95"+r.DataManagerClub.divide100Double(i.radix)+"  \u5165"+r.DataManagerClub.divide100Double(i.joinLimit),this.mGameName.string=r.DataManagerClub.getGameNameStr(i),this.mDeskPlayTimes.string=(e.playTimes||0)+" / "+i.juShu+"\u5c40";else if(2===i.gameType)this.mGameName.node.color=cc.color(72,45,30),this.mBiaoQian.getChildByName("pdk").active=!0,this.mGameRadix.string="\u5e95"+r.DataManagerClub.divide100Double(i.radix)+"  \u5165"+r.DataManagerClub.divide100Double(i.joinLimit),this.mGameName.string=r.DataManagerClub.getGameNameStr(i),this.mDeskPlayTimes.string=(e.playTimes||0)+" / "+i.juShu+"\u5c40";else if(4===i.gameType){var a="\u7ecf\u5178\u725b";407!==this.gameWanfa&&409!==this.gameWanfa||(a="\u70b9\u5b50\u725b"),this.mGameRadix.string=a+"/\u9505\u5e95:"+r.DataManagerClub.divide100Double(i.joinLimit),e.playTimes>99?this.mDeskPlayTimes.string="99+\u5c40":this.mDeskPlayTimes.string="\u7b2c"+(e.playTimes||0)+"\u5c40"}if(this.deskUser=[0,0],3===i.playerCount?(this.deskUser=[0,0,0],this.updateThreeGameUi()):6===i.playerCount?(this.mDeskPlayTimes.node.position=cc.v2(-70,17),this.mGameRadix.node.position=cc.v2(70,17),this.mGameName.node.active=!1,this.mBiaoQian.getChildByName("kwx").active=!1,this.deskUser=[0,0,0,0,0,0],this.updateSixGameUi()):8===i.playerCount&&(this.mDeskPlayTimes.node.position=cc.v2(-70,17),this.mGameRadix.node.position=cc.v2(70,17),this.mGameName.node.active=!1,this.mBiaoQian.getChildByName("kwx").active=!1,this.deskUser=[0,0,0,0,0,0,0,0],this.updateEightGameUi()),t)for(var o=0;o<e.pis.length;o++)this.initUserDown(e.pis[o],i.gameType),1==e.pis[o].ready&&null!=e.pis[o].id&&(console.log("\u51c6\u5907\u72b6\u6001:",e.pis[o].ready),this.mDeskzb[o].active=!0);else this.updateUserDown(e,i.gameType);1===i.gameType?this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[1]:2===i.gameType?this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[0]:4===i.gameType&&(6==i.playerCount?(this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[2],this.node.width=600,this.node.height=252,this.mDeskBg.width=500):(this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[3],this.node.width=600,this.node.height=252,this.mDeskBg.width=500))}},initUserDown:function(e,t){for(var n=-1,i=0;i<this.deskUser.length;i++)if(0===this.deskUser[i]){this.deskUser[i]=e.id,n=i;break}-1!==n&&(e.id&&(this.mIcon[n].getChildByName("id").active=!0,this.mIcon[n].getChildByName("id").getComponent(cc.Label).string=e.id),s.default.loadHead(e.icon,this.mIcon[n].getChildByName("icon")),this.isDeskFull=this.isMaxDesks(),this.isDeskFull&&4!=this.gameType?(this.mDeskGameTypeAnim.node.active=!0,1===this.gameType?(this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[1],this.mDeskGameTypeAnim.setAnimation(0,"majiang",!0)):2===this.gameType&&(this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[0],this.mDeskGameTypeAnim.setAnimation(0,"puke",!0)),this.mDeskState.active=!1,this.mBiaoQian.active=!1,this.mGameName.node.active=!1,this.mGuiZe.active=!1,this.mGameRadix.node.active=!1):(this.mDeskGameTypeAnim.clearTrack(0),this.mDeskGameTypeAnim.node.active=!1,this.mGameRadix.node.active=!0,this.mDeskState.getComponent(cc.Sprite).spriteFrame=this.mDeskStates[0]))},updatekaishi:function(e){for(var t=0;t<this.deskUser.length;t++)this.mDeskzb[t].active=!1;null==e.pi&&(this.mDeskGameTypeAnim.node.active=!0,this.mDeskState.active=!1,this.mBiaoQian.active=!1,this.mGameName.node.active=!1,this.mGuiZe.active=!1,this.mGameRadix.node.active=!1,1===this.gameType?(this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[1],this.mDeskGameTypeAnim.setAnimation(0,"majiang",!0)):2===this.gameType?(this.mDeskBg.getComponent(cc.Sprite).spriteFrame=this.mDeskBgs[0],this.mDeskGameTypeAnim.setAnimation(0,"puke",!0)):(this.mGameRadix.node.active=!0,this.mDeskGameTypeAnim.node.active=!1))},updateUserDown:function(e,t){null==this.usericon&&(this.usericon=[]),this.usericon.push(e.pi);for(var n=-1,i=0;i<this.deskUser.length;i++)if(0===this.deskUser[i]){this.deskUser[i]=e.pi.id,n=i;break}-1!==n&&(s.default.loadHead(e.pi.icon,this.mIcon[n].getChildByName("icon")),this.isDeskFull=this.isMaxDesks(),this.isDeskFull||(this.mDeskGameTypeAnim.clearTrack(0),this.mDeskGameTypeAnim.node.active=!1,this.mDeskState.getComponent(cc.Sprite).spriteFrame=this.mDeskStates[0]))},PlayerItem:function(e){for(var t=0;t<this.deskUser.length;t++)if(this.deskUser[t]===e.pi.id){this.mDeskzb[t].active=!0;break}},userExitDesks:function(e){for(var t=-1,n=0;n<this.deskUser.length;n++)this.deskUser[n]===e&&(this.deskUser[n]=0,t=n,this.mDeskGameTypeAnim.node.active=!1,this.mGameRadix.node.active=!0,this.mDeskzb[n].active=!1);for(var i=this.usericon,r=0;r<i.length;r++)i[r].id===e&&this.usericon.splice(r,1);-1!==t&&(this.mIcon[t].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.mtouxiangjia)},updateplayTimes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.mDeskPlayTimes.string=4===t?"\u7b2c"+e+"\u5c40":e+" / "+this.maxPlayetimes+"\u5c40"},TotalMatching:function(e){parseInt(this.totalUser+e)>0?(this.Online.getChildByName("Label").getComponent(cc.Label).string=parseInt(this.totalUser+e),this.totalUser=parseInt(this.totalUser+e)):(this.Online.getChildByName("Label").getComponent(cc.Label).string=0,this.totalUser=0)},isHasUser:function(){for(var e=0;e<this.deskUser.length;e++)if(0!==this.deskUser[e])return!0;return!1},isMaxDesks:function(e){for(var t=!0,n=0;n<this.deskUser.length;n++)0===this.deskUser[n]&&(t=!1);return this.isDeskFull=!e,t},updateSixGameUi:function(){this.mIcon[2].active=!0,this.mIcon[3].active=!0,this.mIcon[4].active=!0,this.mIcon[5].active=!0,this.mIcon[0].position=this.nnthreePlayerUserPos[0],this.mIcon[1].position=this.nnthreePlayerUserPos[1],this.mIcon[2].position=this.nnthreePlayerUserPos[2],this.mIcon[3].position=this.nnthreePlayerUserPos[3],this.mIcon[4].position=this.nnthreePlayerUserPos[4],this.mIcon[5].position=this.nnthreePlayerUserPos[5],this.mDeskzb[0].position=this.nnthreePlayerUserPoszb[0],this.mDeskzb[1].position=this.nnthreePlayerUserPoszb[1],this.mDeskzb[2].position=this.nnthreePlayerUserPoszb[2],this.mDeskzb[3].position=this.nnthreePlayerUserPoszb[3],this.mDeskzb[4].position=this.nnthreePlayerUserPoszb[4],this.mDeskzb[5].position=this.nnthreePlayerUserPoszb[5]},updateEightGameUi:function(){this.mIcon[2].active=!0,this.mIcon[3].active=!0,this.mIcon[4].active=!0,this.mIcon[5].active=!0,this.mIcon[6].active=!0,this.mIcon[7].active=!0,this.mIcon[0].position=this.nnthreePlayerUserPosba[0],this.mIcon[1].position=this.nnthreePlayerUserPosba[1],this.mIcon[2].position=this.nnthreePlayerUserPosba[2],this.mIcon[3].position=this.nnthreePlayerUserPosba[3],this.mIcon[4].position=this.nnthreePlayerUserPosba[4],this.mIcon[5].position=this.nnthreePlayerUserPosba[5],this.mIcon[6].position=this.nnthreePlayerUserPosba[6],this.mIcon[7].position=this.nnthreePlayerUserPosba[7],this.mDeskzb[0].position=this.nnthreePlayerUserPoszbba[0],this.mDeskzb[1].position=this.nnthreePlayerUserPoszbba[1],this.mDeskzb[2].position=this.nnthreePlayerUserPoszbba[2],this.mDeskzb[3].position=this.nnthreePlayerUserPoszbba[3],this.mDeskzb[4].position=this.nnthreePlayerUserPoszbba[4],this.mDeskzb[5].position=this.nnthreePlayerUserPoszbba[5],this.mDeskzb[6].position=this.nnthreePlayerUserPoszbba[6],this.mDeskzb[7].position=this.nnthreePlayerUserPoszbba[7]},updateThreeGameUi:function(){this.mIcon[2].active=!0,this.mIcon[0].position=this.threePlayerUserPos[0],this.mIcon[1].position=this.threePlayerUserPos[1],this.mIcon[2].position=this.threePlayerUserPos[2],this.mDeskzb[0].position=this.threePlayerUserPoszb[0],this.mDeskzb[1].position=this.threePlayerUserPoszb[1],this.mDeskzb[2].position=this.threePlayerUserPoszb[2]},updateThreePlayUi:function(){},updateGuiZe:function(e){this.mGuiZe.getComponent(cc.Label).string=e},onClickDeskCode:function(e){this.errorCode=e.errorCode},onClickDesk:function(e){this.isMatch,c.AudioManager.playSFX(l.SoundEffect.button);var t=(new Date).getTime();if(t-this.ClickTime>this.ClickMinTime)if(!0,4===this.gameType){if(this.isDeskFull)return void o.UIManager.showTips("\u5f53\u524d\u684c\u5df2\u6ee1\u5458");o.UIManager.popup("prefabs/club/Roominformation",this)}else o.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),this.onClickDesks(r.DataManagerClub.MyClickDesks);else o.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),console.log("\u70b9\u51fb\u592a\u5feb\u4e86");this.ClickTime=t},onClickDesks:function(e){if(0==e)return o.UIManager.showTips("\u4ff1\u4e50\u90e8\u5173\u95ed\u4e2d\uff0c\u65e0\u6cd5\u8fdb\u884c\u76f8\u5173\u64cd\u4f5c"),void o.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");if(r.DataManagerClub.CurClubInfo.score<this.joinLimit)return o.UIManager.showTips("\u79ef\u5206\u4e0d\u8db3"),void o.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");if(this.isDeskFull)return o.UIManager.showTips("\u5f53\u524d\u684c\u5df2\u6ee1\u5458"),void o.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");if(this.isMatch){var t=[];return t.jushu=this.juShu,t.playerCount=this.playerCount,t.deskId=this.deskId,void o.UIManager.open("prefabs/club/ClubRoomMatch",t)}return this.deskId>0?(r.DataManagerClub.complete=!0,void a.NetManager.protocolRpc.sendC2S_CreateDesk(this.deskId,0)):this.roomId>0?(r.DataManagerClub.join=!0,void a.NetManager.protocolRpc.sendC2S_JoinInRoom(this.roomId)):void 0},onTypedesk:function(){o.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),c.AudioManager.playSFX(l.SoundEffect.click),setTimeout(function(){o.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...")},1e3),a.NetManager.protocolRpc.sendC2S_CreateDesk(this.deskId,r.DataManagerClub.Mytype)}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../common/utils/Utils":"Utils","../game/kwx/KWXDefine":"KWXDefine","../game/kwx/protocol/KWXCmd":"KWXCmd","../game/kwx/protocol/MessageQueue":"MessageQueue","../libs/pbkiller/protobuf":"protobuf","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],ClubHall:[function(e,t,n){"use strict";cc._RF.push(t,"13484vsrZpNKZrvI9EMVY+H","ClubHall");var i=m(e("../view/base/BaseView")),r=e("../manager/UIManager"),a=e("../manager/EventClubDef"),o=e("../manager/EventManager"),s=e("../manager/DataManagerClub"),c=e("../manager/DataManager"),l=m(e("../common/UIHelper")),u=e("../manager/NetManager"),h=e("../manager/AudioManager"),f=m(e("../common/utils/Utils")),d=e("../net/NetCmd"),p=(e("../manager/ResManager"),e("../game/kwx/protocol/KWXCmd"),e("../libs/pbkiller/protobuf"),e("../net/HttpUrl"),e("../common/log/LogWrap"),e("../manager/SoundEffect")),g=e("../Define");e("../manager/HotUpdate");function m(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mDeskListView:cc.ScrollView,ClubGameDesk:cc.Prefab,userScoreP:cc.Label,selectGameNode:cc.Node,selectGamePrefab:cc.Prefab,selectGameScoreNode:cc.Node,selectGameScorePrefab:cc.Prefab,bottomBtnLayout:cc.Node,error:cc.Node,YiChangError:cc.Node,MYiChangError:cc.EditBox,Mxunizhuo:cc.Node},onLoad:function(){var e=c.DataManager.storage.getItem("SelectClubId");u.NetManager.protocolRpc.sendC2S_JoinClub(Number(e)),h.AudioManager.playHallBGM();var t=c.DataManager.storage.get("Music_switch"),n=c.DataManager.storage.get("Music_YinXiaoQuan");0==t?h.AudioManager.setBGMVolume(0):h.AudioManager.setBGMVolume(.3),0==n?h.AudioManager.setSFXVolume(0):h.AudioManager.setSFXVolume(1),u.NetManager.protocolRpc.sendC2S_ApplyMessages(),this.applyMes=[],o.EventManager.on(this,a.EventClubDef.Clubstatus,this.onClubstatus.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubEnter,this.ClubEnter.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubTable,this.ClubTable.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubApplyMessage,this.ClubApplyMessage.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubCreateGame,this.ClubCreateGame.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubDeskItemChange,this.ClubDeskItemChange.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubAddMemberScore,this.ClubAddMemberScore.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubScoreModify,this.ClubScoreModify.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubExitFromClub,this.ClubExitFromClub.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubDelGame,this.ClubDelGame.bind(this)),o.EventManager.on(this,a.EventClubDef.Abnormaltable,this.Abnormaltable.bind(this)),o.EventManager.on(this,g.EventDef.GameShow,this.onGameShow.bind(this)),o.EventManager.on(this,g.EventDef.GameHide,this.onGameHide.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubSetAgent,this.ClubSetAgent.bind(this)),o.EventManager.on(this,d.ProtocolRpcCmd.S2C_CancleAgent,this.ClubSetAgent.bind(this)),o.EventManager.on(this,d.ProtocolRpcCmd.S2C_CancleManager,this.ClubSetAgent.bind(this)),o.EventManager.on(this,d.ProtocolRpcCmd.S2C_SetManager,this.ClubSetAgent.bind(this)),o.EventManager.on(this,g.EventDef.SocketOpen,this.onSocketOpen.bind(this)),o.EventManager.on(this,a.EventClubDef.ClubTiQu,this.ClubTiQu.bind(this)),this.desksListData=[],this.selectGame=[],this.selectGameScore=[],this.playDeskCount=0,this.waitDeskCount=0,this.gameDeskCount=0,this.isShowPlayDesk=!0,cc.ClubHallJs=this,this.gamesDesk=[],this.gamesDeskIndex=0,this.DeskisGetFull=!1,this.gamesdata=[],this.CurrentPage=0,this.TablePageCount=0},start:function(){this.Reconnection=this.data},ClubTiQu:function(e){var t=f.default.getFormatGold(s.DataManagerClub.divide100Double(e.newScore).toString());this.userScoreP.string=t},onSocketOpen:function(){console.log("\u91cd\u8fde\u53d1\u9001\u8fdb\u5165\u4ff1\u4e50\u90e8\u6d88\u606fonSocketOpen");var e=c.DataManager.storage.getItem("SelectClubId");u.NetManager.protocolRpc.sendC2S_JoinClub(Number(e))},onGameHide:function(){cc.audioEngine.pauseAll()},onGameShow:function(e){this.onSocketOpen()},ClubSetAgent:function(e){var t=c.DataManager.storage.getItem("SelectClubId");if(console.log(e.playerId),e.playerId==c.DataManager.playerInfo.id.toString()){for(var n=0;n<s.DataManagerClub.MyClubInfo.length;n++)s.DataManagerClub.MyClubInfo[n].clubId==t&&(s.DataManagerClub.MyClubInfo[n].identity=e.errorCode);this.setIdentityBtn(),console.log("\u4ff1\u4e50\u90e8\u4fe1\u606f:",s.DataManagerClub.MyClubInfo)}},ClubDelGame:function(e){if(0==e.errorCode){cc.ClubHallJs.delectPlayDesk(e.gameId);for(var t=0;t<s.DataManagerClub.CurClubInfo.gis.length;t++)s.DataManagerClub.CurClubInfo.gis[t].id==e.gameId&&s.DataManagerClub.CurClubInfo.gis.splice(t,1);this.selectGameNode.removeAllChildren(),this.setGamePlaySelect(s.DataManagerClub.CurClubInfo.gis)}},onClubstatus:function(e){console.log(e),s.DataManagerClub.MyClickDesks=e.open,s.DataManagerClub.Mytype=e.type},Abnormaltable:function(e){0==e.errorCode?r.UIManager.showTips("\u5f02\u5e38\u5904\u7406\u6210\u529f"):2==e.errorCode?r.UIManager.showTips("\u73a9\u5bb6\u6ca1\u6709\u5728\u684c"):r.UIManager.showTips("\u5f02\u5e38\u5904\u7406\u5931\u8d25")},ClubErrorCode:function(e){if(1==e.errorCode)r.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),r.UIManager.showTips("\u8b66\u6212\u503c\u5df2\u8fbe\u5230\u8bf7\u8054\u7cfb\u4e0a\u7ea7...."),cc.instantiate(this.ClubGameDesk).getComponent("ClubGameDesk").onLoad(e);else if(57==e.errorCode){r.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),r.UIManager.showTips("\u94bb\u77f3\u4e0d\u8db3,\u8bf7\u8054\u7cfb\u56e2\u957f...."),cc.instantiate(this.ClubGameDesk).getComponent("ClubGameDesk").onLoad(e)}else if(95==e.errorCode)r.UIManager.showTips("\u7f51\u7edc\u5f02\u5e38,\u8bf7\u91cd\u65b0\u767b\u5f55...."),r.UIManager.open("prefabs/LoginView");else if(302==e.errorCode){r.UIManager.showTips("\u684c\u5b50\u4e0d\u5b58\u5728"),r.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var t=c.DataManager.storage.getItem("SelectClubId");u.NetManager.protocolRpc.sendC2S_JoinClub(Number(t))}},Deletegametable:function(e){for(var t=this.mDeskListView.content.children,n=0;n<t.length;n++){var i=t[n].getComponent("ClubGameDesk");i.roomId==e&&i.node.removeFromParent(!0)}},ClubEnter:function(e){this.unscheduleAllCallbacks(),this.mDeskListView.content.removeAllChildren(),this.selectGameNode.removeAllChildren(),this.selectGameScoreNode.removeAllChildren(),s.DataManagerClub.CurClubInfo=null,s.DataManagerClub.setCurClubInfo(e),r.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),this.initClubInfo(),this.initUserInfo(),this.setIdentityBtn(),this.initPlayDesk(s.DataManagerClub.CurClubInfo.gis),this.setGamePlaySelect(s.DataManagerClub.CurClubInfo.gis),this.node.getChildByName("noticeNode").getComponent("ClubRollNotice").setNotice(),u.NetManager.protocolRpc.sendC2S_ClubTable(0)},ClubTable:function(e){if(e.dis.length>0)for(var t=0;t<e.dis.length;t++){for(var n=!1,i=0;i<s.DataManagerClub.CurClubInfo.dis.length;i++)s.DataManagerClub.CurClubInfo.dis[i].roomId==e.dis[t].roomId&&(s.DataManagerClub.CurClubInfo.dis[i]=e.dis[t],n=!0);n||s.DataManagerClub.CurClubInfo.dis.push(e.dis[t])}if(e.unfullDesk.length>0)for(var r=0;r<e.unfullDesk.length;r++){for(var a=!1,o=0;o<s.DataManagerClub.CurClubInfo.unfullDesk.length;o++)s.DataManagerClub.CurClubInfo.unfullDesk[o].roomId==e.unfullDesk[r].roomId&&(s.DataManagerClub.CurClubInfo.unfullDesk[o]=e.unfullDesk[r],a=!0);a||s.DataManagerClub.CurClubInfo.unfullDesk.push(e.unfullDesk[r])}this.framingLoad()},setIdentityBtn:function(){var e=s.DataManagerClub.getClubIdentity(s.DataManagerClub.CurClubInfo.clubId);e>3&&(this.bottomBtnLayout.getChildByName("btnWanfa").active=!0,this.bottomBtnLayout.getChildByName("btnSetzhi").active=!0,this.bottomBtnLayout.getChildByName("btnChengyuan").active=!0,this.error.active=!0),e>1&&e<4&&(this.bottomBtnLayout.getChildByName("btnWanfa").active=!1,this.bottomBtnLayout.getChildByName("btnSetzhi").active=!1,this.bottomBtnLayout.getChildByName("btnChengyuan").active=!0,this.error.active=!1),1==e&&(this.bottomBtnLayout.getChildByName("btnWanfa").active=!1,this.bottomBtnLayout.getChildByName("btnSetzhi").active=!1,this.bottomBtnLayout.getChildByName("btnChengyuan").active=!1,this.error.active=!1)},ClubApplyMessage:function(e){this.applyMes=e,0===e.length?this.bottomBtnLayout.getChildByName("benXiaoxi").getChildByName("redPoint").active=!1:(this.bottomBtnLayout.getChildByName("benXiaoxi").getChildByName("redPoint").active=!0,this.bottomBtnLayout.getChildByName("benXiaoxi").getChildByName("redPoint").runAction(cc.sequence(cc.scaleTo(.3,.8),cc.scaleTo(.3,1))).repeatForever())},initClubInfo:function(){var e=this.node.getChildByName("clubInfoNode");e.active=!0,e.getChildByName("ClubNameLabel").getComponent(cc.Label).string=s.DataManagerClub.CurClubInfo.name,e.getChildByName("ClubIdLabel").getComponent(cc.Label).string=s.DataManagerClub.CurClubInfo.clubId},initUserInfo:function(){var e=this.node.getChildByName("userNode");e.active=!0,e.getChildByName("userName").getComponent(cc.Label).string=f.default.getSubStringLengTxt(c.DataManager.playerInfo.name),e.getChildByName("userId").getComponent(cc.Label).string=c.DataManager.playerInfo.id.toString();var t=s.DataManagerClub.divide100Double(s.DataManagerClub.CurClubInfo.score);e.getChildByName("scoreBg").getChildByName("score").getComponent(cc.Label).string=f.default.getFormatGold(t.toString()),e.getChildByName("zuanshiBg").getChildByName("zuanshi").getComponent(cc.Label).string=c.DataManager.playerInfo.diamond.toString();var n=e.getChildByName("iconBg").getChildByName("icon");l.default.loadHead(c.DataManager.playerInfo.icon,n)},initPlayDesk:function(e){e.sort(function(e,t){return 1==e.match&&0==t.match?-1:0==e.match&&1==t.match?1:0});for(var t=0;t<e.length;t++)this.CreateOneDesk(0,e[t])},delectPlayDesk:function(e){for(var t=this.mDeskListView.content.children,n=0;n<t.length;n++){var i=t[n].getComponent("ClubGameDesk");if(i.deskId==e){i.node.removeFromParent(!0);break}}},framingLoad:function(){var e=this;console.log("\u684c\u5b50\u5217\u8868",s.DataManagerClub.CurClubInfo);var t=s.DataManagerClub.CurClubInfo.unfullDesk.length+s.DataManagerClub.CurClubInfo.dis.length;if(console.log("\u684c\u5b50\u5217\u8868",t),0!==t){t>0&&this.executePreFrame("test",1,t,function(t){if(e.DeskisGetFull=!0,e.CurrentPage=t,t<s.DataManagerClub.CurClubInfo.unfullDesk.length)e.initGameDesk(s.DataManagerClub.CurClubInfo.unfullDesk[t],s.DataManagerClub.CurClubInfo.gis);else{var n=t-s.DataManagerClub.CurClubInfo.unfullDesk.length;e.initGameDesk(s.DataManagerClub.CurClubInfo.dis[n],s.DataManagerClub.CurClubInfo.gis)}})}},executePreFrame:function(e,t,n,i){var r=0;this[e]=function(){if(r<=n)for(var e=0;e<t;e++)i&&i(r),r++},this.schedule(this[e],1/60,(n-1)/t,0)},initGameDesk:function(e,t){this.CreateOneDesk(1,e,!0)},onClickScroll:function(e,t){switch(t){case cc.ScrollView.EventType.BOUNCE_BOTTOM:console.log("SCROLL_TO_BOTTOM",this.CurrentPage),this.CurrentPage>0&&this.CurrentPage<=this.TablePageCount||r.UIManager.showTips("\u6ca1\u6709\u66f4\u591a\u684c\u4e86")}},setGamePlaySelect:function(e){console.log("setGamePlaySelect"),s.DataManagerClub.CurClubInfo.gis=e;for(var t=[],n=0;n<e.length;n++){var i=100*e[n].gameType,r=e[n].playerCount,a=e[n].param[4],o=i+r;4==e[n].gameType&&(o=i+r+a),-1===t.indexOf(o)&&t.push(o)}console.log("\u73a9\u6cd5",t);for(n=0;n<t.length;n++){var c=cc.instantiate(this.selectGamePrefab);this.selectGameNode.addChild(c);var l="";102===t[n]?(c.gameWanfa=102,l="\u5361\u4e94\u661f\u4e8c\u4eba"):103===t[n]?(c.gameWanfa=103,l="\u5361\u4e94\u661f\u4e09\u4eba"):202===t[n]?(c.gameWanfa=202,l="\u8dd1\u5f97\u5feb\u4e8c\u4eba"):203===t[n]?(c.gameWanfa=203,l="\u8dd1\u5f97\u5feb\u4e09\u4eba"):406===t[n]?(c.gameWanfa=406,l="\u7ecf\u5178\u725b\u516d\u4eba"):408===t[n]?(c.gameWanfa=408,l="\u7ecf\u5178\u725b\u516b\u4eba"):407===t[n]?(c.gameWanfa=407,l="\u70b9\u5b50\u725b\u516d\u4eba"):409===t[n]&&(c.gameWanfa=409,l="\u70b9\u5b50\u725b\u516b\u4eba"),c.children[0].children[0].getComponent(cc.Label).string=l,c.children[1].children[0].getComponent(cc.Label).string=l,c.on(cc.Node.EventType.TOUCH_END,this.selcectGameWanfa,this)}},updateGameHide_show:function(e){console.log("wanfaArrs",e);var t=this.mDeskListView.content.children;if(e.length)for(i=0;i<t.length;i++){t[i].active=!1;for(var n=0;n<e.length;n++){if((r=t[i].getComponent("ClubGameDesk")).gameWanfa===e[n]){r.node.active=!0,r.deskId>0&&(0==t[i].getComponent("ClubGameDesk").isMatch?t[i].active=this.isShowPlayDesk:t[i].active=!0);break}}}else for(var i=0;i<t.length;i++){var r;t[i].active=!0,(r=t[i].getComponent("ClubGameDesk")).deskId>0&&(0==t[i].getComponent("ClubGameDesk").isMatch?t[i].active=this.isShowPlayDesk:t[i].active=!0)}},updateRadixHide_show:function(e,t){var n=this.mDeskListView.content.children;if(t.length){for(var i=0;i<n.length;i++)for(var r=n[i].getComponent("ClubGameDesk"),a=0;a<e.length;a++)if(r.gameWanfa===e[a]){var o=!1;for(var s in t)if(r.gameRadix===t[s]){o=!0,r.deskId>0&&0==r.isMatch&&(o=this.isShowPlayDesk);break}r.node.active=o}}else this.updateGameHide_show(this.selectGame)},selcectGameWanfa:function(e){this.selectGameScoreNode.removeAllChildren();var t=this.selectGame.indexOf(e.target.gameWanfa);-1===t?this.selectGame.push(e.target.gameWanfa):this.selectGame.splice(t,1),this.selectGameScore=[],this.updateGameHide_show(this.selectGame);for(var n=s.DataManagerClub.CurClubInfo.gis,i=[],r=0;r<n.length;r++){var a=100*n[r].gameType,o=n[r].playerCount,c=a+o,l=n[r].param[4];4==n[r].gameType&&(c=a+o+l);for(var u=0;u<this.selectGame.length;u++){c===this.selectGame[u]&&-1===i.indexOf(n[r].radix)&&i.push(n[r].radix)}}i.sort(function(e,t){return e-t});for(r=0;r<i.length;r++){var h=cc.instantiate(this.selectGameScorePrefab);this.selectGameScoreNode.addChild(h),h.children[0].children[0].getComponent(cc.Label).string=s.DataManagerClub.divide100Double(i[r]).toString(),h.children[1].children[0].getComponent(cc.Label).string=s.DataManagerClub.divide100Double(i[r]).toString(),h.on(cc.Node.EventType.TOUCH_END,this.selectGameWanfaScore,this),h.radix=i[r]}},selectGameWanfaScore:function(e){var t=this.selectGameScore.indexOf(e.target.radix);-1===t?this.selectGameScore.push(e.target.radix):this.selectGameScore.splice(t,1),this.updateRadixHide_show(this.selectGame,this.selectGameScore)},sortDeskListView:function(){this.mDeskListView.content.children.sort(function(e,t){return t.getComponent("ClubGameDesk").radix-e.getComponent("ClubGameDesk").radix})},ClubDeskItemChange:function(e){console.log("ClubDeskItemChange",e);for(var t=0;t<e.updates.length;t++){var n=e.updates[t],i=this.findGame(n.gameId),r=this.findGameDesk(n.roomId);r?(1===n.playTimes?r.updateplayTimes(1):1===n.updateType?r.updateUserDown(n):2===n.updateType?(r.userExitDesks(n.pi.id),r.isMaxDesks(e),r.isHasUser()||r.node.removeFromParent(!0)):3===n.updateType&&r.updateplayTimes(n.playerTimes,r.gameType),n.pi?1==n.pi.ready&&r.PlayerItem(n):r.updatekaishi(n)):n.gameId&&7!=n.updateType&&8!=n.updateType&&(this.DeskisGetFull=!1,this.CreateOneDesk(1,n,!1)),i&&(7===n.updateType?i.TotalMatching(1):8===n.updateType&&i.TotalMatching(-1))}},ChangeGameName:function(e){if(0===e.errorCode)for(var t=this.mDeskListView.content.children,n=0;n<t.length;n++){var i=t[n].getComponent("ClubGameDesk");if(i.deskId==e.gameId){i.updateGuiZe(e.name);break}}},findGameDesk:function(e){for(var t=this.mDeskListView.content.children,n=0;n<t.length;n++){var i=t[n].getComponent("ClubGameDesk");if(i.roomId==e)return i}},findGame:function(e){for(var t=this.mDeskListView.content.children,n=0;n<t.length;n++){var i=t[n].getComponent("ClubGameDesk");if(i.deskId==e)return i}},ClubExitFromClub:function(e){s.DataManagerClub.ExitFromClub(e.clubId),r.UIManager.showTips("\u4f60\u9000\u51fa\u4ff1\u4e50\u90e8"+e.clubId),this.close(),console.log(u.NetManager.isReconnect),this.Reconnection&&r.UIManager.open("prefabs/HallView")},ClubAddMemberScore:function(e){if(0===e.errorCode){s.DataManagerClub.CurClubInfo.score=e.selfLeft;var t=s.DataManagerClub.divide100Double(s.DataManagerClub.CurClubInfo.score).toString();this.userScoreP.string=f.default.getFormatGold(t)}else r.UIManager.showTips("\u64cd\u4f5c\u5931\u8d25")},ClubScoreModify:function(e){s.DataManagerClub.CurClubInfo.clubId===e.clubId&&(s.DataManagerClub.CurClubInfo.score=e.score,this.userScoreP.string=s.DataManagerClub.divide100Double(s.DataManagerClub.CurClubInfo.score).toString())},onClickCteatePlay:function(e){h.AudioManager.playSFX(p.SoundEffect.click),r.UIManager.popup("prefabs/CreateRoom")},onClickSetting:function(e){h.AudioManager.playSFX(p.SoundEffect.button),r.UIManager.popup("prefabs/club/ClubSetting")},onClickMessage:function(e){h.AudioManager.playSFX(p.SoundEffect.button),r.UIManager.popup("prefabs/club/ClubMessage",this.applyMes)},onClickPlayer:function(e){s.DataManagerClub.getClubIdentity(s.DataManagerClub.CurClubInfo.clubId)>1?(h.AudioManager.playSFX(p.SoundEffect.button),r.UIManager.popup("prefabs/club/ClubPlayer")):r.UIManager.showTips("\u9700\u8981\u7ba1\u7406\u5458\u4ee5\u4e0a")},onClickRecord:function(e){h.AudioManager.playSFX(p.SoundEffect.button),r.UIManager.popup("prefabs/club/ClubRecord")},CreateOneDesk:function(e,t,n,i){var r=cc.instantiate(this.ClubGameDesk);if(0===e)this.mDeskListView.content.insertChild(r,this.playDeskCount),this.playDeskCount++,r.getComponent("ClubGameDesk").initPlayDesk(t);else if(1===e){if(this.mDeskListView.content.addChild(r),this.DeskisGetFull)var a=s.DataManagerClub.CurClubInfo.gis.length+this.CurrentPage;else a=s.DataManagerClub.CurClubInfo.gis.length;r.setSiblingIndex(a),r.getComponent("ClubGameDesk").initGameDesk(t,n,i)}},ClubCreateGame:function(e){0===e.errorCode?(r.UIManager.showTips("\u521b\u5efa\u6210\u529f"),s.DataManagerClub.ClubAddPlayDesk(e.gi),this.CreateOneDesk(0,e.gi),this.mDeskListView.content.removeAllChildren(),this.selectGameNode.removeAllChildren(),this.selectGameScoreNode.removeAllChildren(),this.initPlayDesk(s.DataManagerClub.CurClubInfo.gis),s.DataManagerClub.CurClubInfo.unfullDesk=[],s.DataManagerClub.CurClubInfo.dis=[],u.NetManager.protocolRpc.sendC2S_ClubTable(0),this.setGamePlaySelect(s.DataManagerClub.CurClubInfo.gis)):r.UIManager.showTips("\u521b\u5efa\u5931\u8d25")},onClickClose:function(e){this.close()},hideShowPlayGameDesk:function(e){for(var t=this.mDeskListView.content.children,n=0;n<t.length;n++)if(0==t[n].getComponent("ClubGameDesk").isMatch){var i=t[n].getComponent("ClubGameDesk");i.deskId>0&&(i.node.active=e?i.deskId>0:!i.deskId>0)}},onClickShowHideDesk:function(e){e.node.getChildByName("xianshi").active=e.isChecked,e.node.getChildByName("yincang").active=!e.isChecked,this.isShowPlayDesk=e.isChecked,this.hideShowPlayGameDesk(e.isChecked)},fanhui:function(e){r.UIManager.popup("prefabs/club/ClubList"),this.close()},yichangerror:function(){this.YiChangError.active,h.AudioManager.playSFX(p.SoundEffect.button),this.YiChangError.active=!this.YiChangError.active},onclubchat:function(){r.UIManager.popup("prefabs/club/ClubChat")},onyichangerror:function(){var e=Number(this.MYiChangError.string);console.log("\u8f93\u5165\u7684\u6570\u5b57:"+e),e>1e5&&e<9999999?(u.NetManager.protocolRpc.sendC2S_Abnormaltable(e),this.YiChangError.active=!this.YiChangError.active):0==e?r.UIManager.showTips("\u8bf7\u8f93\u5165\u73a9\u5bb6ID"):r.UIManager.showTips("\u73a9\u5bb6\u4e0d\u5b58\u5728")}}),cc._RF.pop()},{"../Define":"Define","../common/UIHelper":"UIHelper","../common/log/LogWrap":"LogWrap","../common/utils/Utils":"Utils","../game/kwx/protocol/KWXCmd":"KWXCmd","../libs/pbkiller/protobuf":"protobuf","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/HotUpdate":"HotUpdate","../manager/NetManager":"NetManager","../manager/ResManager":"ResManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCmd":"NetCmd","../view/base/BaseView":"BaseView"}],ClubList:[function(e,t,n){"use strict";cc._RF.push(t,"c68d3A1ZiVEIaVwWgz1kQbB","ClubList");var i=d(e("../view/base/BaseView")),r=d(e("../common/UIHelper")),a=e("../manager/UIManager"),o=e("../manager/DataManager"),s=e("../manager/EventManager"),c=e("../manager/EventClubDef"),l=(e("../manager/NetManager"),e("../manager/DataManagerClub")),u=e("../manager/AudioManager"),h=(d(e("../common/utils/Base64")),d(e("../common/utils/Utils"))),f=e("../manager/SoundEffect");e("../manager/ResManager");function d(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mClubExist:cc.Prefab,mClubLayout:cc.Node,createSucceed:cc.Node,createFail:cc.Node,clubListNone:cc.Node},onLoad:function(){console.log("ClubList"),s.EventManager.on(this,c.EventClubDef.ClubCreate,this.ClubCreate.bind(this)),s.EventManager.on(this,c.EventClubDef.ClubNewClub,this.ClubNewClub.bind(this)),s.EventManager.on(this,c.EventClubDef.ClubExitFromClub,this.ClubExitFromClub.bind(this))},start:function(e){this.setClubList(l.DataManagerClub.MyClubInfo)},setClubList:function(e){console.log(e),0==e.length&&(this.mClubLayout.removeAllChildren(!0),this.clubListNone.active=!0),e.length>0&&(this.mClubLayout.removeAllChildren(!0),this.clubListNone.active=!1);for(var t=0;t<e.length&&t<3;t++){var n=e[t],i=cc.instantiate(this.mClubExist);i.getChildByName("clubname").getComponent(cc.Label).string=n.clubName,i.getChildByName("clubid").getComponent(cc.Label).string=n.clubId,i.getChildByName("username").getComponent(cc.Label).string=n.masterName,i.getChildByName("usershenfen").getComponent(cc.Label).string=l.DataManagerClub.ClubIdentity[n.identity-1];var s=i.getChildByName("iconBg").getChildByName("clubicon");r.default.loadHead(n.masterIcon,s),this.mClubLayout.addChild(i),i.clubId=n.clubId,i.on(cc.Node.EventType.TOUCH_END,function(e){console.log("\u8fdb\u5165\u4ff1\u4e50\u90e8:"+h.default.getFormatDate(cc.sys.now(),"mmssSS")),o.DataManager.storage.setItem("SelectClubId",e.target.clubId),u.AudioManager.playSFX(f.SoundEffect.button),a.UIManager.popup("prefabs/club/ClubHall",!0)},this)}},ClubNewClub:function(e){this.setClubList(l.DataManagerClub.MyClubInfo)},ClubExitFromClub:function(e){var t=this;this.scheduleOnce(function(){t.setClubList(l.DataManagerClub.MyClubInfo)},1)},ClubJoin:function(e){u.AudioManager.playSFX(f.SoundEffect.click),l.DataManagerClub.MyClubInfo.length>=3?a.UIManager.showTips("\u574a\u53cb\u56e2\u5df2\u8fbe\u4e0a\u9650"):a.UIManager.popup("prefabs/JoinRoom")},ClubCreate:function(e){if(0===e.errorCode){this.createSucceed.active=!0,this.createSucceed.getChildByName("clubName").getComponent(cc.Label).string=e.name,this.createSucceed.getChildByName("clubID").getComponent(cc.Label).string="\u574a\u53cb\u56e2ID\uff1a"+e.clubId;var t={clubId:e.clubId,clubName:e.name,identity:5,masterIcon:o.DataManager.playerInfo.icon,masterName:o.DataManager.playerInfo.name,score:0};l.DataManagerClub.MyClubInfo.push(t),this.setClubList(l.DataManagerClub.MyClubInfo)}else this.createFail.active=!0},onClickCloseCreateFail:function(e){this.createFail.active=!1},onClickCloseCreateSucceed:function(e){this.createSucceed.active=!1},onClickCreate:function(e){u.AudioManager.playSFX(f.SoundEffect.button),l.DataManagerClub.MyClubInfo.length>=3?a.UIManager.showTips("\u574a\u53cb\u56e2\u5df2\u8fbe\u4e0a\u9650"):a.UIManager.popup("prefabs/club/ClubCreate")},onClickBack:function(e){a.UIManager.popup("prefabs/HallView"),this.close()}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../common/utils/Base64":"Base64","../common/utils/Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/ResManager":"ResManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],ClubMessage:[function(e,t,n){"use strict";cc._RF.push(t,"8bb9dd0/exNtp1tc7o7ru9i","ClubMessage");var i=m(e("../view/base/BaseView")),r=e("../manager/UIManager"),a=e("../manager/EventClubDef"),o=e("../manager/EventManager"),s=e("../manager/DataManagerClub"),c=e("../manager/DataManager"),l=m(e("../common/UIHelper")),u=e("../manager/NetManager"),h=(e("../net/NetCmd"),m(e("../common/utils/Utils"))),f=e("../manager/AudioManager"),d=e("../net/HttpUrl"),p=e("../net/NetCode"),g=(m(e("../common/utils/Base64")),e("../manager/SoundEffect"));function m(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mMsgScroll:cc.ScrollView,mMsgList:cc.Prefab,mApplyScroll:cc.ScrollView,mApplyList:cc.Prefab,mDateLayer:cc.Node,mTabToggle:cc.Node},onLoad:function(){o.EventManager.on(this,a.EventClubDef.ClubInvite,this.ClubInvite.bind(this));var e=s.DataManagerClub.getClubIdentity(s.DataManagerClub.CurClubInfo.clubId);this.mTabToggle.getChildByName("toggle2").active=e>=4},start:function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1)),this.mTabToggle.children[1].getChildByName("redPoint").runAction(cc.sequence(cc.scaleTo(.3,.8),cc.scaleTo(.3,1))).repeatForever(),this.ClubApplyMessage(this.data);var e=new Date;this.messageDate=e.getFullYear()+"_"+(e.getMonth()+1)+"_"+e.getDate(),this.clubMessageData(this.messageDate),this.initDateRecord()},onClickToggle:function(e){f.AudioManager.playSFX(g.SoundEffect.button);var t=e.target.targetDate;this.messageDate=t,this.mMsgScroll.content.removeAllChildren(),this.clubMessageData(t)},clubMessageData:function(e){var t=this,n=c.DataManager.playerInfo.id.toString(),i=(c.DataManager.storage.getItem("token"),s.DataManagerClub.CurClubInfo.clubId),a=d.HttpUrl.getRizhi.url+"?userId="+n+"&clubId="+i+"&gameDate="+e+"&time=3333&sign=333";r.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),u.NetManager.requestGetUrl(a,function(e,n){r.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(n);i.status==p.HTTP_CODE.SUCCESS?(t.recordData=i.data,t.ClubApplyMsg(t.recordData)):r.UIManager.showTips(p.HTTP_CODE_MSG[i.status])})},onClickTab:function(e){f.AudioManager.playSFX(g.SoundEffect.button);var t=e.target.name;this.mMsgScroll.node.active="toggle1"==t,this.mApplyScroll.node.active="toggle2"==t,"toggle1"==t?(this.node.getChildByName("RiZhiScrollView").active=!0,this.node.getChildByName("XiaoXiScrollView").active=!1):"toggle2"==t&&(this.node.getChildByName("XiaoXiScrollView").active=!0,this.node.getChildByName("RiZhiScrollView").active=!1)},ClubApplyMsg:function(e){if(this.mMsgScroll.content.removeAllChildren(),0==e){var t=cc.instantiate(this.mMsgList);this.mMsgScroll.content.addChild(t),t.getChildByName("date").active=!1,t.getChildByName("user0").active=!1,t.getChildByName("user1").active=!1,t.getChildByName("score").active=!1,t.getChildByName("hescore").active=!1,t.getChildByName("line").active=!1,t.getChildByName("New Label").active=!0,t.getChildByName("New Label").getComponent(cc.Label).string="\u6682\u65e0\u65e5\u5fd7"}else for(var n=0;n<e.length;n++){var i=e[n];t=cc.instantiate(this.mMsgList);this.mMsgScroll.content.addChild(t),t.getChildByName("date").getComponent(cc.Label).string=i.date,t.getChildByName("user0").getComponent(cc.Label).string=i.user_name1,"\u63d0\u53d6"==i.log_type?t.getChildByName("user1").getComponent(cc.Label).string=i.log_type:t.getChildByName("user1").getComponent(cc.Label).string=i.user_name2||i.user_name1,t.getChildByName("score").getComponent(cc.Label).string=s.DataManagerClub.divide100Double(i.score_add),t.getChildByName("hescore").getComponent(cc.Label).string=s.DataManagerClub.divide100Double(i.score_left),t.getChildByName("score").getComponent(cc.Label).string<0&&(t.getChildByName("score").color=new cc.Color(255,0,0,255))}},ClubApplyMessage:function(e){if(this.mTabToggle.children[1].getChildByName("redPoint").active=e.length>0,this.mApplyScroll.content.removeAllChildren(),0==e){var t=cc.instantiate(this.mApplyList);this.mApplyScroll.content.addChild(t),t.getChildByName("name").active=!1,t.getChildByName("id").active=!1,t.getChildByName("riqi").active=!1,t.getChildByName("neixing").active=!1,t.getChildByName("icon").active=!1,t.getChildByName("btnTongyi").active=!1,t.getChildByName("btnJujue").active=!1,t.getChildByName("line").active=!1,t.getChildByName("New Label").active=!0,t.getChildByName("New Label").getComponent(cc.Label).string="\u6682\u65e0\u6d88\u606f"}else for(var n=0;n<e.length;n++){var i=e[n];(t=cc.instantiate(this.mApplyList)).playerId=i.playerId;var r=""+h.default.timestampToTime(i.applyTime);this.mApplyScroll.content.addChild(t),t.getChildByName("name").getComponent(cc.Label).string=i.name,t.getChildByName("id").getComponent(cc.Label).string=i.playerId,t.getChildByName("riqi").getComponent(cc.Label).string=r,(i.join=!0)?t.getChildByName("neixing").getComponent(cc.Label).string="\u7533\u8bf7\u52a0\u5165":t.getChildByName("neixing").getComponent(cc.Label).string="\u7533\u8bf7\u9000\u51fa";var a=t.getChildByName("icon");l.default.loadHead(i.icon,a);var o=t.getChildByName("btnTongyi");o.playerId=i.playerId,o.on(cc.Node.EventType.TOUCH_END,function(e){f.AudioManager.playSFX(g.SoundEffect.click),u.NetManager.protocolRpc.sendC2S_HandleApply(e.target.playerId,!0)}.bind(this),this);var s=t.getChildByName("btnJujue");s.playerId=i.playerId,s.on(cc.Node.EventType.TOUCH_END,function(e){f.AudioManager.playSFX(g.SoundEffect.click),u.NetManager.protocolRpc.sendC2S_HandleApply(e.target.playerId,!1),this.ClubInvite({errorCode:0,id:e.target.playerId})}.bind(this),this)}},ClubInvite:function(e){if(0===e.errorCode){for(var t=0;t<this.data.length;t++)if(this.data[t].playerId==e.id){this.data.splice(t,1),this.ClubApplyMessage(this.data),cc.ClubHallJs.ClubApplyMessage(this.data);break}r.UIManager.showTips("\u5df2\u5904\u7406")}else r.UIManager.showTips("\u51fa\u73b0\u9519\u8bef")},getBeforeDate:function(e){var t=e,n=new Date,i=n.getFullYear(),r=n.getMonth()+1,a=n.getDate();return a<=t&&(r>1?r-=1:(i-=1,r=12)),n.setDate(n.getDate()-t),i=n.getFullYear(),{ymd:(r=n.getMonth()+1)+"\u6708"+(a=n.getDate())+"\u65e5",ymd2:i+"_"+r+"_"+a}},initDateRecord:function(){for(var e=this.mDateLayer.children[0],t=0;t<7;t++)if(t<2){var n=this.mDateLayer.children[t],i=this.getBeforeDate(t);n.targetDate=i.ymd2}else{var r=cc.instantiate(e);r.name="toggle"+t,this.mDateLayer.addChild(r);var a=this.getBeforeDate(t);r.targetDate=a.ymd2,r.getChildByName("date").getComponent(cc.Label).string=a.ymd}}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../common/utils/Base64":"Base64","../common/utils/Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCmd":"NetCmd","../net/NetCode":"NetCode","../view/base/BaseView":"BaseView"}],ClubPlayerDetails:[function(e,t,n){"use strict";cc._RF.push(t,"3fb576wOdhIV4BS801rbVpg","ClubPlayerDetails");var i=p(e("../view/base/BaseView")),r=e("../manager/NetManager"),a=e("../manager/UIManager"),o=e("../manager/DataManagerClub"),s=p(e("../common/UIHelper")),c=e("../manager/DataManager"),l=p(e("../common/utils/Utils")),u=e("../manager/EventManager"),h=e("../manager/EventClubDef"),f=e("../manager/AudioManager"),d=e("../manager/SoundEffect");function p(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mJichuNode:cc.Node,mQuanXianNode:cc.Node,mJinzhiNode:cc.Node,mShanChuNode:cc.Node,mJifenNode:cc.Node,mCaipanNode:cc.Node,mInputScore:cc.EditBox,mTiShi:cc.Node,Warningvalue:cc.Node,waningValue:cc.EditBox,kaiguan:cc.Node},onLoad:function(){u.EventManager.on(this,h.EventClubDef.ClubSetManager,this.ClubSetManager.bind(this)),u.EventManager.on(this,h.EventClubDef.ClubCancleManager,this.ClubCancleManager.bind(this)),u.EventManager.on(this,h.EventClubDef.ClubSetAgent,this.ClubSetAgent.bind(this)),u.EventManager.on(this,h.EventClubDef.ClubCancelAgent,this.ClubCancelAgent.bind(this)),u.EventManager.on(this,h.EventClubDef.ClubDeleteMember,this.ClubDeleteMember.bind(this)),u.EventManager.on(this,h.EventClubDef.SetWarningValue,this.WarningValue.bind(this)),u.EventManager.on(this,h.EventClubDef.GetWaningValue,this.GetWaningValue.bind(this)),u.EventManager.on(this,h.EventClubDef.ClubRefreshScore,this.ClubRefreshScore.bind(this))},start:function(){if(console.log("ClubPlayerDetails start",this.data),this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1)),1==this.data.identity)var e="\u6210\u5458";else if(2==this.data.identity)e="\u5408\u4f19\u4eba\u7ba1\u7406\u5458";else if(3==this.data.identity)e="\u5408\u4f19\u4eba";else if(4==this.data.identity)e="\u56e2\u957f\u7ba1\u7406\u5458";else if(5==this.data.identity)e="\u56e2\u957f";r.NetManager.protocolRpc.sendC2S_RefreshScore(this.data.id);var t=this.node.getChildByName("detailsBg").getChildByName("userInfo");t.getChildByName("name").getComponent(cc.Label).string=this.data.name,t.getChildByName("userId").getComponent(cc.Label).string="ID\uff1a"+this.data.id,t.getChildByName("chengyuan").getComponent(cc.Label).string="\u8eab\u4efd\uff1a"+e,t.getChildByName("userScore").getComponent(cc.Label).string="\u79ef\u5206\uff1a"+o.DataManagerClub.divide100Double(this.data.score),t.getChildByName("userTime").getComponent(cc.Label).string="\u5165\u56e2\u65f6\u95f4\uff1a"+l.default.timestampToTime(this.data.joinTime);var n=t.getChildByName("iconBg").getChildByName("icon");if(s.default.loadHead(this.data.icon,n),this.initJiChuSetting(),this.initShanchuChengyuan(),c.DataManager.playerInfo.id.toString()==this.data.id){var i=this.mJichuNode.getChildByName("btnLayout");i.getChildByName("on-button-gly").active=!1,i.getChildByName("on-button-hhr").active=!1}for(var a=0;a<c.DataManager.playerInfo.clubs.length;a++){var u=c.DataManager.playerInfo.clubs[a];if(o.DataManagerClub.CurClubInfo.clubId==u.clubId)var h=u.identity}5==h&&5==this.data.identity?this.node.getChildByName("ToggleContainer").getChildByName("toggle1").active=!1:h<=5&&4==this.data.identity?(this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-gly").active=!0,this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-jjyl").active=!0):h<=5&&3==this.data.identity?(this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-hhr").active=!0,this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-jjyl").active=!0,this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-qzjs").active=!0,this.mJichuNode.getChildByName("btnLayout").getChildByName("button-jjx").active=!0):h<=5&&2==this.data.identity?(this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-gly").active=!0,this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-jjyl").active=!0):h<=5&&1==this.data.identity&&(this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-hhr").active=!0,this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-jjyl").active=!0,5==h?(this.node.getChildByName("ToggleContainer").getChildByName("toggle4").active=!0,this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-gly").active=!0):this.mJichuNode.getChildByName("btnLayout").getChildByName("on-button-gly").active=2!=h&&4!=h)},ClubRefreshScore:function(e){this.node.getChildByName("detailsBg").getChildByName("userInfo").getChildByName("userScore").getComponent(cc.Label).string="\u79ef\u5206\uff1a"+o.DataManagerClub.divide100Double(e.score),this.data.score=e.score},onwaningValuekaiguan:function(){1==this.kaiguan.getChildByName("toggle1").getComponent(cc.Toggle).isChecked?(this.waningValue.string=0,this.waningValue.node.active=!1):(this.waningValue.node.active=!0,this.waningValue.string="")},GetWaningValue:function(e){if(0==e.waningValue)1==this.kaiguan.getChildByName("toggle1").getComponent(cc.Toggle).isChecked&&(this.waningValue.string=0),this.kaiguan.getChildByName("toggle1").getComponent(cc.Toggle).isChecked=!0,this.waningValue.node.active=!1;else{this.kaiguan.getChildByName("toggle2").getComponent(cc.Toggle).isChecked=!0;var t=e.waningValue;this.waningValue.string=o.DataManagerClub.divide100Double(t),this.waningValue.node.active=!0}},initJiChuSetting:function(){var e=this.mJichuNode.getChildByName("btnLayout");this.onButtonGly=e.getChildByName("on-button-gly"),this.onButtonHhr=e.getChildByName("on-button-hhr"),this.onButtonJzyl=e.getChildByName("on-button-jjyl"),this.onButtonQzjs=e.getChildByName("on-button-qzjs"),this.onButtonFpbl=e.getChildByName("button-fpbl"),this.onButtonGly.children[0].active=2==this.data.identity||4==this.data.identity,this.onButtonHhr.children[0].active=3==this.data.identity,this.onButtonJzyl.children[0].active=this.data.isJzyl,this.onButtonQzjs.children[0].active=this.data.isQzjs,this.onButtonFpbl.active=3==this.data.identity&&this.data.directly},initShanchuChengyuan:function(){this.mShanChuNode.getChildByName("name").getComponent(cc.Label).string=this.data.name},ClubSetManager:function(e){2==e.errorCode||4==e.errorCode?(a.UIManager.showTips("\u8bbe\u7f6e\u7ba1\u7406\u5458\u6210\u529f"),this.onButtonGly.children[0].active=!0,this.close()):a.UIManager.showTips("\u8bbe\u7f6e\u7ba1\u7406\u5458\u5931\u8d25")},ClubCancleManager:function(e){1==e.errorCode?(this.data.identity=1,this.onButtonGly.children[0].active=!1,a.UIManager.showTips("\u53d6\u6d88\u7ba1\u7406\u5458\u6210\u529f"),this.close()):a.UIManager.showTips("\u53d6\u6d88\u7ba1\u7406\u5458\u5931\u8d25")},ClubSetAgent:function(e){3==e.errorCode?(this.data.identity=3,this.onButtonHhr.children[0].active=!0,a.UIManager.showTips("\u8bbe\u7f6e\u5408\u4f19\u4eba\u6210\u529f"),this.close()):a.UIManager.showTips("\u8bbe\u7f6e\u5408\u4f19\u4eba\u5931\u8d25")},ClubCancelAgent:function(e){37==e.errorCode?(a.UIManager.showTips("\u5408\u4f19\u4eba\u4e0b\u6709\u6210\u5458\u8bf7\u5220\u9664\u6210\u5458"),this.close()):(this.data.identity=1,this.onButtonHhr.children[0].active=!1,a.UIManager.showTips("\u53d6\u6d88\u5408\u4f19\u4eba\u6210\u529f"),this.close())},onClickToggledetails:function(e){f.AudioManager.playSFX(d.SoundEffect.button);var t=e.node.name;this.mJichuNode.active="toggle1"==t,this.mQuanXianNode.active="toggle2"==t,this.mJinzhiNode.active="toggle3"==t,this.mShanChuNode.active="toggle4"==t,this.mJifenNode.active="toggle5"==t},onClickCaipan:function(e){f.AudioManager.playSFX(d.SoundEffect.button),this.mCaipanNode.active=!0},onClickHideCaipan:function(e){f.AudioManager.playSFX(d.SoundEffect.button),this.mCaipanNode.active=!1},onClickNumer:function(e){f.AudioManager.playSFX(d.SoundEffect.button);var t=e.target.name;if("number1"==t&&(this.mInputScore.string+="1"),"number2"==t&&(this.mInputScore.string+="2"),"number3"==t&&(this.mInputScore.string+="3"),"number4"==t&&(this.mInputScore.string+="4"),"number5"==t&&(this.mInputScore.string+="5"),"number6"==t&&(this.mInputScore.string+="6"),"number7"==t&&(this.mInputScore.string+="7"),"number8"==t&&(this.mInputScore.string+="8"),"number9"==t&&(this.mInputScore.string+="9"),"number0"==t&&(this.mInputScore.string+="0"),"numberReset"==t&&(this.mInputScore.string=""),"numberDelect"==t){var n=this.mInputScore.string;Number(n)>0&&(this.mInputScore.string=n.substr(0,n.length-1))}},onClickAddScore:function(e){var t=Number(this.mInputScore.string),n=this.data.identity,i=o.DataManagerClub.divide100Double(o.DataManagerClub.CurClubInfo.score);t>0?5==n||i>=t?(r.NetManager.protocolRpc.sendC2S_AddMemberScore(this.data.id,o.DataManagerClub.submit100Double(t)),a.UIManager.showTips("\u589e\u52a0\u6210\u529f"),this.close()):(f.AudioManager.playSFX(d.SoundEffect.button),a.UIManager.showTips("\u589e\u52a0\u5931\u8d25")):a.UIManager.showTips("\u8bf7\u8f93\u5165\u5206\u6570")},onClickReduceScore:function(e){var t=Number(this.mInputScore.string),n=o.DataManagerClub.divide100Double(this.data.score);t>0?t<=n?(r.NetManager.protocolRpc.sendC2S_AddMemberScore(this.data.id,o.DataManagerClub.submit100Double(-t)),a.UIManager.showTips("\u51cf\u5c11\u6210\u529f"),this.close()):(f.AudioManager.playSFX(d.SoundEffect.button),a.UIManager.showTips("\u51cf\u5c11\u5931\u8d25")):a.UIManager.showTips("\u8bf7\u8f93\u5165\u5206\u6570")},onClickSetManager:function(e){var t=this;switch(f.AudioManager.playSFX(d.SoundEffect.button),this.data.identity){case 5:a.UIManager.showTips("\u4f60\u5df2\u7ecf\u662f\u56e2\u957f");break;case 3:a.UIManager.showTips("\u4f60\u5df2\u7ecf\u662f\u5408\u4f19\u4eba\u4e86");break;case 1:this.mTiShi.active=!0,this.mTiShi.getChildByName("tishiwenzi").getComponent(cc.Label).string="\u786e\u5b9a\u8981\u8bbe\u7f6e\u4e3a\u7ba1\u7406\u5458\uff1f",this.mTiShi.getChildByName("37-button-qr").on(cc.Node.EventType.TOUCH_END,function(e){r.NetManager.protocolRpc.sendC2S_SetManager(t.data.id)},this)}},onTiShiQuXiao:function(e){f.AudioManager.playSFX(d.SoundEffect.button),this.mTiShi.active=!1},onClickCancleManager:function(){var e=this;(f.AudioManager.playSFX(d.SoundEffect.button),2==this.data.identity||4==this.data.identity)&&(this.mTiShi.active=!0,this.mTiShi.getChildByName("tishiwenzi").getComponent(cc.Label).string="\u786e\u5b9a\u8981\u53d6\u6d88\u7ba1\u7406\u5458\uff1f",this.mTiShi.getChildByName("37-button-qr").on(cc.Node.EventType.TOUCH_END,function(t){r.NetManager.protocolRpc.sendC2S_CancleManager(e.data.id)},this))},onClickSetAgent:function(e){var t=this;switch(f.AudioManager.playSFX(d.SoundEffect.button),this.data.identity){case 5:a.UIManager.showTips("\u4f60\u5df2\u7ecf\u662f\u56e2\u957f");break;case 2:a.UIManager.showTips("\u4f60\u5df2\u7ecf\u662f\u7ba1\u7406\u5458\u4e86");break;case 1:this.mTiShi.active=!0,this.mTiShi.getChildByName("tishiwenzi").getComponent(cc.Label).string="\u786e\u5b9a\u8981\u8bbe\u7f6e\u4e3a\u5408\u4f19\u4eba\uff1f",this.mTiShi.getChildByName("37-button-qr").on(cc.Node.EventType.TOUCH_END,function(e){r.NetManager.protocolRpc.sendC2S_SetAgent(t.data.id)},this)}},onClickCancleAgent:function(){var e=this;(f.AudioManager.playSFX(d.SoundEffect.click),3==this.data.identity)&&(this.mTiShi.active=!0,this.mTiShi.getChildByName("tishiwenzi").getComponent(cc.Label).string="\u786e\u5b9a\u8981\u53d6\u6d88\u5408\u4f19\u4eba\uff1f",this.mTiShi.getChildByName("37-button-qr").on(cc.Node.EventType.TOUCH_END,function(t){r.NetManager.protocolRpc.sendC2S_CancleAgent(e.data.id)},this))},onClickDeleteMember:function(e){f.AudioManager.playSFX(d.SoundEffect.click),o.DataManagerClub.submit100Double(this.data.score)>1e4?a.UIManager.showTips("\u79ef\u5206\u4e0d\u4e3a\u7a7a\u4e0d\u80fd\u8e22\u51fa"):r.NetManager.protocolRpc.sendC2S_DeleteMember(this.data.id)},ClubDeleteMember:function(e){this.close()},onClickProportion:function(e){f.AudioManager.playSFX(d.SoundEffect.click),a.UIManager.popup("prefabs/club/ClubSetProportion",this.data)},onWarningvalue:function(e){f.AudioManager.playSFX(d.SoundEffect.click),this.Warningvalue.active=!0,r.NetManager.protocolRpc.sendC2S_GetWaningValue(this.data.id)},onClickWarningvalue:function(e){f.AudioManager.playSFX(d.SoundEffect.button),this.Warningvalue.active=!1},onWarningvalueconfirm:function(e){f.AudioManager.playSFX(d.SoundEffect.button);var t=Number(o.DataManagerClub.submit100Double(this.waningValue.string));r.NetManager.protocolRpc.sendC2S_SetWarningValue(this.data.id,!0,1,t)},WarningValue:function(e){0==e.errorCode&&(a.UIManager.showTips("\u8bbe\u7f6e\u8b66\u6212\u503c\u6210\u529f"),this.Warningvalue.active=!1)}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../common/utils/Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],ClubPlayerList_GroupList:[function(e,t,n){"use strict";cc._RF.push(t,"26bd89gU3tBN5QeWNFelJJ1","ClubPlayerList_GroupList");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("../view/base/BaseView")),r=e("../net/HttpUrl"),a=e("../manager/UIManager"),o=e("../manager/NetManager"),s=e("../net/NetCode"),c=e("../manager/DataManager"),l=e("../manager/DataManagerClub");cc.Class({extends:i.default,properties:{mScrollView:cc.ScrollView,mCopyNode:cc.Node},onLoad:function(){},start:function(){var e=this;this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1));var t=this.data.id,n=c.DataManager.storage.getItem("token"),i=l.DataManagerClub.CurClubInfo.clubId,u=r.HttpUrl.getGroupRecord.url+"?userId="+t+"&clubId="+i+"&loginToken="+n+"&teamId="+i;a.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),o.NetManager.requestGetUrl(u,function(t,n){a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(n);i.status==s.HTTP_CODE.SUCCESS?(e.recordData=i.data,e.initDataList(e.recordData)):a.UIManager.showTips(s.HTTP_CODE_MSG[i.status])})},initDataList:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=cc.instantiate(this.mCopyNode);i.getChildByName("riqi").getComponent(cc.Label).string=n.date,i.getChildByName("jushu").getComponent(cc.Label).string=n.jus||0,i.getChildByName("dayingjia").getComponent(cc.Label).string=n.ying||0,i.getChildByName("shuying").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(n.shuying)||0,i.getChildByName("xiaohao").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(n.xiaohao)||0,i.getChildByName("fenpei").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(n.fp)||0,i.getChildByName("yufen").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(n.yue)||0,this.mScrollView.content.addChild(i)}}}),cc._RF.pop()},{"../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","../view/base/BaseView":"BaseView"}],ClubPlayerList_PersonList:[function(e,t,n){"use strict";cc._RF.push(t,"e7b90GUiP5Izqa9dqMUFc2N","ClubPlayerList_PersonList");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("../view/base/BaseView")),r=e("../net/HttpUrl"),a=e("../manager/UIManager"),o=e("../manager/NetManager"),s=e("../net/NetCode"),c=e("../manager/DataManager"),l=e("../manager/DataManagerClub");e("../manager/AudioManager");cc.Class({extends:i.default,properties:{mScrollView:cc.ScrollView,mCopyNode:cc.Node},onLoad:function(){},start:function(){var e=this;this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1));var t=this.data.id,n=c.DataManager.storage.getItem("token"),i=l.DataManagerClub.CurClubInfo.clubId,u=r.HttpUrl.getPersonRecord.url+"?userId="+t+"&clubId="+i+"&loginToken="+n;a.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),o.NetManager.requestGetUrl(u,function(t,n){a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(n);i.status==s.HTTP_CODE.SUCCESS?(e.recordData=i.data,e.initDataList(e.recordData)):a.UIManager.showTips(s.HTTP_CODE_MSG[i.status])})},initDataList:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=cc.instantiate(this.mCopyNode);i.getChildByName("riqi").getComponent(cc.Label).string=n.date,i.getChildByName("jushu").getComponent(cc.Label).string=n.jus||0,i.getChildByName("dayingjia").getComponent(cc.Label).string=n.ying||0,i.getChildByName("shuying").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(n.shuying)||0,i.getChildByName("xiaohao").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(n.xiaohao)||0,i.getChildByName("yufen").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(n.yue)||0,this.mScrollView.content.addChild(i)}}}),cc._RF.pop()},{"../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","../view/base/BaseView":"BaseView"}],ClubPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"17299aVu7pPkLz5/ELhv1oN","ClubPlayer");var i=m(e("../view/base/BaseView")),r=e("../manager/NetManager"),a=e("../manager/EventManager"),o=e("../manager/EventClubDef"),s=m(e("../common/UIHelper")),c=e("../manager/UIManager"),l=e("../manager/DataManagerClub"),u=e("../manager/DataManager"),h=e("../manager/AudioManager"),f=m(e("../common/utils/Utils")),d=m(e("../common/Device")),p=e("../manager/SoundEffect"),g=e("../net/NetCmd");e("../Define");function m(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mPlayerListScroll:cc.ScrollView,mPlayerList:cc.Prefab,mYaoQing:cc.Node,mYaoQingId:cc.EditBox,mShangJi:cc.Node,mSearchEditBox:cc.EditBox,mSpIdentity:[cc.SpriteFrame],mEarnScore:cc.Node,mToggleCYType:cc.Toggle},onLoad:function(){a.EventManager.on(this,o.EventClubDef.ClubAllMembers,this.ClubAllMembers.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubMyMembers,this.ClubMyMembers.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubGetPlayerNameIcon,this.ClubGetPlayerNameIcon.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubInvite,this.ClubInvite.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubDeleteMember,this.ClubDeleteMember.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubSetPlayerRemark,this.ClubSetPlayerRemark.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubTiQu,this.ClubTiQu.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubAddMemberScore,this.ClubAddMemberScore.bind(this)),a.EventManager.on(this,o.EventClubDef.SearchMember,this.SearchMember.bind(this)),a.EventManager.on(this,o.EventClubDef.SearchAllMember,this.SearchMember.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubSetAgent,this.ClubSetAgent.bind(this)),a.EventManager.on(this,g.ProtocolRpcCmd.S2C_CancleAgent,this.ClubSetAgent.bind(this)),a.EventManager.on(this,g.ProtocolRpcCmd.S2C_CancleManager,this.ClubSetAgent.bind(this)),a.EventManager.on(this,g.ProtocolRpcCmd.S2C_SetManager,this.ClubSetAgent.bind(this))},start:function(){c.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),r.NetManager.protocolRpc.sendC2S_ClubMyMembers(0),this.paging=0,this.PageCountse=0},ClubAddMemberScore:function(e){0===e.errorCode?(l.DataManagerClub.CurClubInfo.score=e.selfLeft,this.updatePlayerScore(e.selfLeft,e.playerLeft,e.playerId)):c.UIManager.showTips("\u64cd\u4f5c\u5931\u8d25")},ClubSetAgent:function(e){console.log("\u66f4\u6539\u7528\u6237\u8eab\u4efd\u5237\u65b0"),console.log(e);for(var t=this.mPlayerListScroll.content.children,n=0;n<t.length;n++){var i=t[n];if(i.playerData.id==e.playerId){i.playerData.identity=e.errorCode,i.getChildByName("identity").getComponent(cc.Sprite).spriteFrame=this.mSpIdentity[e.errorCode-1];break}}},ClubSetPlayerRemark:function(e){0==e.errorCode?c.UIManager.showTips("\u8bbe\u7f6e\u5907\u6ce8\u6210\u529f"):c.UIManager.showTips("\u8bbe\u7f6e\u5907\u6ce8\u5931\u8d25")},ClubTiQu:function(e){console.log("\u63d0\u53d6",e),this.mEarnScore.getComponent(cc.Label).string="0",c.UIManager.showTips("\u63d0\u53d6\u6210\u529f");for(var t=this.mPlayerListScroll.content.children,n=0;n<t.length;n++){var i=t[n];i.playerData.id==u.DataManager.playerInfo.id&&(i.getChildByName("scoreLabel").getComponent(cc.Label).string=f.default.getFormatGold(l.DataManagerClub.divide100Double(e.newScore).toString()))}},onClickTiQu:function(e){h.AudioManager.playSFX(p.SoundEffect.button),"0"==this.mEarnScore.getComponent(cc.Label).string?c.UIManager.showTips("\u6682\u4e0d\u53ef\u63d0\u53d6"):r.NetManager.protocolRpc.C2S_TiQu()},updatePlayerScore:function(e,t,n){for(var i=this.mPlayerListScroll.content.children,r=0;r<i.length;r++){var a=i[r];if(a.playerData.id==u.DataManager.playerInfo.id&&(a.getChildByName("scoreLabel").getComponent(cc.Label).string=f.default.getFormatGold(l.DataManagerClub.divide100Double(e).toString())),a.playerData.id==n){a.getChildByName("scoreLabel").getComponent(cc.Label).string=f.default.getFormatGold(l.DataManagerClub.divide100Double(t).toString());break}}},ClubAllMembers:function(e){c.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),console.log("\u5f53\u524d\u9875\u6570\u662f:",this.paging),0===this.paging&&this.mPlayerListScroll.content.removeAllChildren(),this.paging++,this.PageCountse=e.PageCount,console.log("\u4e0b\u4e00\u6b21\u7684\u9875\u6570\u662f:",this.paging),this.ClubAllMembersPage(e)},ClubAllMembersPage:function(e){for(var t=0;t<e.cams.length;t++)for(var n=e.cams[t],i=0;i<n.cms.length;i++){var r=n.cms[i];r.directly=!1,r.agentPlayerId=n.agentPlayerId,r.agentName=n.agentName;var a=cc.instantiate(this.mPlayerList);this.mPlayerListScroll.content.addChild(a),this.mShangJi.active=!0,a.getChildByName("identity").getComponent(cc.Sprite).spriteFrame=this.mSpIdentity[r.identity-1],a.getChildByName("superNameLabel").active=!0,a.getChildByName("superIdLabel").active=!0,a.getChildByName("nameLabel").getComponent(cc.Label).string=f.default.getSubStringLengTxt(r.name),a.getChildByName("idLabel").getComponent(cc.Label).string=r.id,a.getChildByName("superNameLabel").getComponent(cc.Label).string=f.default.getSubStringLengTxt(r.agentName),a.getChildByName("superIdLabel").getComponent(cc.Label).string=r.agentPlayerId,a.getChildByName("statusLabel").getComponent(cc.Label).string=r.status?"\u5728\u7ebf":"\u79bb\u7ebf",a.getChildByName("scoreLabel").getComponent(cc.Label).string=f.default.getFormatGold(l.DataManagerClub.divide100Double(r.score).toString()),a.getChildByName("EditBox").getComponent(cc.EditBox).string=r.remark||"",1==r.identity&&(a.getChildByName("btn").getChildByName("btnGroup").active=!1),a.playerData=r;var o=a.getChildByName("iconBg").getChildByName("icon");s.default.loadHead(r.icon,o),a.on(cc.Node.EventType.TOUCH_END,this.onClickPlayer,this);var c=a.getChildByName("btn").getChildByName("btnGroup"),h=a.getChildByName("btn").getChildByName("btnPerson"),d=a.getChildByName("EditBox").getComponent(cc.EditBox);c.playerData=r,h.playerData=r,d.playerData=r,r.agentPlayerId!=u.DataManager.playerInfo.id.toString()?(c.active=!1,h.active=!1,d.active=!1,a.getChildByName("EditBox").active=!1):(c.on(cc.Node.EventType.TOUCH_END,this.onClickGroup,this),h.on(cc.Node.EventType.TOUCH_END,this.onClickPerson,this),d.node.on("editing-did-ended",this.EditingDidEnded,this))}},ClubMyMembers:function(e){c.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),console.log("\u5f53\u524d\u9875\u6570\u662f:",this.paging),0===this.paging&&this.mPlayerListScroll.content.removeAllChildren(),this.mEarnScore.getComponent(cc.Label).string=l.DataManagerClub.divide100Double(e.earnScore).toString(),this.paging++,this.PageCountse=e.PageCount,console.log("\u603b\u9875\u6570\u662f:",this.PageCountse),console.log("\u4e0b\u4e00\u6b21\u7684\u9875\u6570\u662f:",this.paging),console.log(this.mToggleCYType.isChecked),this.ClubMembersPage(e)},onClickScroll:function(e,t){switch(t){case cc.ScrollView.EventType.SCROLL_TO_BOTTOM:break;case cc.ScrollView.EventType.BOUNCE_BOTTOM:console.log("\u5f53\u524d\u9875\u6570\u662f:",this.paging),console.log("\u603b\u9875\u6570\u662f:",this.PageCountse),this.paging>=1&&this.paging<=this.PageCountse?(c.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),setTimeout(function(){c.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...")},100),this.mToggleCYType.isChecked?r.NetManager.protocolRpc.sendC2S_ClubMyMembers(this.paging):r.NetManager.protocolRpc.sendC2S_ClubAllMembers(this.paging)):c.UIManager.showTips("\u6211\u662f\u6709\u5e95\u7ebf\u7684,\u6ca1\u6709\u66f4\u591a\u4e86")}},ClubMembersPage:function(e){for(var t=0;t<e.cms.length;t++){var n=e.cms[t];n.directly=!0;var i=cc.instantiate(this.mPlayerList);this.mPlayerListScroll.content.addChild(i),i.getChildByName("identity").getComponent(cc.Sprite).spriteFrame=this.mSpIdentity[n.identity-1],i.getChildByName("nameLabel").getComponent(cc.Label).string=f.default.getSubStringLengTxt(n.name),i.getChildByName("idLabel").getComponent(cc.Label).string=n.id,this.mShangJi.active=!1,i.getChildByName("superNameLabel").active=!1,i.getChildByName("superIdLabel").active=!1,i.getChildByName("statusLabel").getComponent(cc.Label).string=n.status?"\u5728\u7ebf":"\u79bb\u7ebf",i.getChildByName("scoreLabel").getComponent(cc.Label).string=f.default.getFormatGold(l.DataManagerClub.divide100Double(n.score).toString()),i.getChildByName("EditBox").getComponent(cc.EditBox).string=n.remark||"";for(var r=0;r<u.DataManager.playerInfo.clubs.length;r++){var a=u.DataManager.playerInfo.clubs[r];if(l.DataManagerClub.CurClubInfo.clubId==a.clubId)var o=a.identity}4==o||2==o?(n.id!=u.DataManager.playerInfo.id.toString()&&1!=n.identity||(i.getChildByName("btn").getChildByName("btnGroup").active=!1),this.node.getChildByName("TiquNode").getChildByName("btnTiqu").active=!1):4==n.identity||2==n.identity?i.getChildByName("btn").getChildByName("btnGroup").active=!1:1==n.identity&&(i.getChildByName("btn").getChildByName("btnGroup").active=!1),n.id!=u.DataManager.playerInfo.id.toString()&&n.id!=e.agentId||(i.getChildByName("EditBox").active=!1,i.getChildByName("btnRemarks").active=!1),e.agentId,n.id,i.agentId=e.agentId,i.playerData=n;var c=i.getChildByName("iconBg").getChildByName("icon");s.default.loadHead(n.icon,c),i.on(cc.Node.EventType.TOUCH_END,this.onClickPlayer,this);var h=i.getChildByName("btn").getChildByName("btnGroup"),d=i.getChildByName("btn").getChildByName("btnPerson"),p=i.getChildByName("EditBox").getComponent(cc.EditBox);h.playerData=n,d.playerData=n,p.playerData=n,h.on(cc.Node.EventType.TOUCH_END,this.onClickGroup,this),d.on(cc.Node.EventType.TOUCH_END,this.onClickPerson,this),p.node.on("editing-did-ended",this.EditingDidEnded,this)}},EditingDidEnded:function(e){var t=e.playerData.id,n=e._string;r.NetManager.protocolRpc.sendC2S_SetPlayerRemark(t,n)},ClubDeleteMember:function(e){if(0===e.errorCode)for(var t=this.mPlayerListScroll.content.children,n=0;n<t.length;n++){var i=t[n];if(i.playerData.id==e.playerId){i.removeFromParent(!0),c.UIManager.showTips("\u8e22\u51fa\u6210\u5458ID\uff1a"+e.playerId);break}}},onClickPlayer:function(e){console.log("\u4f20\u9012\u6570\u636e:",e),h.AudioManager.playSFX(p.SoundEffect.click),5==l.DataManagerClub.getClubIdentity(l.DataManagerClub.CurClubInfo.clubId)?c.UIManager.popup("prefabs/club/ClubPlayerDetails",e.target.playerData):e.target.playerData.id==e.target.agentId||e.target.playerData.id==u.DataManager.playerInfo.id.toString()?c.UIManager.showTips("\u4e0d\u80fd\u64cd\u4f5c\u4e0a\u7ea7\u6216\u81ea\u5df1"):c.UIManager.popup("prefabs/club/ClubPlayerDetails",e.target.playerData)},onClickGroup:function(e){h.AudioManager.playSFX(p.SoundEffect.click),c.UIManager.popup("prefabs/club/ClubPlayerList_GroupList",e.target.playerData)},onClickPerson:function(e){h.AudioManager.playSFX(p.SoundEffect.click),c.UIManager.popup("prefabs/club/ClubPlayerList_PersonList",e.target.playerData)},ClubGetPlayerNameIcon:function(e){if(e.exist){var t=this.mYaoQing.getChildByName("icon"),n=this.mYaoQing.getChildByName("name"),i=this.mYaoQing.getChildByName("Layout").getChildByName("btnOk");t.active=!0,n.active=!0,i.active=!0,s.default.loadHead(e.icon,t),n.getComponent(cc.Label).string=e.name}else c.UIManager.showTips("\u8be5\u7528\u6237\u4e0d\u5b58\u5728\u6216\u5df2\u5728\u4ff1\u4e50\u90e8\u4e2d")},onClikcYaoQingSousuo:function(e){h.AudioManager.playSFX(p.SoundEffect.click);var t=Number(this.mYaoQingId.string);t<1e5?c.UIManager.showTips("ID\u8f93\u5165\u9519\u8bef"):t!=u.DataManager.playerInfo.id.toString()?(this.SouSuoId=t,r.NetManager.protocolRpc.sendC2S_GetPlayerNameIcon(t)):c.UIManager.showTips("\u4e0d\u80fd\u9080\u8bf7\u81ea\u5df1")},onClikcYaoQingShow:function(e){h.AudioManager.playSFX(p.SoundEffect.click),this.mYaoQing.active=!0,this.mYaoQing.getChildByName("icon").active=!1,this.mYaoQing.getChildByName("name").active=!1,this.mYaoQing.getChildByName("Layout").getChildByName("btnOk").active=!1},onClickYaoQingHide:function(e){this.mYaoQing.active=!1},onClickYaoQing:function(e){h.AudioManager.playSFX(p.SoundEffect.click),r.NetManager.protocolRpc.sendC2S_Invite(this.SouSuoId),c.UIManager.showTips("\u9080\u8bf7\u6210\u529f"),this.mYaoQing.active=!1,this.mYaoQing.getChildByName("icon").active=!1,this.mYaoQing.getChildByName("name").active=!1,this.mYaoQing.getChildByName("Layout").getChildByName("btnOk").active=!1},onClickMembersType:function(e){h.AudioManager.playSFX(p.SoundEffect.click),e.isChecked?(c.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),r.NetManager.protocolRpc.sendC2S_ClubMyMembers(0),this.paging=0):(c.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),r.NetManager.protocolRpc.sendC2S_ClubAllMembers(0),this.paging=0)},ClubInvite:function(e){this.mPlayerListScroll.content.removeAllChildren(),r.NetManager.protocolRpc.sendC2S_ClubMyMembers(0)},onClickSearch:function(e){h.AudioManager.playSFX(p.SoundEffect.click);var t=Number(this.mSearchEditBox.string);isNaN(t)||t<1e5?c.UIManager.showTips("ID\u8f93\u5165\u9519\u8bef"):r.NetManager.protocolRpc.sendC2S_SearchMember(this.mToggleCYType.isChecked,t)},SearchMember:function(e){console.log("\u641c\u7d22\u7ed3\u679c",e),this.mPlayerListScroll.content.removeAllChildren(),this.mToggleCYType.isChecked?this.ClubMembersPage(e):this.ClubAllMembersPage(e)},onClickNumer:function(e){h.AudioManager.playSFX(p.SoundEffect.click);var t=e.target.name;if("number1"==t&&(this.mYaoQingId.string+="1"),"number2"==t&&(this.mYaoQingId.string+="2"),"number3"==t&&(this.mYaoQingId.string+="3"),"number4"==t&&(this.mYaoQingId.string+="4"),"number5"==t&&(this.mYaoQingId.string+="5"),"number6"==t&&(this.mYaoQingId.string+="6"),"number7"==t&&(this.mYaoQingId.string+="7"),"number8"==t&&(this.mYaoQingId.string+="8"),"number9"==t&&(this.mYaoQingId.string+="9"),"number0"==t&&(this.mYaoQingId.string+="0"),"numberReset"==t&&(this.mYaoQingId.string=""),"numberDelect"==t){var n=this.mYaoQingId.string;Number(n)>0&&(this.mYaoQingId.string=n.substr(0,n.length-1))}},onpaste:function(){d.default.getClipBoard(this.mYaoQingId.string)}}),cc._RF.pop()},{"../Define":"Define","../common/Device":"Device","../common/UIHelper":"UIHelper","../common/utils/Utils":"Utils","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/NetCmd":"NetCmd","../view/base/BaseView":"BaseView"}],ClubRecordDetailList:[function(e,t,n){"use strict";cc._RF.push(t,"4a4a89w2aBKgYC7BdTiTZbE","ClubRecordDetailList");var i=g(e("../view/base/BaseView")),r=(g(e("../common/utils/Base64")),e("../manager/DataManager")),a=e("../net/HttpUrl"),o=e("../manager/UIManager"),s=e("../manager/NetManager"),c=e("../net/NetCode"),l=e("../manager/DataManagerClub"),u=g(e("../common/UIHelper")),h=e("../manager/AudioManager"),f=g(e("../common/Device")),d=e("../manager/SoundEffect"),p=(e("../game/kwx/KWXDefine"),g(e("../common/utils/Utils")));function g(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mRoomId:cc.Label,mTime:cc.Label,mGameType:cc.Label,mUser:cc.Node,mUserLayer:cc.Node,mWinLose:cc.Node,mRoomJuShu:cc.Label,monhifang:cc.Node,mxiangqing:cc.Label,xiangqing:cc.Prefab},onLoad:function(){},start:function(){},initOneData:function(e){console.log("\u6218\u7ee9\u6570\u636e",e),this.mTime.string=e.dateTime;var t="\u5361\u4e94\u661f";1===e.gameType?t="\u5361\u4e94\u661f":2===e.gameType?t="\u8dd1\u5f97\u5feb":4===e.gameType&&(3===e.roomType?t="\u7ecf\u5178\u725b/":4===e.roomType&&(t="\u70b9\u5b50\u725b/")),this.mGameType.string=t;var n="\uff08\u666e\u901a\u5c40\uff09";1===e.roomType?n="\uff08\u666e\u901a\u5c40\uff09":2===e.roomType?n="\uff08\u5339\u914d\u5c40\uff09":3===e.roomType?n=e.guodi:4===e.roomType&&(n=e.guodi),this.mGameType.string+=n;for(var i=0;i<e.gameUser.length;i++){var a=e.gameUser[i],o=cc.instantiate(this.mUser);this.mUserLayer.addChild(o);var s=l.DataManagerClub.getClubIdentity(l.DataManagerClub.CurClubInfo.clubId);if(4==e.gameType)if(this.mRoomJuShu.string="\u7b2c"+e.gamedqj+"\u5c40",this.mxiangqing.string="\u8be6  \u60c5",a.userId==r.DataManager.playerInfo.id.toString()){o.getChildByName("name").getComponent(cc.Label).string=p.default.getSubStringLengTxt(a.userName);var c=o.getChildByName("icon").getChildByName("5-touxiang");u.default.loadHead(a.usericon,c),o.getChildByName("id").getComponent(cc.Label).string=a.userId,o.getChildByName("score").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(a.userScore)}else if(s>=2){o.getChildByName("name").getComponent(cc.Label).string=p.default.getSubStringLengTxt(a.userName);c=o.getChildByName("icon").getChildByName("5-touxiang");u.default.loadHead(a.usericon,c),o.getChildByName("id").getComponent(cc.Label).string=a.userId,o.getChildByName("score").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(a.userScore)}else o.active=!1;else{this.mRoomId.node.active=!0,this.monhifang.active=!0,this.mRoomJuShu.string=e.gamedqj+"/"+e.gamezjs+"\u5c40\u56de\u653e\u7801:",this.mRoomId.string=e.playBack,o.getChildByName("name").getComponent(cc.Label).string=p.default.getSubStringLengTxt(a.userName);c=o.getChildByName("icon").getChildByName("5-touxiang");u.default.loadHead(a.usericon,c),o.getChildByName("id").getComponent(cc.Label).string=a.userId,o.getChildByName("score").getComponent(cc.Label).string=l.DataManagerClub.divide100Double(a.userScore)}}var h=e.gameUser[0];0===h.userScore?this.mWinLose.getChildByName("ping").active=!0:h.userScore>0?this.mWinLose.getChildByName("win").active=!0:this.mWinLose.getChildByName("lose").active=!0},onClickCopyPlayBackCode:function(e){f.default.setClipBoard(this.mRoomId.string),h.AudioManager.playSFX(d.SoundEffect.click),o.UIManager.showTips("\u590d\u5236\u6210\u529f")},onClickPlayBack:function(e){var t=r.DataManager.playerInfo.id;r.DataManager.huifangid=this.mRoomId.string;var n=a.HttpUrl.getRecordPlayBack.url+"?userId="+t+"&recordId="+this.mRoomId.string+"&time=3333&sign=333";o.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),s.NetManager.requestGetUrl(n,function(e,t){o.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var n=JSON.parse(t);if(n.status===c.HTTP_CODE.SUCCESS){var i=JSON.parse(n.data);console.log("parseRecordData",i),null!=i?2===i.game_type&&0!=i.chupai?o.UIManager.popup("game/pdk/PDKGameView",i):1===i.game_type&&0!=i.opreates?o.UIManager.popup("game/kwx/KWXPlayback",i):4===i.game_type?o.UIManager.popup("prefabs/club/ClubRecordDetails",i):o.UIManager.showTips("\u89e3\u6563\u623f\u95f4\u65e0\u56de\u653e"):o.UIManager.showTips("\u65e0\u56de\u653e\u6570\u636e......")}else o.UIManager.showTips(c.HTTP_CODE_MSG[n.status])}),h.AudioManager.playSFX(d.SoundEffect.click)}}),cc._RF.pop()},{"../common/Device":"Device","../common/UIHelper":"UIHelper","../common/utils/Base64":"Base64","../common/utils/Utils":"Utils","../game/kwx/KWXDefine":"KWXDefine","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","../view/base/BaseView":"BaseView"}],ClubRecordDetails:[function(e,t,n){"use strict";cc._RF.push(t,"9522eLnLhNEy65TLqFyJEg4","ClubRecordDetails");var i=s(e("../view/base/BaseView")),r=s(e("../common/utils/Utils")),a=s(e("../common/UIHelper")),o=e("../manager/DataManagerClub");function s(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mUser:cc.Node,mUserLayer:cc.Node,musername:cc.Label,mtime:cc.Label,sprAtlas:cc.SpriteAtlas},onLoad:function(){console.log("Roominformation",this.data),this.mtime.string=this.data.dateTime,this.musername.string="\u7ecf\u5178\u725b\u725b/"+this.data.param.radix,1===this.data.param.param[4]&&(this.musername.string="\u70b9\u5b50\u725b\u725b/"+this.data.param.radix);for(var e=0;e<this.data.player_info.length;e++){var t=this.data.player_info[e],n=cc.instantiate(this.mUser);this.mUserLayer.addChild(n),t.position==this.data.zhuang_position&&(n.getChildByName("lander").active=!0),n.getChildByName("name").getComponent(cc.Label).string=r.default.getSubStringLengTxt(t.name);var i=n.getChildByName("icon").getChildByName("5-touxiang");a.default.loadHead(t.icon,i),n.getChildByName("id").getComponent(cc.Label).string=t.id,n.getChildByName("score").getComponent(cc.Label).string=o.DataManagerClub.divide100Double(t.score),console.log("userNode",n);var s=n.getChildByName("card");console.log("cardnode",s),t.shoupai=[{value:10,type:1},{value:11,type:2},{value:12,type:3},{value:13,type:4},{value:9,type:2}];for(var c=0;c<t.shoupai.length;c++)this.setSelfCard(s,t.shoupai[c],c,!1);n.getChildByName("nn").getComponent(cc.Sprite).spriteFrame=this.sprAtlas.getSpriteFrame("DN_n"+t.niuniu)}},setSelfCard:function(e,t,n,i){console.log("\u8bbe\u7f6e\u724c",e,t,n,i);var r=t.value,a=t.type;e.getComponentsInChildren("NiuCard")[n].setValue(r,a,i),e.active=!0},start:function(){},onClose:function(){this.node.destroy()}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../common/utils/Utils":"Utils","../manager/DataManagerClub":"DataManagerClub","../view/base/BaseView":"BaseView"}],ClubRecord:[function(e,t,n){"use strict";cc._RF.push(t,"df4b2axx5BC65zpJuax4Gsm","ClubRecord");var i=e("../manager/DataManagerClub"),r=function(e){return e&&e.__esModule?e:{default:e}}(e("../view/base/BaseView")),a=e("../manager/UIManager"),o=e("../manager/NetManager"),s=e("../net/NetCode"),c=e("../manager/DataManager"),l=e("../net/HttpUrl"),u=e("../manager/AudioManager"),h=e("../manager/SoundEffect");cc.Class({extends:r.default,properties:{mRecordCount:cc.Label,mSumScore:cc.Label,mEditBox:cc.EditBox,mDateLayer:cc.Node,mScrollView:cc.ScrollView,mRecordListPrefab:cc.Prefab},onLoad:function(){this.recordData=[],this.curRecordIndex=0,this.isGetFull=!1},start:function(){var e=new Date;this.gameDate=e.getFullYear()+"_"+(e.getMonth()+1)+"_"+e.getDate(),this.requestRecordData(this.gameDate),this.initDateRecord()},requestRecordData:function(e){var t=this,n=c.DataManager.playerInfo.id,r=i.DataManagerClub.CurClubInfo.clubId,u=l.HttpUrl.getRecord.url+"?userId="+n+"&clubId="+r+"&gameDate="+e+"&time=3333&sign=333";a.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),o.NetManager.requestGetUrl(u,function(e,n){a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(n);if("-1"==i.status)a.UIManager.showTips("\u67e5\u8be2\u9519\u8bef");else if(0==i.data.length)a.UIManager.showTips("\u6682\u65e0\u5bf9\u5c40\u6570\u636e");else if(i.status==s.HTTP_CODE.SUCCESS){t.isGetFull=!1,t.curRecordIndex=0,t.recordData=i.data,console.log("recordData",t.recordData),t.setRecordScore(t.recordData);var r=t.getRecordSlice();r.length>0&&t.initRecordDetail(r)}else a.UIManager.showTips(s.HTTP_CODE_MSG[i.status])})},requestRecordOnePaiJu:function(e,t){var n=this,r=c.DataManager.playerInfo.id,u=i.DataManagerClub.CurClubInfo.clubId,h=l.HttpUrl.getRecordOnePaiJu.url+"?userId="+r+"&recordId="+e+"&clubId="+u+"&gameDate="+t+"&time=3333&sign=333";a.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),o.NetManager.requestGetUrl(h,function(e,t){a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(t);if("-1"==i.status)a.UIManager.showTips("\u67e5\u8be2\u9519\u8bef");else if(0==i.data.length)a.UIManager.showTips("\u6682\u65e0\u5bf9\u5c40\u6570\u636e");else if(i.status==s.HTTP_CODE.SUCCESS){n.isGetFull=!1,n.curRecordIndex=0,n.recordData=i.data||[],n.setRecordScore(n.recordData);var r=n.getRecordSlice();n.initRecordDetail(r,!0)}else a.UIManager.showTips(s.HTTP_CODE_MSG[i.status])})},requestRecordOneTuanDui:function(e,t){var n=this,r=c.DataManager.playerInfo.id,u=i.DataManagerClub.CurClubInfo.clubId,h=l.HttpUrl.getRecordPlayTuanDui.url+"?userId="+r+"&childId="+e+"&clubId="+u+"&gameDate="+t+"&time=3333&sign=333";a.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),o.NetManager.requestGetUrl(h,function(e,t){a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(t);if("-1"==i.status)a.UIManager.showTips("\u67e5\u8be2\u7684ID\u4e0d\u662f\u4f60\u4e0b\u7ea7");else if(0==i.data.length)a.UIManager.showTips("\u6682\u65e0\u5bf9\u5c40\u6570\u636e");else if(i.status==s.HTTP_CODE.SUCCESS){n.isGetFull=!1,n.curRecordIndex=0,n.recordData=i.data||[],n.setRecordScore(n.recordData);var r=n.getRecordSlice();n.initRecordDetail(r,!0)}else a.UIManager.showTips(s.HTTP_CODE_MSG[i.status])})},getRecordSlice:function(){if(this.isGetFull)return[];var e=[];return this.recordData.length>this.curRecordIndex+5?(e=this.recordData.slice(this.curRecordIndex,this.curRecordIndex+5),this.curRecordIndex+=5):(e=this.recordData.slice(this.curRecordIndex),this.isGetFull=!0),e},getOneData:function(e){var t={playBack:e.paiju_id,dateTime:e.log_time,gameType:e.game_type,roomType:e.room_type,gameUser:[],gamedqj:e.dqj,gamezjs:e.zjs,guodi:e.guodi};if(0!=e.user_id1){var n={userId:e.user_id1,userName:e.user_name1,userScore:e.score1,usericon:e.icon1};t.gameUser.push(n)}if(0!=e.user_id2){var i={userId:e.user_id2,userName:e.user_name2,userScore:e.score2,usericon:e.icon2};t.gameUser.push(i)}if(0!=e.user_id3){var r={userId:e.user_id3,userName:e.user_name3,userScore:e.score3,usericon:e.icon3};t.gameUser.push(r)}return t},getBeforeDate:function(e){var t=e,n=new Date,i=n.getFullYear(),r=n.getMonth()+1,a=n.getDate();return a<=t&&(r>1?r-=1:(i-=1,r=12)),n.setDate(n.getDate()-t),i=n.getFullYear(),{ymd:(r=n.getMonth()+1)+"\u6708"+(a=n.getDate())+"\u65e5",ymd2:i+"_"+r+"_"+a}},initDateRecord:function(){for(var e=this.mDateLayer.children[0],t=0;t<7;t++)if(t<2){var n=this.mDateLayer.children[t],i=this.getBeforeDate(t);n.targetDate=i.ymd2}else{var r=cc.instantiate(e);r.name="toggle"+t,this.mDateLayer.addChild(r);var a=this.getBeforeDate(t);r.targetDate=a.ymd2,r.getChildByName("date").getComponent(cc.Label).string=a.ymd}},onClickToggle:function(e){u.AudioManager.playSFX(h.SoundEffect.click);var t=e.target.targetDate;this.gameDate=t,this.mScrollView.content.removeAllChildren(),this.requestRecordData(t),this.mRecordCount.string="\u5c40\u6570\uff1a0"},initRecordDetail:function(e,t){t&&this.mScrollView.content.removeAllChildren(!0);for(var n=0;n<e.length;n++){var i=cc.instantiate(this.mRecordListPrefab);this.mScrollView.content.addChild(i);var r=this.getOneData(e[n]);i.getComponent("ClubRecordDetailList").initOneData(r)}},setRecordScore:function(e){for(var t=0,n=0;n<e.length;n++){t+=this.getOneData(e[n]).gameUser[0].userScore}this.mRecordCount.string="\u5c40\u6570\uff1a"+e.length,this.mSumScore.string="\u5206\u6570\uff1a"+i.DataManagerClub.divide100Double(t)},onClickScroll:function(e,t){switch(t){case cc.ScrollView.EventType.SCROLL_TO_BOTTOM:break;case cc.ScrollView.EventType.BOUNCE_BOTTOM:a.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),setTimeout(function(){a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...")},100);var n=this.getRecordSlice();n.length>0&&this.initRecordDetail(n)}},onClickSearch:function(e){u.AudioManager.playSFX(h.SoundEffect.click);var t=parseInt(this.mEditBox.string);isNaN(t)?a.UIManager.showTips("\u8bf7\u8f93\u5165\u6b63\u786e\u56de\u653e\u7801\u6216\u7528\u6237ID"):t>=1e5&&t<1e7?this.requestRecordOneTuanDui(t,this.gameDate):t>=1e7?this.requestRecordOnePaiJu(t,this.gameDate):a.UIManager.showTips("\u8bf7\u8f93\u5165\u6b63\u786e\u56de\u653e\u7801\u6216\u7528\u6237ID")}}),cc._RF.pop()},{"../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","../view/base/BaseView":"BaseView"}],ClubRollNotice:[function(e,t,n){"use strict";cc._RF.push(t,"e0f2c0IpnRB5Lq131WbsnQy","ClubRollNotice");var i=e("../manager/DataManagerClub");cc.Class({extends:cc.Component,properties:{lblNotice:cc.RichText},start:function(){this.isRoll=!0},setNotice:function(){0==i.DataManagerClub.CurClubInfo.annoucement?this.node.active=!1:this.node.active=!0;var e=i.DataManagerClub.CurClubInfo.annoucement;if(e){this.lblNotice.string="";for(var t=0;t<e.length;t++){var n=e[t]+" ";this.lblNotice.string+=n}}},update:function(e){if(this.isRoll){var t=this.lblNotice.node.x;""!=this.lblNotice.string&&(t-=150*e),t<-(this.lblNotice.node.width+373)&&(t=373,this.isRoll=!1,this.node.active=!1),this.lblNotice.node.x=t}else this.node.active=!1}}),cc._RF.pop()},{"../manager/DataManagerClub":"DataManagerClub"}],ClubRoomMatch:[function(e,t,n){"use strict";cc._RF.push(t,"9492deDDYZBpKdJCxGu3kwv","ClubRoomMatch");var i=h(e("../view/base/BaseView")),r=e("../manager/NetManager"),a=e("../manager/EventManager"),o=e("../manager/EventClubDef"),s=h(e("../common/UIHelper")),c=e("../manager/DataManager"),l=e("../manager/UIManager"),u=(e("../game/pdk/PDKRoomInfo"),e("../Define"));function h(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mBg:cc.Node,mMatchNumber:cc.Label,mmiao:cc.Label,mfen:cc.Label,mBtnCancelActive:cc.Node,mUserNode:[cc.Node],mAddSp:cc.SpriteFrame,mplayercount:cc.Label,mmatching:[cc.Node]},onLoad:function(){l.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),a.EventManager.on(this,o.EventClubDef.ClubCancleMatch,this.ClubCancelMatch.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubMatchPlayers,this.ClubMatchPlayers.bind(this)),a.EventManager.on(this,o.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this)),a.EventManager.on(this,u.EventDef.GameHide,this.onClickCancel.bind(this));for(var e=0;e<this.data.playerCount;e++)2==this.data.playerCount?this.mUserNode[e+1].active=!0:this.mUserNode[e].active=!0;this.ren=0,this.mplayercount.string=this.ren+"/"+this.data.playerCount,this.mBg.getChildByName("matchTitle").getChildByName("matchType0").active=1==this.data.jushu,this.mBg.getChildByName("matchTitle").getChildByName("matchType1").active=this.data.jushu>=2,this.mBtnCancelActive.getComponent(cc.Button).interactable=!1,this.matchUserData=[],this.matchTime=5,this.miao=0,this.fen=0,this.schedule(this.MatchNumber1,1,cc.macro.REPEAT_FOREVER),this.schedule(this.MatchNumber,1,this.matchTime-1),r.NetManager.protocolRpc.sendC2S_Match(this.data.deskId)},start:function(){this.mBg.scale=.5,this.mBg.runAction(cc.scaleTo(.15,1,1))},ClubErrorCode:function(e){1==e.errorCode&&this.close()},MatchNumber:function(){this.matchTime--,this.mMatchNumber.string="\u53d6\u6d88"+this.matchTime+"s",0==this.matchTime&&(this.mMatchNumber.string="\u53d6\u6d88",this.mBtnCancelActive.getComponent(cc.Button).interactable=!0)},MatchNumber1:function(){this.miao++,60==this.miao&&(this.miao=0,this.fen++),this.miao<10?this.mmiao.string="0"+this.miao:this.mmiao.string=this.miao,this.fen<10?this.mfen.string="0"+this.fen+":":this.mfen.string=this.fen+":"},onClickCancel:function(e){r.NetManager.protocolRpc.sendC2S_CancleMatch()},ClubCancelMatch:function(e){var t=this;this.matchUserData.forEach(function(n,i){n.id==e.id&&(t.matchUserData.splice(i,1),t.hideUserItem(i))}),0!==this.matchUserData.length&&e.id!==c.DataManager.playerInfo.accountId||(this.close(),l.UIManager.open("prefabs/club/ClubHall"))},hideUserItem:function(e){if(2==this.data.playerCount){e=e+1;this.mUserNode[0].getChildByName("user").active=!1,this.mUserNode[0].getChildByName("user1bj").active=!0}else this.mUserNode[0].getChildByName("user").active=!0;var t=this.mUserNode[e];t.getChildByName("id").getComponent(cc.Label).string="",t.getChildByName("user").getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.mAddSp,this.ren--,this.mplayercount.string=this.ren+"/"+this.data.playerCount},showUserItem:function(e,t){2===this.data.playerCount?(t++,this.mUserNode[0].getChildByName("user").active=!1,this.mUserNode[0].getChildByName("user1bj").active=!0):this.mUserNode[0].getChildByName("user").active=!0;var n=this.mUserNode[t];n.active=!0,n.getChildByName("id").active=0!=t,n.getChildByName("id").getComponent(cc.Label).string=e.id,s.default.loadHead(e.icon,n.getChildByName("user").getChildByName("icon"))},ClubMatchPlayers:function(e){var t=this;console.log("\u63a5\u6536\u5230\u5339\u914d\u73a9\u5bb6\u4fe1\u606f="+e),console.log(e),this.matchUserData.length>3||(e.mpi.forEach(function(e,n){for(var i=0;i<t.matchUserData.length;i++)if(t.matchUserData[i].id==e.id)return;t.matchUserData.push(e),t.ren++}),console.log("\u589e\u52a0\u540e=",this.matchUserData),this.matchUserData.forEach(function(e,n){t.showUserItem(e,n)}),this.mplayercount.string=this.ren+"/"+this.data.playerCount,this.ren==this.data.playerCount?(this.mmatching[1].active=!0,this.mmatching[0].active=!1,this.mBtnCancelActive.getComponent(cc.Button).interactable=!1):(this.mmatching[0].active=!0,this.mmatching[1].active=!1))}}),cc._RF.pop()},{"../Define":"Define","../common/UIHelper":"UIHelper","../game/pdk/PDKRoomInfo":"PDKRoomInfo","../manager/DataManager":"DataManager","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],ClubSetProportion:[function(e,t,n){"use strict";cc._RF.push(t,"ebcf9898xFOO4pvxVRMqf3I","ClubSetProportion");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("../view/base/BaseView")),r=e("../manager/EventClubDef"),a=e("../manager/NetManager"),o=e("../manager/EventManager"),s=e("../manager/DataManagerClub"),c=e("../manager/UIManager"),l=e("../manager/AudioManager"),u=e("../manager/SoundEffect");cc.Class({extends:i.default,properties:{mScrollView:cc.ScrollView,mProportionCopy:cc.Node,mSetAllNode:cc.Node,mSetAllEditBox:cc.EditBox},onLoad:function(){a.NetManager.protocolRpc.sendC2S_GetProportion(this.data.id),o.EventManager.on(this,r.EventClubDef.ClubGetProportion,this.ClubGetProportion.bind(this)),o.EventManager.on(this,r.EventClubDef.ClubSetProportion,this.ClubSetProportion.bind(this)),o.EventManager.on(this,r.EventClubDef.ClubSetProportionAllGame,this.ClubSetProportionAllGame.bind(this)),this.curProportion=0,this.curGameId=0},start:function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1))},ClubGetProportion:function(e){for(var t=this,n=s.DataManagerClub.CurClubInfo.gis,i=e.myProportion,r=e.childProportion,a=0;a<n.length;a++)for(var o=0;o<i.length;o++)if(n[a].id==i[o].gameId){var c=cc.instantiate(this.mProportionCopy),l=c.getChildByName("EditBox");l.gameId=i[o].gameId,l.on("editing-did-ended",function(e){t.curProportion=Number(e.string),t.curGameId=e.node.gameId},this),this.mScrollView.content.addChild(c);for(var u=0;u<r.length;u++)i[o].gameId==r[u].gameId&&(l.getComponent(cc.EditBox).string=r[u].proportion);var h="";1===n[a].gameType?(2===n[a].playerCount&&(h+="\u5361\u4e94\u661f2\u4eba"),3===n[a].playerCount&&(h+="\u5361\u4e94\u661f3\u4eba")):(2===n[a].playerCount&&(h+="\u8dd1\u5f97\u5feb2\u4eba"),3===n[a].playerCount&&(h+="\u8dd1\u5f97\u5feb3\u4eba")),0==n[a].match?h+="\u666e\u901a":h+="\u5339\u914d",h+=" "+n[a].radix/100+"\u5206",c.getChildByName("gamePlay").getComponent(cc.Label).string=h,c.getChildByName("myProportion").getComponent(cc.Label).string="\u6211\u7684\u5206\u914d\u6bd4\u4f8b"+i[o].proportion+"%"}},ClubSetProportion:function(e){0===e.errorCode?(c.UIManager.showTips("\u8bbe\u7f6e\u6210\u529f"),this.close()):c.UIManager.showTips("\u8bbe\u7f6e\u5931\u8d25")},ClubSetProportionAllGame:function(e){0===e.errorCode?(c.UIManager.showTips("\u6279\u91cf\u8bbe\u7f6e\u6210\u529f"),this.close()):c.UIManager.showTips("\u6bd4\u4f8b\u8bbe\u7f6e\u5931\u8d25"),this.mSetAllNode.active=!1},onClickOk:function(e){l.AudioManager.playSFX(u.SoundEffect.click),this.curProportion<1||this.curProportion>100?c.UIManager.showTips("\u6bd4\u4f8b\u8bbe\u7f6e\u9519\u8bef"):a.NetManager.protocolRpc.sendC2S_SetProportion(this.data.id,this.curGameId,this.curProportion)},onClickSetAll:function(e){l.AudioManager.playSFX(u.SoundEffect.click),this.mSetAllNode.active=!0},onClickSetAllOk:function(e){l.AudioManager.playSFX(u.SoundEffect.click);var t=Number(this.mSetAllEditBox.string);t<1||t>100?c.UIManager.showTips("\u6bd4\u4f8b\u8bbe\u7f6e\u9519\u8bef"):a.NetManager.protocolRpc.sendC2S_SetProportionAllGame(this.data.id,t)},onClickSetAllCancel:function(e){l.AudioManager.playSFX(u.SoundEffect.click),this.mSetAllNode.active=!1}}),cc._RF.pop()},{"../manager/AudioManager":"AudioManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],ClubSetting:[function(e,t,n){"use strict";cc._RF.push(t,"13ebbcxk5VPeIkoOXDbKerw","ClubSetting");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("../view/base/BaseView")),r=e("../manager/NetManager"),a=e("../manager/DataManagerClub"),o=e("../manager/EventManager"),s=e("../manager/EventClubDef"),c=e("../manager/UIManager"),l=e("../manager/AudioManager"),u=e("../manager/DataManager"),h=e("../manager/SoundEffect");cc.Class({extends:i.default,properties:{mJichuNode:cc.Node,mWanfaNode:cc.Node,mYingshiNode:cc.Node,mJiesanNode:cc.Node,mWanfaScroll:cc.ScrollView,mWanFaPrefab:cc.Prefab},onLoad:function(){o.EventManager.on(this,s.EventClubDef.ClubDelGame,this.ClubDelGame.bind(this)),o.EventManager.on(this,s.EventClubDef.ChangeGameName,this.ChangeGameName.bind(this)),o.EventManager.on(this,s.EventClubDef.ClubBaseSet,this.ClubBaseSet.bind(this))},start:function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1));var e=u.DataManager.storage.get("clubkaiguang");this.mJichuNode.getChildByName("nameEditBox").getComponent(cc.EditBox).string=a.DataManagerClub.CurClubInfo.name,this.mJichuNode.getChildByName("pmdEditBox").getComponent(cc.EditBox).string=a.DataManagerClub.CurClubInfo.annoucement,0==e?this.mJichuNode.getChildByName("ToggleContainer").getChildByName("toggle2").getComponent(cc.Toggle).isChecked=!0:this.mJichuNode.getChildByName("ToggleContainer").getChildByName("toggle1").getComponent(cc.Toggle).isChecked=!0},onClickToggle:function(e){l.AudioManager.playSFX(h.SoundEffect.button);var t=e.node.name;this.mJichuNode.active="toggle1"==t,this.mWanfaNode.active="toggle2"==t,this.mYingshiNode.active="toggle3"==t,this.mJiesanNode.active="toggle4"==t,"toggle1"==t||("toggle2"==t?this.setWanfaShezhi(a.DataManagerClub.CurClubInfo.gis):"toggle4"==t&&(this.mJiesanNode.getChildByName("Layout").getChildByName("clubname").getComponent(cc.Label).string=a.DataManagerClub.CurClubInfo.name))},setWanfaShezhi:function(e){var t=this;this.mWanfaScroll.content.removeAllChildren(!0),e.forEach(function(e,n){var i=cc.instantiate(t.mWanFaPrefab);if(t.mWanfaScroll.content.addChild(i),1==e.gameType?i.getChildByName("kwx").active=!0:2==e.gameType?i.getChildByName("pdk").active=!0:i.getChildByName("nn").active=!0,"0"==e.param[13]&&1==e.gameType)var o="\u5168\u90e8\u4eae";else if("1"==e.param[13])o="\u90e8\u5206\u4eae";else o="";i.getChildByName("Gname").getComponent(cc.Label).string=a.DataManagerClub.getGameWanFaStr(e)+"   \u6d88\u8017:"+e.param[2]/100+"   \u5e95\u5206:"+a.DataManagerClub.divide100Double(e.radix)+"  "+o,i.getChildByName("EditBox").getComponent(cc.EditBox).string=e.name;var s=i.getChildByName("btnDelect");s.deskId=e.id,s.on(cc.Node.EventType.TOUCH_END,function(e){l.AudioManager.playSFX(h.SoundEffect.button);var t=a.DataManagerClub.ClubDelPlayDesks(e.target.deskId);console.log(t),t?c.UIManager.showTips("\u5b58\u5728\u684c\u5b50\u4e0d\u5141\u8bb8\u5220\u9664\u73a9\u6cd5"):r.NetManager.protocolRpc.sendC2S_DelGame(e.target.deskId)},t),i.getChildByName("btnResetPlayGame").on(cc.Node.EventType.TOUCH_END,function(e){l.AudioManager.playSFX(h.SoundEffect.button)},t);var u=i.getChildByName("btnResetName");u.gameId=e.id,u.on(cc.Node.EventType.TOUCH_END,function(e){l.AudioManager.playSFX(h.SoundEffect.button);var t=e.target.gameId,n=i.getChildByName("EditBox").getComponent(cc.EditBox).string;r.NetManager.protocolRpc.C2S_ChangeGameName(t,n)},t)})},ClubDelGame:function(e){0===e.errorCode?(c.UIManager.showTips("\u64cd\u4f5c\u6210\u529f"),a.DataManagerClub.ClubDelPlayDesk(e.gameId),this.setWanfaShezhi(a.DataManagerClub.CurClubInfo.gis),cc.ClubHallJs.delectPlayDesk(e.gameId)):c.UIManager.showTips("\u64cd\u4f5c\u5931\u8d25")},ChangeGameName:function(e){0==e.errorCode?(c.UIManager.showTips("\u5907\u6ce8\u6dfb\u52a0\u6210\u529f"),a.DataManagerClub.updateDeskName(e.gameId,e.name)):c.UIManager.showTips("\u5907\u6ce8\u6dfb\u52a0\u5931\u8d25")},ClubBaseSet:function(e){0==e.errorCode?(c.UIManager.showTips("\u8bbe\u7f6e\u6210\u529f"),a.DataManagerClub.updateClubBaseInfo(e.open,e.name,e.annoucement),cc.ClubHallJs.initClubInfo(),this.close()):c.UIManager.showTips("\u8bbe\u7f6e\u5931\u8d25")},onClickJiChuOk:function(e){var t=this.mJichuNode.getChildByName("ToggleContainer").getChildByName("toggle1").getComponent(cc.Toggle).isChecked,n=this.mJichuNode.getChildByName("nameEditBox").getComponent(cc.EditBox).string,i=this.mJichuNode.getChildByName("pmdEditBox").getComponent(cc.EditBox).string;t?u.DataManager.storage.set("clubkaiguang",!0):u.DataManager.storage.set("clubkaiguang",!1),n.trim()?r.NetManager.protocolRpc.sendC2S_ClubBaseSet(t,n,i||" "):c.UIManager.showTips("\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")},onClickClose:function(e){this.close()}}),cc._RF.pop()},{"../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],ContentChange:[function(e,t,n){"use strict";cc._RF.push(t,"790a337jYJAaZsGdNU77J3L","ContentChange"),cc.Class({extends:cc.Component,properties:{scaleX:1,scaleY:1,always:!1,changeX:!0},start:function(){this.setScale()},setScale:function(){var e=cc.winSize,t=this.node.getComponent(cc.Widget);if(t&&(t.enabled=!1),e.width/e.height!=1280/720){this.scaleX=e.width/1280,this.scaleY=e.height/720;var n=Math.min(this.scaleX,this.scaleY);this.scaleX=n,this.scaleY=n;var i=this.node.scaleX,r=this.node.scaleY;this.node.setScale(this.changeX?i*this.scaleX:1,r*this.scaleY)}t&&(t.enabled=!0)},onEnable:function(){},childrenChange:function(e){if(0!=e.children.length)for(var t in e.children){var n=e.children[t],i=n.getContentSize();n.setContentSize(i.width*this.scaleX,i.height*this.scaleY),this.childrenChange(n)}},update:function(e){if(this.always){var t=cc.winSize;if(t.width/t.height!=1280/720){this.scaleX=t.width/1280,this.scaleY=t.height/720;var n=Math.min(this.scaleX,this.scaleY);this.scaleX=n,this.scaleY=n;var i=this.node.scaleX,r=this.node.scaleY;this.node.setScale(this.changeX?i*this.scaleX:1,r*this.scaleY)}}}}),cc._RF.pop()},{}],CountDown:[function(e,t,n){"use strict";cc._RF.push(t,"8d1f3a8S7NBe4FFNW3leqYy","CountDown"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=i.property,o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label_time_num=null,t.timeSchedule=null,t}return __extends(t,e),t.prototype.setTimeSchedule=function(e,t,n){var i=this;if(e){var r=t;this.label_time_num.string=this.timeStrFormat(r),null!=this.timeSchedule&&this.unschedule(this.timeSchedule),this.timeSchedule=function(){if(r--,i.label_time_num.string=i.timeStrFormat(r),r<=0)return n&&n(),i.unschedule(i.timeSchedule),void(i.timeSchedule=null)},this.schedule(this.timeSchedule,1,cc.macro.REPEAT_FOREVER)}else this.timeSchedule&&(this.unschedule(this.timeSchedule),this.timeSchedule=null)},t.prototype.timeStrFormat=function(e){var t=Math.floor(e/3600),n=t<10?"0"+t:t,i=Math.floor(e/60%60),r=i<10?"0"+i:i,a=Math.floor(e%60);return n+":"+r+":"+(a<10?"0"+a:a)},__decorate([a(cc.Label)],t.prototype,"label_time_num",void 0),t=__decorate([r],t)}(cc.Component);n.default=o,cc._RF.pop()},{}],CreateRoom:[function(e,t,n){"use strict";cc._RF.push(t,"9f483a5t/BFy7P6zAyES09S","CreateRoom");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../view/base/BaseView"),o=e("../manager/UIManager"),s=e("../manager/NetManager"),c=e("../manager/AudioManager"),l=e("../manager/SoundEffect"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wanfaData=null,t.pdkData=null,t.nnData=null,t.mInputRadix=null,t.mCanyuJifen=null,t.mTuichuJifen=null,t.mXiaohao=null,t.mKWXBeiZhu=null,t.mJuShu=null,t.mJushuLabel0=null,t.mJushuLabel1=null,t.mScrollViewkwx=null,t.mScrollViewpdk=null,t.mScrollViewNN=null,t.mPdkJushuLabel0=null,t.mPdkJushuLabel1=null,t.mPdkJushuLabel3=null,t.mPdkRenShu3=null,t.mPdkRenShu2=null,t.mPdkSanAZhaDdan=null,t.mPdkRadix=null,t.mPdkyuJifen=null,t.mPdkchuJifen=null,t.mPdkXiaohao=null,t.mPdkJuShu=null,t.mPdkHeiTao=null,t.mPdkFanPai=null,t.mPDKBeiZhu=null,t.mNNRadix=null,t.mNNyuJifen=null,t.mNNzuidi=null,t.mNNchuJifen=null,t.mNNXiaohao=null,t.mNNBeiZhu=null,t.mnnzuigao=null,t}return i(t,e),t.prototype.start=function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1)),o.UIManager.hideMarquee()},t.prototype.onLoad=function(){this.wanfaData={match:!1,juShu:8,playerCount:2,radix:0,xuanPiao:0,fengDing:8,maiMa:2,kuaiSu:12,wanFa:[0,0,0,0,0,0,0],joinLimit:0,leavelimit:0,PayValue:0,kwxname:""},this.pdkData={match:!1,juShu:6,paiShu:1,playerCount:2,radix:0,xuanPiao:0,shouZhuang:1,wanFa:[0,0,0,0,0,0,0,0,0,0],joinLimit:0,leavelimit:0,PayValue:0,pdkname:""},this.nnData={match:!1,playerCount:6,radix:0,juShu:1,joinLimit:0,leavelimit:0,PayValue:0,nnname:"",wanFa:[0,0]}},t.prototype.onTab=function(e){c.AudioManager.playSFX(l.SoundEffect.click);var t=e.node.name;this.mScrollViewkwx.active="toggle1"==t,this.mScrollViewpdk.active="toggle2"==t,this.mScrollViewNN.active="toggle3"==t},t.prototype.onpdkPuTongJu1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mPdkRenShu3.active=!1,this.pdkData.playerCount=2,this.pdkData.juShu=6,this.mPdkRenShu2.getComponent(cc.Toggle).isChecked=!0,this.mPdkJuShu.getComponent(cc.Toggle).isChecked=!0,this.pdkData.match=!1,this.mPdkJushuLabel0.string="6\u5c40 x 6\u94bb",this.mPdkJushuLabel1.string="8\u5c40 x 8\u94bb",this.mPdkJushuLabel3.string="10\u5c40 x 10\u94bb",this.mPdkFanPai.getComponent(cc.Toggle).isChecked=!0,this.mPdkHeiTao.active=!1,this.pdkData.shouZhuang=1,this.mPdkFanPai.getComponent(cc.Toggle).isChecked=!0,this.mPdkHeiTao.active=!1,this.mPdkFanPai.active=!0},t.prototype.onpdkPuTongJu2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mPdkRenShu2.getComponent(cc.Toggle).isChecked=!0,this.mPdkJuShu.getComponent(cc.Toggle).isChecked=!0,this.pdkData.juShu=1,this.mPdkRenShu3.active=!0,this.pdkData.match=!0,this.mPdkJushuLabel0.string="1\u5c40 x 1\u94bb",this.mPdkJushuLabel1.string="6\u5c40 x 6\u94bb",this.mPdkJushuLabel3.string="8\u5c40 x 8\u94bb",this.pdkData.shouZhuang=1,this.mPdkFanPai.getComponent(cc.Toggle).isChecked=!0,this.mPdkHeiTao.active=!1,this.mPdkFanPai.active=!0},t.prototype.onPdkPaiShu0=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mPdkSanAZhaDdan.getComponent(cc.Toggle).isChecked=!1,this.mPdkSanAZhaDdan.active=!1,this.pdkData.wanFa[3]=0,this.pdkData.paiShu=1},t.prototype.onPdkPaiShu2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mPdkSanAZhaDdan.active=!0,this.pdkData.paiShu=0},t.prototype.onpdkJushu1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.juShu=6,this.pdkData.match&&(this.pdkData.juShu=1)},t.prototype.onpdkJushu2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.juShu=8,this.pdkData.match&&(this.pdkData.juShu=6)},t.prototype.onpdkJushu3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.juShu=10,this.pdkData.match&&(this.pdkData.juShu=8)},t.prototype.onpdkRenshu1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mPdkFanPai.getComponent(cc.Toggle).isChecked=!0,this.mPdkHeiTao.active=!1,this.mPdkFanPai.active=!0,this.pdkData.shouZhuang=1,this.pdkData.playerCount=2},t.prototype.onpdkRenshu2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mPdkHeiTao.getComponent(cc.Toggle).isChecked=!0,this.mPdkFanPai.active=!1,this.mPdkHeiTao.active=!0,this.pdkData.shouZhuang=2,this.pdkData.playerCount=3},t.prototype.onpdkDifen1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.radix=.5,this.mPdkRadix.string=this.pdkData.radix},t.prototype.onpdkDifen2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.radix=1,this.mPdkRadix.string=this.pdkData.radix},t.prototype.onpdkDifen3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.radix=2,this.mPdkRadix.string=this.pdkData.radix},t.prototype.onpdkDifen4=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.radix=5,this.mPdkRadix.string=this.pdkData.radix},t.prototype.onpdkDifen5=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.radix=10,this.mPdkRadix.string=this.pdkData.radix},t.prototype.onpdkXuanpiao1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.xuanPiao=0},t.prototype.onpdkXuanpiao2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.xuanPiao=4},t.prototype.onpdkXuanpiao3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.xuanPiao=1},t.prototype.onpdkXuanpiao4=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.xuanPiao=2},t.prototype.onpdkShouzhuang1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.shouZhuang=1},t.prototype.onpdkShouzhuang2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.shouZhuang=2},t.prototype.onpdkWanfa1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.wanFa[0]=e.isChecked?1:0},t.prototype.onpdkWanfa2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.wanFa[1]=e.isChecked?1:0},t.prototype.onpdkWanfa3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.wanFa[2]=e.isChecked?1:0},t.prototype.onpdkWanfa4=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.pdkData.wanFa[3]=e.isChecked?1:0},t.prototype.onPdkOk=function(){this.pdkData.radix=Number(this.mPdkRadix.string),this.pdkData.joinLimit=Number(this.mPdkyuJifen.string),this.pdkData.leavelimit=Number(this.mPdkchuJifen.string),this.pdkData.PayValue=Number(this.mPdkXiaohao.string),this.pdkData.pdkname=this.mPDKBeiZhu.string,!isNaN(Number(this.pdkData.radix))&&this.pdkData.radix?!isNaN(Number(this.pdkData.joinLimit))&&this.pdkData.joinLimit?!isNaN(Number(this.pdkData.leavelimit))&&this.pdkData.leavelimit?!isNaN(Number(this.pdkData.PayValue))&&this.pdkData.PayValue?(s.NetManager.protocolRpc.sendpdkC2S_CreateGame(this.pdkData),this.close()):o.UIManager.showTips("\u6d88\u8017\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a"):o.UIManager.showTips("\u9000\u51fa\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a"):o.UIManager.showTips("\u53c2\u4e0e\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a"):o.UIManager.showTips("\u5e95\u5206\u4e0d\u80fd\u4e3a\u7a7a")},t.prototype.onNNjingdian=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.wanFa[1]=0},t.prototype.onNNdianzi=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.wanFa[1]=1},t.prototype.onNNDifen1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.radix=50,this.mNNRadix.string=this.nnData.radix,this.mnnzuigao.string="\u6700\u9ad8\u8f93\u5165\u4e0d\u8d85\u8fc7\uff1a"+.2*this.nnData.radix},t.prototype.onNNDifen2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.radix=100,this.mNNRadix.string=this.nnData.radix,this.mnnzuigao.string="\u6700\u9ad8\u8f93\u5165\u4e0d\u8d85\u8fc7\uff1a"+.2*this.nnData.radix},t.prototype.onNNDifen3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.radix=200,this.mNNRadix.string=this.nnData.radix,this.mnnzuigao.string="\u6700\u9ad8\u8f93\u5165\u4e0d\u8d85\u8fc7\uff1a"+.2*this.nnData.radix},t.prototype.onNNDifen4=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.radix=300,this.mNNRadix.string=this.nnData.radix,this.mnnzuigao.string="\u6700\u9ad8\u8f93\u5165\u4e0d\u8d85\u8fc7\uff1a"+.2*this.nnData.radix},t.prototype.onNNDifen5=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.radix=500,this.mNNRadix.string=this.nnData.radix,this.mnnzuigao.string="\u6700\u9ad8\u8f93\u5165\u4e0d\u8d85\u8fc7\uff1a"+.2*this.nnData.radix},t.prototype.onNNrenshu=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.playerCount=6},t.prototype.onNNrenshu1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.nnData.playerCount=8},t.prototype.onNNOk=function(){if(this.nnData.radix=Number(this.mNNRadix.string),this.nnData.joinLimit=Number(this.mNNyuJifen.string),this.nnData.leavelimit=Number(this.mNNchuJifen.string),this.nnData.PayValue=Number(this.mNNXiaohao.string),this.nnData.wanFa[0]=Number(this.mNNzuidi.string),this.nnData.nnname=this.mNNBeiZhu.string,!isNaN(Number(this.nnData.radix))&&this.nnData.radix)if(!isNaN(Number(this.nnData.joinLimit))&&this.nnData.joinLimit)if(!isNaN(Number(this.nnData.wanFa[0]))&&this.nnData.wanFa[0])if(!isNaN(Number(this.nnData.leavelimit))&&this.nnData.leavelimit)if(!isNaN(Number(this.nnData.PayValue))&&this.nnData.PayValue){if(this.nnData.wanFa[0]>.2*this.nnData.radix)return o.UIManager.showTips("\u6700\u4f4e\u4e0b\u6ce8\u4e0d\u80fd\u5927\u4e8e\u9505\u5e9520%"),void(this.mNNzuidi.string="");s.NetManager.protocolRpc.sendnnC2S_CreateGame(this.nnData),this.close()}else o.UIManager.showTips("\u6d88\u8017\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a");else o.UIManager.showTips("\u9000\u51fa\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a");else o.UIManager.showTips("\u6700\u4f4e\u4e0b\u6ce8\u4e0d\u80fd\u4e3a\u7a7a");else o.UIManager.showTips("\u53c2\u4e0e\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a");else o.UIManager.showTips("\u5e95\u5206\u4e0d\u80fd\u4e3a\u7a7a")},t.prototype.onClickPutongju1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mJuShu.getComponent(cc.Toggle).isChecked=!0,this.wanfaData.juShu=8,this.wanfaData.match=!1,this.mJushuLabel0.string="8\u5c40 x 8\u94bb",this.mJushuLabel1.string="16\u5c40 x 16\u94bb"},t.prototype.onClickPutongju2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.mJuShu.getComponent(cc.Toggle).isChecked=!0,this.wanfaData.juShu=1,this.wanfaData.match=!0,this.mJushuLabel0.string="1\u5c40 x 1\u94bb",this.mJushuLabel1.string="8\u5c40 x 8\u94bb"},t.prototype.onClickJushu1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.juShu=8,this.wanfaData.match&&(this.wanfaData.juShu=1)},t.prototype.onClickJushu2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.juShu=16,this.wanfaData.match&&(this.wanfaData.juShu=8)},t.prototype.onClickRenshu1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.playerCount=2},t.prototype.onClickRenshu2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.playerCount=3},t.prototype.onClickDifen1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.radix=.5,this.mInputRadix.string=this.wanfaData.radix},t.prototype.onClickDifen2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.radix=1,this.mInputRadix.string=this.wanfaData.radix},t.prototype.onClickDifen3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.radix=2,this.mInputRadix.string=this.wanfaData.radix},t.prototype.onClickDifen4=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.radix=5,this.mInputRadix.string=this.wanfaData.radix},t.prototype.onClickDifen5=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.radix=10,this.mInputRadix.string=this.wanfaData.radix},t.prototype.onClickXuanpiao1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.xuanPiao=0},t.prototype.onClickXuanpiao2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.xuanPiao=4},t.prototype.onClickXuanpiao3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.xuanPiao=1},t.prototype.onClickXuanpiao4=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.xuanPiao=2},t.prototype.onClickFengding1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.fengDing=8},t.prototype.onClickFengding2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.fengDing=16},t.prototype.onClickLiangDao1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[6]=1},t.prototype.onClickLiangDao2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[6]=0},t.prototype.onClickMaima1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.maiMa=0},t.prototype.onClickMaima2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.maiMa=2},t.prototype.onClickKuaishuchang1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.kuaiSu=9},t.prototype.onClickKuaishuchang2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.kuaiSu=12},t.prototype.onClickKuaishuchang3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.kuaiSu=15},t.prototype.onClickWanfa1=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[0]=e.isChecked?1:0},t.prototype.onClickWanfa2=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[1]=e.isChecked?1:0},t.prototype.onClickWanfa3=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[2]=e.isChecked?1:0},t.prototype.onClickWanfa4=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[3]=e.isChecked?1:0},t.prototype.onClickWanfa5=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[4]=e.isChecked?1:0},t.prototype.onClickWanfa6=function(e){c.AudioManager.playSFX(l.SoundEffect.click),this.wanfaData.wanFa[5]=e.isChecked?1:0},t.prototype.onClickGaojishezhi=function(){o.UIManager.popup("prefabs/Gaojishezhi")},t.prototype.onClickOk=function(){this.wanfaData.radix=Number(this.mInputRadix.string),this.wanfaData.joinLimit=Number(this.mCanyuJifen.string),this.wanfaData.leavelimit=Number(this.mTuichuJifen.string),this.wanfaData.PayValue=Number(this.mXiaohao.string),this.wanfaData.kwxname=this.mKWXBeiZhu.string,!isNaN(Number(this.wanfaData.radix))&&this.wanfaData.radix?!isNaN(Number(this.wanfaData.joinLimit))&&this.wanfaData.joinLimit?!isNaN(Number(this.wanfaData.leavelimit))&&this.wanfaData.leavelimit?!isNaN(Number(this.wanfaData.PayValue))&&this.wanfaData.PayValue?(console.log(this.wanfaData),s.NetManager.protocolRpc.sendC2S_CreateGame(this.wanfaData),this.close()):o.UIManager.showTips("\u6d88\u8017\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a"):o.UIManager.showTips("\u9000\u51fa\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a"):o.UIManager.showTips("\u53c2\u4e0e\u79ef\u5206\u4e0d\u80fd\u4e3a\u7a7a"):o.UIManager.showTips("\u5e95\u5206\u4e0d\u80fd\u4e3a\u7a7a")},r([f(cc.EditBox)],t.prototype,"mInputRadix",void 0),r([f(cc.EditBox)],t.prototype,"mCanyuJifen",void 0),r([f(cc.EditBox)],t.prototype,"mTuichuJifen",void 0),r([f(cc.EditBox)],t.prototype,"mXiaohao",void 0),r([f(cc.EditBox)],t.prototype,"mKWXBeiZhu",void 0),r([f(cc.Node)],t.prototype,"mJuShu",void 0),r([f(cc.Label)],t.prototype,"mJushuLabel0",void 0),r([f(cc.Label)],t.prototype,"mJushuLabel1",void 0),r([f(cc.Node)],t.prototype,"mScrollViewkwx",void 0),r([f(cc.Node)],t.prototype,"mScrollViewpdk",void 0),r([f(cc.Node)],t.prototype,"mScrollViewNN",void 0),r([f(cc.Label)],t.prototype,"mPdkJushuLabel0",void 0),r([f(cc.Label)],t.prototype,"mPdkJushuLabel1",void 0),r([f(cc.Label)],t.prototype,"mPdkJushuLabel3",void 0),r([f(cc.Node)],t.prototype,"mPdkRenShu3",void 0),r([f(cc.Node)],t.prototype,"mPdkRenShu2",void 0),r([f(cc.Node)],t.prototype,"mPdkSanAZhaDdan",void 0),r([f(cc.EditBox)],t.prototype,"mPdkRadix",void 0),r([f(cc.EditBox)],t.prototype,"mPdkyuJifen",void 0),r([f(cc.EditBox)],t.prototype,"mPdkchuJifen",void 0),r([f(cc.EditBox)],t.prototype,"mPdkXiaohao",void 0),r([f(cc.Node)],t.prototype,"mPdkJuShu",void 0),r([f(cc.Node)],t.prototype,"mPdkHeiTao",void 0),r([f(cc.Node)],t.prototype,"mPdkFanPai",void 0),r([f(cc.EditBox)],t.prototype,"mPDKBeiZhu",void 0),r([f(cc.EditBox)],t.prototype,"mNNRadix",void 0),r([f(cc.EditBox)],t.prototype,"mNNyuJifen",void 0),r([f(cc.EditBox)],t.prototype,"mNNzuidi",void 0),r([f(cc.EditBox)],t.prototype,"mNNchuJifen",void 0),r([f(cc.EditBox)],t.prototype,"mNNXiaohao",void 0),r([f(cc.EditBox)],t.prototype,"mNNBeiZhu",void 0),r([f(cc.Label)],t.prototype,"mnnzuigao",void 0),t=r([h],t)}(a.default);n.default=d,cc._RF.pop()},{"../manager/AudioManager":"AudioManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],DataManagerClub:[function(e,t,n){"use strict";cc._RF.push(t,"268861lictNyoiTR6RCsVUg","DataManagerClub");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,o=(r.property,function(){function e(){this.ClubIdentity=["\u6210\u5458","\u7ba1\u7406\u5458","\u5408\u4f19\u4eba","\u526f\u56e2\u957f","\u56e2\u957f"],this.CurClubInfo=null,this.MyClubInfo=null,this.MyClickDesks=null,this.Mytype=0,this.complete=!1,this.join=!1,this.BacktotheClub=!1}var t;return t=e,e.prototype.SetMyClubInfo=function(e){this.MyClubInfo=e},e.prototype.setCurClubInfo=function(e){this.CurClubInfo=e,this.CurClubInfo.dis=[],this.CurClubInfo.unfullDesk=[]},e.prototype.updateClubBaseInfo=function(e,t,n){this.CurClubInfo.isOpen=e,this.CurClubInfo.name=t,this.CurClubInfo.annoucement=n;for(var i=0;i<this.MyClubInfo.length;i++)this.MyClubInfo[i].clubId==this.CurClubInfo.clubId&&(this.MyClubInfo[i].clubName=t)},e.prototype.ClubAddPlayDesk=function(e){this.CurClubInfo.gis.push(e),console.log(this.CurClubInfo.gis)},e.prototype.updateDeskName=function(e,t){for(var n=0;n<this.CurClubInfo.gis.length;n++){var i=this.CurClubInfo.gis;if(i[n].id==e){i[n].name=t;break}}},e.prototype.AddNewClub=function(e){e.identity=1,e.score=0,this.MyClubInfo.push(e)},e.prototype.ExitFromClub=function(e){for(var t=0;t<this.MyClubInfo.length;t++)this.MyClubInfo[t].clubId==e&&this.MyClubInfo.splice(t,1)},e.prototype.ClubDelPlayDesks=function(e){for(var t=!1,n=0;n<this.CurClubInfo.dis.length;n++){if((i=this.CurClubInfo.dis)[n].gameId==e){console.log("dis",i[n],e),t=!0;break}}for(n=0;n<this.CurClubInfo.unfullDesk.length;n++){var i;if((i=this.CurClubInfo.unfullDesk)[n].gameId==e){console.log("unfullDesk",i[n],e),t=!0;break}}return t},e.prototype.ClubDelPlayDesk=function(e){for(var t=0;t<this.CurClubInfo.gis.length;t++){if(this.CurClubInfo.gis[t].id==e){this.CurClubInfo.gis.splice(t,1);break}}},e.prototype.getCurClubId=function(){return this.CurClubInfo.clubId},e.prototype.fromGameIdGetDeskInfo=function(e){for(var t=0;t<this.CurClubInfo.gis.length;t++){var n=this.CurClubInfo.gis[t];if(n.id==e)return n}},e.prototype.getGameNameStr=function(e){var t="";if(1===e.gameType?t+="\u5361\u4e94\u661f":2===e.gameType?t+="\u8dd1\u5f97\u5feb":4===e.gameType&&(t+="\u5403\u706b\u9505"),2===e.playerCount);else if(3===e.playerCount);else;return t},e.prototype.getGameWanFaStr=function(e){var t="";return 1===e.gameType?(2===e.playerCount&&(t+="\u5361\u4e94\u661f2\u4eba"),3===e.playerCount&&(t+="\u5361\u4e94\u661f3\u4eba")):2===e.gameType?(2===e.playerCount&&(t+="\u8dd1\u5f97\u5feb2\u4eba"),3===e.playerCount&&(t+="\u8dd1\u5f97\u5feb3\u4eba")):6===e.playerCount&&(t+="\u5403\u706b\u95056\u4eba"),e.match?t+="  (\u5339\u914d)":t+="  (\u666e\u901a)",t},e.prototype.getClubIdentity=function(e){for(var t=0;t<this.MyClubInfo.length;t++)if(this.MyClubInfo[t].clubId==e)return this.MyClubInfo[t].identity},e.prototype.submit100Double=function(e){return e?100*e:0},e.prototype.divide100Double=function(e){return e?e/100:0},e.instance=new t,e=t=i([a],e)}());n.default=o,n.DataManagerClub=o.instance,cc._RF.pop()},{}],DataManager:[function(e,t,n){"use strict";cc._RF.push(t,"9852cM6dy1Af4XmjOIUmhMF","DataManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../common/utils/LocalStorage"),s=e("./ResManager"),c=e("./AudioManager"),l=e("../Define"),u=e("./SoundEffect"),h=e("./UIManager"),f=cc._decorator,d=f.ccclass,p=(f.property,function(){return function(){}}());n.LoginInfo=p;var g=function(){return function(){}}();n.PlayerInfo=g;var m=function(){function e(){this.httpUrl="",this.playerInfo=null,this.storage=new o.default,this.loginInfo=null,this.vipInfos=null,this.account=null,this.games=null,this.gameToken=null,this.gameToken2=null,this.version="1.0.0",this.gameType=null,this.gameLinkType=!1,this.gameLevel=1,this.isFriendGame=!1,this.friendRoomId=null,this.isCreaterUser=!1,this.roomId=null,this.gameVersions=null,this.marquee=[],this.isTouristLogin=!0,this.loginType=0,this.bindPhoneCheck={},this.bindPhoneGiveCoin=0,this.isFirst=!0,this.isFirstLogin=!0,this.gameConfig={},this.channel=l.Channel,this.httpUrlIndex=0,this.ip="",this.isVibrate=!0,this.parentId=0,this.inviteClubId=0,this.inviteClubCreateId=0,this.LatestVersion=0,this.huifangid=0,this.bgm=0,this.bgms={"\u66f2\u76ee1":{path:u.SoundEffect.HallMusic,name:"\u66f2\u76ee1",index:0}},this.loginInfo=this.storage.get("loginInfo"),this.account=this.storage.get("account"),this.gameVersions=this.storage.get("gameVersions"),this.httpUrl=l.HttpBase;var e=this.storage.get("soundConfig");e&&(c.AudioManager.playMusic=e.playMusic,c.AudioManager.playSound=e.playSound,c.AudioManager.setBGMVolume(e.bgmVolume),c.AudioManager.setSFXVolume(e.sfxVolume));var t=this.storage.get("bgm");t&&(this.bgm=parseInt(t)||0);var n=this.storage.get("bgms");n&&(this.bgms=n);var i=this.storage.get("vibrate");null!=i&&(this.isVibrate=1==i);var r=this.storage.get("firstLogin");null!=r&&(this.isFirstLogin=1==r);var a=this.storage.get("parentId"),s=this.storage.get("clubId"),h=this.storage.get("clubCreateId");this.parentId=a&&parseInt(a)||0,this.inviteClubId=s&&parseInt(s)||0,this.inviteClubCreateId=h&&parseInt(h)||0}var t;return t=e,e.prototype.loadVersion=function(){return r(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,s.ResManager.loadResAsync("version",cc.TextAsset)];case 1:return e=t.sent(),this.version=e.text,h.UIManager.showTips("\u6700\u65b0\u7248\u672c\u53f7\u662f:"+this.version),[2]}})})},e.prototype.getGameName=function(e){for(var t in this.gameConfig)if(this.gameConfig[t].gameType==e)return t;return l.GameName[e]?l.GameName[e]:null},e.prototype.getGameVersion=function(e){return this.gameVersions?this.gameVersions[e]:null},e.prototype.getGameNumVersion=function(e){return this.gameVersions&&this.gameVersions[e]?parseInt(this.gameVersions[e].replace(/\./g,"")):-1},e.prototype.isTipsQuickRecharge=function(){var e=this.storage.getItem(this.account+"QuickRecharge");return!!e&&"true"==e},e.prototype.saveTipsQuickRecharge=function(e){this.storage.setItem(this.account+"QuickRecharge",e)},e.prototype.saveGameVersion=function(e,t){this.gameVersions||(this.gameVersions={}),this.gameVersions[e]=t,this.storage.set("gameVersions",this.gameVersions)},e.prototype.saveLoginInfo=function(){this.storage.set("loginInfo",this.loginInfo)},e.prototype.saveAccount=function(){this.storage.set("account",this.account)},e.prototype.saveBgm=function(){this.storage.set("bgm",this.bgm)},e.prototype.clearLoginInfo=function(){this.storage.remove("loginInfo"),this.loginInfo=null,this.games=null},e.prototype.clearAccount=function(){this.storage.remove("account")},e.prototype.clearInvite=function(){this.storage.remove("clubId"),this.storage.remove("clubCreateId"),this.inviteClubId=0,this.inviteClubCreateId=0},e.prototype.saveSoundConfig=function(){this.storage.set("soundConfig",{playMusic:c.AudioManager.playMusic,playSound:c.AudioManager.playSound,bgmVolume:c.AudioManager.bgmVolume,sfxVolume:c.AudioManager.sfxVolume})},e.prototype.saveIpChannel=function(){this.storage.set("ip",this.httpUrl),this.storage.set("channel",this.channel)},e.prototype.saveVibrate=function(){this.storage.set("vibrate",this.isVibrate?1:0)},e.prototype.saveFirstLogin=function(){this.storage.set("firstLogin",this.isFirstLogin?1:0)},e.prototype.getVipInfoByLevel=function(e){for(var t=0,n=this.vipInfos;t<n.length;t++){var i=n[t];if(i.vip_level==e)return i}return null},e.prototype.isTourist=function(){},e.prototype.isAccount=function(){},e.prototype.isCheckBindPhone=function(e){return!1},e.prototype.getHallVersion=function(){return n.DataManager.storage.getItem("version","0.0.0")},e.prototype.addBgm=function(e,t){this.bgms[e]=t,this.storage.set("bgms",this.bgms)},e.prototype.getBgms=function(){var e=[];for(var t in this.bgms)e.push({name:t,path:this.bgms[t].path,index:this.bgms[t].index});return e.sort(function(e,t){return e.index-t.index}),e},e.instance=new t,e=t=i([d],e)}();n.default=m,n.DataManager=m.instance,cc._RF.pop()},{"../Define":"Define","../common/utils/LocalStorage":"LocalStorage","./AudioManager":"AudioManager","./ResManager":"ResManager","./SoundEffect":"SoundEffect","./UIManager":"UIManager"}],Define:[function(e,t,n){"use strict";var i,r;cc._RF.push(t,"2b875DGqVxH95ULLl0K38gC","Define"),Object.defineProperty(n,"__esModule",{value:!0}),n.XXTeaSerectKey="vdNwFdfvgsd3dsdfv9xgdt34wed3sdyD",function(e){e[e.Hall=0]="Hall",e[e.Game=1]="Game"}(n.SocketType||(n.SocketType={})),n.UpdateUrl="http://119.23.241.217:80/downloads/",n.HttpBase="http://119.23.241.217:5207/app",n.wsUrl="ws://119.23.241.217:9001/ws",n.Channel="develop",n.FtpUrl="119.23.241.217:21",n.FtpAccount="doulefanglog",n.FtpPassword="YXhDMcL2Tyz4CDAP",n.EventDef={SocketOpen:"event_socket_open",SocketError:"event_socket_error",SocektClose:"event_socket_close",SocketInitSuccess:"event_socket_init_success",UpdateUserAgree:"event_update_user_agree",ReViewLoginBnt:"event_review_login_btn",SizeChanged:"event_size_changed",HotUpdateProgress:"event_hot_update_progress",HotUpdateUnzip:"event_hot_update_unzip",HotUpdateFinish:"event_hot_update_finish",HotUpdateFail:"event_hot_update_fail",UpdateUserInfo:"event_update_user_info",UpdateUserSafeInfo:"event_update_user_safe_info",UpdateUserGold:"event_update_user_gold",UserSelectTimeMsg:"user_select_time_msg",GameShow:"event_game_show",GameHide:"event_game_hide",ClubUpateLeague:"evnt_update_league",UpateHall:"evnt_update_hall"},n.UpdateEnabled=!0,n.HeartEnabled=!0,function(e){e[e.HALL=3]="HALL",e[e.PDK=2]="PDK",e[e.KWX=1]="KWX",e[e.NN=4]="NN"}(r=n.GameType||(n.GameType={})),n.GameName=((i={})[r.HALL]="hall",i[r.PDK]="pdk",i[r.KWX]="kwx",i[r.NN]="nn",i),n.PhonePermission={WriteExternalStotage:"android.permission.WRITE_EXTERNAL_STORAGE"},n.ENABLE_MULTI_TOUCH=!1,function(e){e[e.Tourist=1]="Tourist",e[e.Password=2]="Password",e[e.Account=4]="Account",e[e.Code=8]="Code"}(n.LoginType||(n.LoginType={})),n.BGM=["bgm1.mp3","bgm2.mp3","bgm3.mp3","bgm4.mp3","bgm5.mp3","bgm6.mp3","bgm7.mp3","bgm8.mp3","bgm9.mp3","bgm10.mp3"],cc._RF.pop()},{}],DestorySelf:[function(e,t,n){"use strict";cc._RF.push(t,"0d0feWtCd1K3p0ehTsWkPUa","DestorySelf"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.destroySelf=function(){this.node.destroy()},t=__decorate([r],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],Device:[function(e,t,n){"use strict";cc._RF.push(t,"02e7eD832RJ3ZA+Pnkt7azc","Device");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./log/LogWrap"),a=e("../Define"),o=e("../manager/DataManager"),s=e("../manager/EventManager"),c=cc._decorator,l=c.ccclass,u=(c.property,function(){function e(){}var t;return t=e,e.nativeCallBack=function(e,n){switch(console.log(e,n),e){case"openPhotoIOS":console.log("ios\u6253\u5f00\u76f8\u518c\u56de\u6389\u56de\u6765\u4e86");var i={path:""+n,imgdata:"2222222222222"},r=JSON.stringify(i);s.EventManager.emit("openPhoto",r);break;case"openPhoto":console.log("and\u6253\u5f00\u76f8\u518c\u56de\u6389\u56de\u6765\u4e86"),s.EventManager.emit("openPhoto",n);break;case"getWebChatToken":console.log("\u83b7\u53d6\u767b\u9646token\u548copenid\u3002\u3002\u3002\u3002\u3002");var a=JSON.parse(n);o.DataManager.storage.setItem("loginType",4),null==o.DataManager.loginInfo&&(o.DataManager.loginInfo=new o.LoginInfo),o.DataManager.loginInfo.account=a.openid,o.DataManager.loginInfo.login_type=4,o.DataManager.loginInfo.token=a.access_token,o.DataManager.loginInfo.refresh_Token=a.refresh_token,o.DataManager.storage.set("loginInfo",o.DataManager.loginInfo),o.DataManager.storage.setItem("token",a.access_token),t.getUserInfo(a.openid,a.access_token);break;case"getUserInfo":console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u3002\u3002\u3002\u3002\u3002");a=JSON.parse(n);null==o.DataManager.playerInfo&&(o.DataManager.playerInfo=new o.PlayerInfo),o.DataManager.playerInfo.name=a.nickname,o.DataManager.playerInfo.icon=a.headimgurl,o.DataManager.storage.set("loginInfo",o.DataManager.loginInfo),s.EventManager.emit("webChatLoginSuccess");break;case"wxLoginCallBack":console.log("\u5fae\u4fe1\u767b\u5f55\u56de\u8c03\u7528\u6237\u4fe1\u606f1\u3002\u3002\u3002\u3002\u3002");a=JSON.parse(n);o.DataManager.storage.setItem("loginType",4),null==o.DataManager.loginInfo&&(o.DataManager.loginInfo=new o.LoginInfo),o.DataManager.loginInfo.account=a.openid,o.DataManager.loginInfo.login_type=4,o.DataManager.loginInfo.token=a.access_token,o.DataManager.loginInfo.refresh_Token=a.refresh_token,o.DataManager.storage.set("loginInfo",o.DataManager.loginInfo),o.DataManager.storage.setItem("token",a.access_token),null==o.DataManager.playerInfo&&(o.DataManager.playerInfo=new o.PlayerInfo),o.DataManager.playerInfo.name=a.nickname,o.DataManager.playerInfo.icon=a.headimgurl,o.DataManager.storage.set("loginInfo",o.DataManager.loginInfo),s.EventManager.emit("webChatLoginSuccess")}},e.getUserInfo=function(e,t){if(cc.sys.isNative)if(cc.sys.OS_ANDROID==cc.sys.os)jsb.reflection.callStaticMethod("org/cocos2dx/javascript/WeChat","getUserInfo","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",e,t);else if(cc.sys.OS_IOS==cc.sys.os){console.log("ios\u83b7\u53d6\u7528\u6237\u4fe1\u606f");var n=JSON.stringify({user_openId:e,token:t});jsb.reflection.callStaticMethod("Webchat","getUserInfo:",n)}},e.vibrate=function(e){void 0===e&&(e=1),r.LogWrap.log("vibrate:",o.DataManager.isVibrate,e),cc.sys.isMobile&&o.DataManager.isVibrate},e.openUrl=function(e){cc.sys.openURL(e)},e.getDeviceId=function(){var e="";return cc.sys.isNative?cc.sys.OS_ANDROID==cc.sys.os?e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getDeviceId","()Ljava/lang/String;"):cc.sys.OS_IOS==cc.sys.os&&(e=jsb.reflection.callStaticMethod("AppController","getDeviceId:",null)):cc.sys.OS_OSX==cc.sys.os&&(e="123456"),e},e.getModel=function(){var e="";return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getModel","()Ljava/lang/String;"):cc.sys.OS_IOS==cc.sys.os&&(e=jsb.reflection.callStaticMethod("Device","getModel:",null))),e},e.getClipBoard=function(){var e="";return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getClipBoard","()Ljava/lang/String;"):cc.sys.OS_IOS==cc.sys.os&&(e=jsb.reflection.callStaticMethod("AppController","getClipBoard:",null))),e},e.setClipBoard=function(e){var t=!1;return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","setClipBoard","(Ljava/lang/String;)Z",e):cc.sys.OS_IOS==cc.sys.os&&(t=jsb.reflection.callStaticMethod("AppController","setClipBoard:",e))),t},e.getSystemVersion=function(){var e="";return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?e="android"+(e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getSystemVersion","()Ljava/lang/String;")):cc.sys.OS_IOS==cc.sys.os&&(e="ios"+(e=jsb.reflection.callStaticMethod("Device","getSystemVersion:",null)))),e},e.getAppVersion=function(){var e="3.0.0";return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getAppVersion","()Ljava/lang/String;"):cc.sys.OS_IOS==cc.sys.os&&(e=jsb.reflection.callStaticMethod("Device","getAppVersion:",null))),e},e.getAppCode=function(){var e=0;return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getAppCode","()J"):cc.sys.OS_IOS==cc.sys.os&&(e=jsb.reflection.callStaticMethod("Device","getAppCode:",null))),e},e.getLocation=function(){return{cityName:"",longitude:0,latitude:0}},e.startLocation=function(){},e.saveTextureToLocal=function(e){cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","saveTextureToLocal","(Ljava/lang/String;)V",e):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("Device","saveTextureToLocal:",e))},e.checkSelfPermission=function(e){var t=0;return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","checkSelfPermission","(Ljava/lang/String;)I",e):cc.sys.OS_IOS==cc.sys.os&&(t=jsb.reflection.callStaticMethod("Device","checkSelfPermission:",e))),r.LogWrap.log("checkSelfPermission",t),0==t},e.requestPermission=function(e){cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","requestPermission","(Ljava/lang/String;)V",e):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("Device","requestPermission:",e))},e.screenToShot=function(e){var t=!1;return cc.sys.isNative&&cc.sys.OS_IOS==cc.sys.os&&(t=jsb.reflection.callStaticMethod("Device","screenToShot:",e)),t},e.getNotchHeight=function(){var e=0;return cc.sys.isNative&&cc.sys.OS_ANDROID==cc.sys.os&&(e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getNotchHeight","()I")),e},e.patchApk=function(e,t){var n=-1;return cc.sys.isNative&&cc.sys.OS_ANDROID==cc.sys.os&&(n=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","patchApk","(Ljava/lang/String;Ljava/lang/String;)I",e,t)),r.LogWrap.log("patchApk",n),n},e.installApk=function(e){cc.sys.isNative&&cc.sys.OS_ANDROID==cc.sys.os&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","installApk","(Ljava/lang/String;)V",e)},e.getChannel=function(){var e="";return cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getChannel","()Ljava/lang/String;"):cc.sys.OS_IOS==cc.sys.os&&(e=jsb.reflection.callStaticMethod("Device","getChannel:",null))),r.LogWrap.log("channel",e),""==e?a.Channel:e},e.getSafeArea=function(){var e=null;if(cc.sys.isNative)if(cc.sys.OS_ANDROID==cc.sys.os){var t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/service/Device","getSafeArea","()[F");e=cc.rect(t[0],t[1],t[2],t[3])}else e=cc.sys.getSafeAreaRect();return r.LogWrap.log("getSafeArea",e),e},e.openPhoto=function(){if(cc.sys.isNative)if(cc.sys.OS_ANDROID==cc.sys.os)jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","openPhoto","()V");else if(cc.sys.OS_IOS==cc.sys.os){var e=jsb.reflection.callStaticMethod("AppController","openPhoto:",null);console.log("androidTakePhotoret:",e)}},e.onWXLogin=function(){cc.sys.isNative&&(cc.sys.OS_ANDROID==cc.sys.os?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/WeChat","sendLogin","()V"):cc.sys.OS_IOS==cc.sys.os&&jsb.reflection.callStaticMethod("Webchat","sendWxLogin:",null))},e.sendPicture=function(e){if(cc.sys.isNative){if(cc.sys.OS_ANDROID==cc.sys.os)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","sendPicture","(Ljava/lang/String;)I",e);if(cc.sys.OS_IOS==cc.sys.os)return jsb.reflection.callStaticMethod("AppController","sendPicture:",e)}return 0},e.refreshToken=function(e){if(cc.sys.isNative){if(cc.sys.OS_ANDROID==cc.sys.os)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/WeChat","refreshToken","(Ljava/lang/String;)V",e);if(cc.sys.OS_IOS==cc.sys.os)return jsb.reflection.callStaticMethod("Webchat","refreshTokenNative:",e)}return 0},e=t=i([l],e)}());n.default=u,window.Device=u,cc._RF.pop()},{"../Define":"Define","../manager/DataManager":"DataManager","../manager/EventManager":"EventManager","./log/LogWrap":"LogWrap"}],DragSelect:[function(e,t,n){"use strict";cc._RF.push(t,"4f6f9WOykpDKb1V+j+OH276","DragSelect");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./PDKPlayer"));function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}cc.Class({extends:cc.Component,properties:{_touchBegan:null,_touchMoved:null,game:{default:null,type:i.default}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.game.cardsArr=this.node.getChildren();var e=this.game.cardsArr[0];e&&(this.CARD_DISTANCE=e.width*e.anchorX+this.node.getComponent(cc.Layout).spacingX)},onTouchStart:function(e){console.log("\u89e6\u6478\u542f\u52a8");var t=e.getLocation(),n=this._beginPos=this.node.convertToNodeSpaceAR(t);this._checkSelectCard(n,n,!0)},onTouchMove:function(e){console.log("\u89e6\u6478\u79fb\u52a8");var t=e.getLocation(),n=this.node.convertToNodeSpaceAR(t);this._checkSelectCard(n,n),this._checkSelectCardReverse(this._beginPos,n)},onTouchEnd:function(e){console.log("\u89e6\u6478\u7ed3\u675f"),this._onSelectCardEnd()},_onSelectCardEnd:function(){console.log("\u89e6\u6478\u9009\u62e9\u7ed3\u675f");var e,t=r(this.game.cardsArr);try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log(n),180==n.color.r&&(n.y=110===n.y?90:110),n.color=cc.color(255,255,255),this.game.moveCard(n)}}catch(e){t.e(e)}finally{t.f()}},_checkSelectCard:function(e,t,n){console.log("\u68c0\u67e5\u9009\u62e9\u5361\u724c");var i=this.game.cardsArr.length;if(console.log(n),n)for(var r=i-1;r>=0;r--){var a=this.game.cardsArr[r];if(a.getBoundingBox().contains(e))return void(a.color=cc.color(180,180,180))}else for(var o=Math.max(1,Math.abs(e.x-t.x)),s=Math.max(1,Math.abs(e.y-t.y)),c=Math.min(e.x,t.x),l=Math.min(e.y,t.y),u=cc.rect(c,l,o,s),h=i-1;h>=0;h--){var f=this.game.cardsArr[h];if(f.getBoundingBox().contains(u))return void(f.color=cc.color(180,180,180))}},_checkSelectCardReverse:function(e,t){console.log("\u68c0\u67e5\u9009\u62e9\u5361\u724c\u53cd\u5411");for(var n=e.x<t.x?e:t,i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),a=cc.rect(n.x,n.y,i,r),o=this.game.cardsArr.length,s=o-1;s>=0;s--){var c=this.game.cardsArr[s];cc.Intersection.rectRect(c.getBoundingBox(),a)?n.x-c.x>=this.CARD_DISTANCE&&s!=o-1&&(c.color=cc.color(255,255,255)):c.color=cc.color(255,255,255)}}}),cc._RF.pop()},{"./PDKPlayer":"PDKPlayer"}],DynamicList:[function(e,t,n){"use strict";cc._RF.push(t,"c1c88qDRUlKJbt6d46wu+cA","DynamicList");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/log/LogWrap"),o=cc._decorator,s=o.ccclass,c=o.property,l=o.menu,u=o.requireComponent,h=o.executionOrder,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollView=null,t.content=null,t._datas=null,t.itemTemplete=null,t.itemTempleteChild=null,t.itemChildName="item_child",t.frameCount=1,t.items={},t.isOpen={0:!0},t.viewSize=null,t.startIndex=0,t.endIndex=0,t.pool=[],t.displayData=[],t.isUpdate=!1,t.renderEvent=new cc.Component.EventHandler,t.renderChildEvent=new cc.Component.EventHandler,t}return i(t,e),t.prototype.onLoad=function(){this.scrollView=this.node.getComponent(cc.ScrollView),this.content=this.scrollView.content,this.viewSize=this.scrollView.node.getContentSize(),this.itemTemplete&&this.itemTemplete.removeFromParent(),this.itemTempleteChild&&this.itemTempleteChild.removeFromParent(),this.content.removeComponent(cc.Layout),this.node.on("scrolling",this.onScrolling,this,!0)},t.prototype.start=function(){},Object.defineProperty(t.prototype,"datas",{get:function(){return this._datas},set:function(e){this._datas=e,this.updateItems()},enumerable:!0,configurable:!0}),t.prototype.getTemplete=function(e){for(var t=this.pool.length-1;t>=0;t--){if(this.pool[t].templete==e.name&&!this.pool[t].isBusy)return this.pool[t].isBusy=!0,this.pool[t].node}var n=cc.instantiate(e);return this.pool.push({templete:e.name,node:n,isBusy:!0}),n},t.prototype.putTemplete=function(e){for(var t=this.pool.length-1;t>=0;t--)if(this.pool[t].node==e&&this.pool[t].isBusy){this.pool[t].isBusy=!1,e.parent=null;break}},t.prototype.initTemplete=function(){for(var e=this.pool.length-1;e>=0;e--)this.pool[e].isBusy=!1,this.pool[e].node.parent=null},t.prototype.setOpen=function(e){for(var t in this.isOpen[e]?this.isOpen[e]=!1:this.isOpen[e]=!0,this.isOpen)parseInt(t)!=e&&(this.isOpen[t]=!1);this.scrollView.stopAutoScroll(),this.updateItems(!0),this.updateRender()},t.prototype.getOpenIndex=function(){for(var e in this.isOpen)if(1==this.isOpen[e])return e;return-1},t.prototype.restHeight=function(){var e=0,t=this.getOpenIndex();-1!=t&&this.isOpen[t]&&this.itemTempleteChild&&this.datas[t]&&this.datas[t].items&&(e=this.datas[t].items.length*this.itemTempleteChild.height),this.content.height=this.datas.length*this.itemTemplete.height+e},t.prototype.updateRender=function(){for(var e in this.items)cc.Component.EventHandler.emitEvents([this.renderEvent],this.items[e],e,this.datas[e])},t.prototype.updateItems=function(e){if(void 0===e&&(e=!1),this.datas&&this.content){this.restHeight();var t=this.content.getPosition();a.LogWrap.log("updateItems",t.y,this.content.height-this.viewSize.height);var n=0,i=0,r=this.displayData;this.displayData=[];for(var o=0;o<this.datas.length;o++){n=o*this.itemTemplete.height+i;var s=t.y,c=t.y+this.viewSize.height,l=0;this.isOpen[o]&&this.itemTempleteChild&&this.datas[o].items&&(i+=l=this.datas[o].items.length*this.itemTempleteChild.height),n>=s&&n+this.itemTemplete.height+l<=c?this.displayData.push(o):(n<s&&n+this.itemTemplete.height+l>s||n<c&&n+this.itemTemplete.height+l>c)&&this.displayData.push(o)}if(this.displayData.sort(),r.toString()!=this.displayData.toString()||e)for(var o in this.isUpdate=!0,e&&(this.startIndex=0),this.items){var u=this.items[o],h=u.getChildByName(this.itemChildName),f=h.getComponent(cc.ToggleContainer);if(!this.isOpen[o]&&this.itemTempleteChild&&this.datas[o].items&&h){u.stopAllActions(),f&&(f.enabled=!1);for(var d=h.childrenCount-1;d>=0;d--)this.putTemplete(h.children[d]);f&&(f.enabled=!0)}if(-1==this.displayData.indexOf(parseInt(o))){if(this.isOpen[o]&&h){u.stopAllActions(),f&&(f.enabled=!1);for(d=h.childrenCount-1;d>=0;d--)this.putTemplete(h.children[d]);f&&(f.enabled=!0)}this.putTemplete(this.items[o]),delete this.items[o]}}}},t.prototype.update=function(){var e=this;if(!(this.frameCount<=0)&&this.isUpdate){this.endIndex=this.startIndex+this.frameCount;for(var t=this.getOpenIndex(),n=function(n){var r=i.displayData[n],a=i.items[r];if(null!=r&&(a||(a=i.getTemplete(i.itemTemplete),i.content.addChild(a),cc.Component.EventHandler.emitEvents([i.renderEvent],a,r,i.datas[r])),a.y=-r*a.height,-1!=t&&r>t&&i.itemTempleteChild&&i.datas[t].items&&(a.y-=i.datas[t].items.length*i.itemTempleteChild.height),i.items[r]=a,i.isOpen[r]&&i.itemTempleteChild&&i.datas[r].items)){var o=a.getChildByName(i.itemChildName);if(o&&o.childrenCount!=i.datas[r].items.length){a.stopAllActions();for(var s=function(t){a.runAction(cc.sequence(cc.delayTime(.02*t),cc.callFunc(function(){if(!o.children[t]){var n=e.getTemplete(e.itemTempleteChild);o.addChild(n),cc.Component.EventHandler.emitEvents([e.renderChildEvent],n,t,e.datas[r].items[t]),n.getComponent(cc.Toggle)&&0==t&&(n.getComponent(cc.Toggle).isChecked=!0)}})))},c=0;c<i.datas[r].items.length;c++)s(c)}}},i=this,r=this.startIndex;r<this.endIndex;r++)n(r);if(this.startIndex+=this.frameCount,this.endIndex>=this.displayData.length&&(this.startIndex=0,Object.keys(this.items).length==this.displayData.length)){this.isUpdate=!1;for(r=0;r<this.displayData.length;r++)this.items[this.displayData[r]]||(this.startIndex=r)}}},t.prototype.onScrolling=function(){this.content.y<=0&&(this.content.y=0);var e=this.content.height-this.viewSize.height;this.content.y>=e&&(this.content.y=e),this.updateItems()},t.prototype.onDestroy=function(){if(this.node.off("scrolling",this.onScrolling,this,!0),this.pool)for(var e=this.pool.length-1;e>=0;e--)!this.pool[e].isBusy&&cc.isValid(this.pool[e].node)&&this.pool[e].node.destroy();this.pool=null,this.itemTemplete&&this.itemTemplete.destroy(),this.itemTemplete=null,this.itemTempleteChild&&this.itemTempleteChild.destroy(),this.itemTempleteChild=null},r([c(cc.Node)],t.prototype,"itemTemplete",void 0),r([c(cc.Node)],t.prototype,"itemTempleteChild",void 0),r([c(cc.String)],t.prototype,"itemChildName",void 0),r([c(cc.Integer)],t.prototype,"frameCount",void 0),r([c(cc.Component.EventHandler)],t.prototype,"renderEvent",void 0),r([c(cc.Component.EventHandler)],t.prototype,"renderChildEvent",void 0),t=r([s,l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/DynamicList"),u(cc.ScrollView),h(-5e3)],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../common/log/LogWrap":"LogWrap"}],ErrorLog:[function(e,t,n){"use strict";cc._RF.push(t,"60dea47vrVDLJiLwZt6PIEe","ErrorLog"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../view/base/PopupView"),r=cc._decorator,a=r.ccclass,o=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.initComponent=function(){this.getItem("btn_close").registerClick(this.onClickClose.bind(this))},t.prototype.onClickClose=function(){this.close()},t.prototype.start=function(){this.data&&(this.getItem("label_msg").string=this.data)},t=__decorate([a],t)}(i.default));n.default=o,cc._RF.pop()},{"../../view/base/PopupView":"PopupView"}],EventClubDef:[function(e,t,n){"use strict";cc._RF.push(t,"927e1yCtZRBloEQlQiH+s7+","EventClubDef"),Object.defineProperty(n,"__esModule",{value:!0}),n.EventClubDef={ClubCreate:"event_ClubCreate",ClubEnter:"event_ClubEnter",ClubClickItem:"event_ClubClickItem",ClubCreateGame:"event_ClubCreateGame",ClubDelGame:"event_ClubDelGame",ClubDeskItemChange:"event_ClubDeskItemChange",ClubAllMembers:"event_ClubAllMembers",ClubMyMembers:"event_ClubMyMembers",ClubGetPlayerNameIcon:"event_ClubGetPlayerNameIcon",ClubInvite:"event_ClubInvite",ClubAddMemberScore:"event_ClubAddMemberScore",ClubRefreshScore:"event_ClubRefreshScore",ClubScoreModify:"event_ClubScoreModify",ClubMjRoomInfo:"event_ClubMjRoomInfo",ClubRfRoomInfo:"event_ClubRfRoomInfo",ClubApplyMessage:"event_ClubApplyMessage",ClubHandleApply:"event_ClubHandleApply",ClubSetManager:"event_ClubSetManager",ClubCancleManager:"event_ClubCancleManager",ClubSetAgent:"event_ClubSetAgent",ClubCancelAgent:"event_ClubCancelAgent",ClubDeleteMember:"event_ClubDeleteMember",ClubExitFromClub:"event_ClubExitFromClub",ClubErrorCode:"event_ErrorCode",clubRepeatApplication:"event_clubRepeatApplication",ClubGetProportion:"event_ClubGetProportion",ClubSetProportion:"event_ClubSetProportion",ClubSetProportionAllGame:"event_ClubSetProportionAllGame",ClubSetPlayerRemark:"event_ClubSetPlayerRemark",ClubTiQu:"event_ClubTiQu",ChangeGameName:"event_ChangeGameName",ClubNewClub:"event_ClubNewClub",ClubBaseSet:"event_ClubBaseSet",ClubCancleMatch:"event_ClubCancleMatch",ClubMatchPlayers:"event_ClubMatchPlayers",SetWarningValue:"event_SetWarningValue",GetWaningValue:"event_GetWaningValue",Abnormaltable:"event_Abnormaltable",Clubstatus:"event_Clubstatus",SearchMember:"event_SearchMember",SearchAllMember:"event_SearchAllMember",ClubTable:"event_ClubTable"},cc._RF.pop()},{}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"bc654V99ZBPR57rJLoTx5sE","EventManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/log/LogWrap"),a=cc._decorator,o=a.ccclass,s=(a.property,function(){function e(){this.events={},this.id=1e3}var t;return t=e,e.prototype.on=function(e,t,n,i){this.events[t]||(this.events[t]=[]),this.events[t].push({target:e,callback:n,id:i||this.id});this.events[t].sort(function(e,t){return e.id<t.id})},e.prototype.off=function(e){for(var t in this.events)for(var n=this.events[t],i=n.length-1;i>=0;i--)n[i].target==e&&n.splice(i,1)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.events[e];i?i.forEach(function(n){var i;(i=n.callback).call.apply(i,[n.target].concat(t,[e]))}):r.LogWrap.log(e+" no register!")},e.prototype.clear=function(){},e.instance=new t,e=t=i([o],e)}());n.default=s,n.EventManager=s.instance,cc._RF.pop()},{"../common/log/LogWrap":"LogWrap"}],FileManager:[function(e,t,n){"use strict";cc._RF.push(t,"c5e32V1RWhNKZQ+iUJMPTFo","FileManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,o=(r.property,function(){function e(){this.tools=null,this.chaches={}}var t;return t=e,e.prototype.downloadFile=function(e,t,n){},e.prototype.downloadFileEx=function(e,t,n,i,r){},e.prototype.unzip=function(e,t){},e.prototype.syncUnzipGame=function(e,t,n){},e.prototype.writeStringFile=function(e,t){},e.prototype.createFolder=function(e){},e.prototype.baseName=function(e){var t=e.lastIndexOf("/");return(t=t>-1?t:e.lastIndexOf("\\"))<0?e:e.substring(t+1)},e.Instance=new t,e=t=i([a],e)}());n.default=o,n.FileManager=o.Instance,cc._RF.pop()},{}],GameDefine:[function(e,t,n){"use strict";cc._RF.push(t,"1c171xpSkVIdaGYIrCMC/z/","GameDefine"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.none=0]="none",e[e.start=1]="start",e[e.wait=2]="wait",e[e.xuan_piao=3]="xuan_piao",e[e.begin=4]="begin",e[e.end=5]="end",e[e.small_result=6]="small_result",e[e.stop=7]="stop",e[e.big_result=8]="big_result",e[e.undefine=9]="undefine"}(n.GAME_STATUS||(n.GAME_STATUS={})),cc._RF.pop()},{}],GameDownload:[function(e,t,n){"use strict";cc._RF.push(t,"2a3cejRZzJNTKBW9rSICIu9","GameDownload"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/PopupView"),r=e("../../manager/EventManager"),a=e("../../Define"),o=e("../../manager/UIManager"),s=e("../../common/Text"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameName="",t.callback=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),"string"==typeof this.data?this.gameName=this.data:(this.gameName=this.data.gameName,this.callback=this.data.callback)},t.prototype.start=function(){this.showAnimation()},t.prototype.initEvent=function(){r.EventManager.on(this,a.EventDef.HotUpdateProgress,this.onHotUpdateProgress.bind(this)),r.EventManager.on(this,a.EventDef.HotUpdateFail,this.onHotUpdateFail.bind(this)),r.EventManager.on(this,a.EventDef.HotUpdateFinish,this.onHotUpdateFinish.bind(this))},t.prototype.onHotUpdateProgress=function(e,t,n){this.gameName==n&&(this.getItem("label_progress").string=Math.ceil(100*t)+"%")},t.prototype.onHotUpdateFail=function(e){this.gameName==e&&(this.close(),o.UIManager.showTips(s.Tips.DownloadFail))},t.prototype.onHotUpdateFinish=function(e){this.gameName==e&&(this.callback&&this.callback(),this.close())},t.prototype.showAnimation=function(){var e=cc.repeatForever(cc.rotateBy(2,360));this.getItem("img_circle").runAction(e)},t=__decorate([l],t)}(i.default));n.default=u,cc._RF.pop()},{"../../Define":"Define","../../common/Text":"Text","../../manager/EventManager":"EventManager","../../manager/UIManager":"UIManager","../base/PopupView":"PopupView"}],GameLoginc:[function(e,t,n){"use strict";cc._RF.push(t,"9a383J0jO9PDoOOPOhiKsKL","GameLoginc"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.RandCardData=function(e,t){var n=e.slice(),i=0,r=0;do{r=Math.random()%(t-i),e[i++]=n[r],n[r]=n[t-i]}while(i<t)},t=__decorate([r],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],GameTable:[function(e,t,n){"use strict";cc._RF.push(t,"d1a1dyBimdAaLXPNkKwGZVL","GameTable"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./GameDefine"),r=cc._decorator,a=r.ccclass,o=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.m_roomInfo=null,t.m_players=[],t.m_gameStatus=i.GAME_STATUS.none,t}return __extends(t,e),Object.defineProperty(t.prototype,"RoomInfo",{get:function(){return this.m_roomInfo},set:function(e){this.m_roomInfo=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Players",{get:function(){return this.m_players},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"GameStatus",{get:function(){return this.m_gameStatus},set:function(e){this.m_gameStatus=e},enumerable:!0,configurable:!0}),t.prototype.addPlayer=function(e){},t.prototype.removePlayer=function(e){},t.prototype.updatePlayer=function(e){},t.prototype.InitTable=function(){},t.prototype.RepositTable=function(){},t.prototype.setPiao=function(e,t){},t.prototype.UserOutCard=function(e,t){},t.prototype.UserOperateCard=function(){},t=__decorate([a],t)}(cc.Component));n.default=o,cc._RF.pop()},{"./GameDefine":"GameDefine"}],HallView:[function(e,t,n){"use strict";cc._RF.push(t,"ccbebrUgqJMrLIFSixjFOrz","HallView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/BaseView"),o=e("../manager/EventManager"),s=e("../manager/UIManager"),c=e("../common/UIHelper"),l=e("../Define"),u=e("../manager/DataManager"),h=e("../manager/EventClubDef"),f=e("../manager/DataManagerClub"),d=(e("../libs/pbkiller/src/pbkiller"),e("../manager/AudioManager")),p=e("../common/utils/Utils"),g=e("../net/NetCmd"),m=e("../manager/SoundEffect"),y=cc._decorator,b=y.ccclass,v=y.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mId=null,t.mName=null,t.mZs=null,t.mTouXiang=null,t.pageViewn=null,t.mJiaocheng=null,t.NetworkType=[],t.mNetworkzt=null,t.Timedata=null,t.powers=null,t.powers1=null,t.dianliang=null,t.mcharacter=null,t}return i(t,e),t.prototype.start=function(){s.UIManager.hideMarquee(),o.EventManager.on(this,"head_img_update_success",this.Updateuserinformation.bind(this)),o.EventManager.on(this,g.ProtocolRpcCmd.S2C_Ping,this.Network.bind(this))},t.prototype.onLoad=function(){d.AudioManager.playHallBGM();var e=u.DataManager.storage.get("Music_switch"),t=u.DataManager.storage.get("Music_YinXiaoQuan");0==e?d.AudioManager.setBGMVolume(0):d.AudioManager.setBGMVolume(.3),0==t&&d.AudioManager.setSFXVolume(0),o.EventManager.on(this,l.EventDef.UpateHall,this.onPlayerData.bind(this)),o.EventManager.on(this,h.EventClubDef.ClubExitFromClub,this.ClubExitFromClub.bind(this)),o.EventManager.on(this,h.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this)),this.onPlayerData(u.DataManager.playerInfo);var n=cc.sys.getNetworkType(),i=10*cc.sys.getBatteryLevel()/2;0==i?(this.powers.active=!1,this.powers1.active=!0):(this.powers.active=!0,this.powers1.active=!1,this.powers.children.forEach(function(e,t){e.opacity=t<i?255:0}));2==n?this.NetworkType[n-1].active=!0:this.NetworkType[0].active=!0},t.prototype.Updateuserinformation=function(e){var t=this.mTouXiang;u.DataManager.playerInfo.icon=e.imgpath,c.default.loadHead(e.imgpath,t)},t.prototype.Network=function(){var e=Math.floor(100*cc.sys.getBatteryLevel());e<=20?(this.dianliang.string=e+"%",this.dianliang.node.color=cc.color(255,0,0)):(this.dianliang.string=e+"%",this.dianliang.node.color=cc.color(0,255,0)),this.mcharacter.getComponent(cc.Button).interactable=!0},t.prototype.onPlayerData=function(e){this.mName.getComponent(cc.Label).string=p.default.getSubStringLengTxt(e.name),this.mId.getComponent(cc.Label).string=e.id,this.mZs.getComponent(cc.Label).string=p.default.getFormatGold(e.diamond);var t=this.mTouXiang;c.default.loadHead(e.icon,t)},t.prototype.ClubExitFromClub=function(e){f.DataManagerClub.ExitFromClub(e.clubId),s.UIManager.showTips("\u4f60\u9000\u51fa\u4ff1\u4e50\u90e8"+e.clubId)},t.prototype.onBtnGame=function(){u.DataManager.gameType=3},t.prototype.onClickClub=function(){d.AudioManager.playSFX(m.SoundEffect.click),this.mJiaocheng.active=!1,s.UIManager.popup("prefabs/club/ClubList")},t.prototype.onclickRecord=function(){d.AudioManager.playSFX(m.SoundEffect.click),s.UIManager.popup("prefabs/Record")},t.prototype.onClickSetting=function(){d.AudioManager.playSFX(m.SoundEffect.click),s.UIManager.popup("prefabs/Setting")},t.prototype.onClickUserIcon=function(){d.AudioManager.playSFX(m.SoundEffect.click);var e=[];e.result=u.DataManager.playerInfo,e.from=2,e.mNameOn=!0,console.log(e),s.UIManager.popup("prefabs/UserInfo",e)},t.prototype.onClickShare=function(){d.AudioManager.playSFX(m.SoundEffect.click),s.UIManager.popup("prefabs/Share")},t.prototype.onClickService=function(){d.AudioManager.playSFX(m.SoundEffect.click),s.UIManager.popup("prefabs/kefu"),s.UIManager.showLoading("\u52a0\u8f7d\u4e2d...")},t.prototype.onClickNotice=function(){d.AudioManager.playSFX(m.SoundEffect.click),s.UIManager.popup("prefabs/Notice")},t.prototype.ClubErrorCode=function(e){53==e.errorCode?s.UIManager.showTips("\u60a8\u5df2\u5728\u8be5\u4ff1\u4e50\u90e8"):55==e.errorCode?s.UIManager.showTips("\u8bf7\u4e0d\u8981\u91cd\u590d\u7533\u8bf7\uff0c\u7b49\u5f85\u56e2\u957f\u901a\u8fc7\uff01"):56==e.errorCode&&s.UIManager.showTips("\u8be5\u4ff1\u4e50\u90e8\u4e0d\u5b58\u5728")},t.prototype.onClickVoice=function(){d.AudioManager.playSFX(m.SoundEffect.ClickVoice),this.mcharacter.getComponent(cc.Button).interactable=!1},r([v(cc.Node)],t.prototype,"mId",void 0),r([v(cc.Node)],t.prototype,"mName",void 0),r([v(cc.Node)],t.prototype,"mZs",void 0),r([v(cc.Node)],t.prototype,"mTouXiang",void 0),r([v(cc.PageView)],t.prototype,"pageViewn",void 0),r([v(cc.Node)],t.prototype,"mJiaocheng",void 0),r([v(cc.Node)],t.prototype,"NetworkType",void 0),r([v(cc.Node)],t.prototype,"mNetworkzt",void 0),r([v(cc.Node)],t.prototype,"Timedata",void 0),r([v(cc.Node)],t.prototype,"powers",void 0),r([v(cc.Node)],t.prototype,"powers1",void 0),r([v(cc.Label)],t.prototype,"dianliang",void 0),r([v(cc.Node)],t.prototype,"mcharacter",void 0),t=r([b],t)}(a.default);n.default=_,cc._RF.pop()},{"../Define":"Define","../common/UIHelper":"UIHelper","../common/utils/Utils":"Utils","../libs/pbkiller/src/pbkiller":"pbkiller","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/NetCmd":"NetCmd","./base/BaseView":"BaseView"}],HotUpdate:[function(e,t,n){"use strict";cc._RF.push(t,"a3c25eM6/tNEaxJHrTHGzmz","HotUpdate");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r,a,o=e("../Define"),s=e("./DataManager");(function(e){e[e.ERROR_NO_LOCAL_MANIFEST=0]="ERROR_NO_LOCAL_MANIFEST",e[e.ERROR_DOWNLOAD_MANIFEST=1]="ERROR_DOWNLOAD_MANIFEST",e[e.ERROR_PARSE_MANIFEST=2]="ERROR_PARSE_MANIFEST",e[e.NEW_VERSION_FOUND=3]="NEW_VERSION_FOUND",e[e.ALREADY_UP_TO_DATE=4]="ALREADY_UP_TO_DATE",e[e.UPDATE_PROGRESSION=5]="UPDATE_PROGRESSION",e[e.ASSET_UPDATED=6]="ASSET_UPDATED",e[e.ERROR_UPDATING=7]="ERROR_UPDATING",e[e.UPDATE_FINISHED=8]="UPDATE_FINISHED",e[e.UPDATE_FAILED=9]="UPDATE_FAILED",e[e.ERROR_DECOMPRESS=10]="ERROR_DECOMPRESS",e[e.CHECKING=11]="CHECKING"})(r=n.AssetManagerCode||(n.AssetManagerCode={})),function(e){e[e.UNINITED=0]="UNINITED",e[e.UNCHECKED=1]="UNCHECKED",e[e.PREDOWNLOAD_VERSION=2]="PREDOWNLOAD_VERSION",e[e.DOWNLOADING_VERSION=3]="DOWNLOADING_VERSION",e[e.VERSION_LOADED=4]="VERSION_LOADED",e[e.PREDOWNLOAD_MANIFEST=5]="PREDOWNLOAD_MANIFEST",e[e.DOWNLOADING_MANIFEST=6]="DOWNLOADING_MANIFEST",e[e.MANIFEST_LOADED=7]="MANIFEST_LOADED",e[e.NEED_UPDATE=8]="NEED_UPDATE",e[e.READY_TO_UPDATE=9]="READY_TO_UPDATE",e[e.UPDATING=10]="UPDATING",e[e.UNZIPPING=11]="UNZIPPING",e[e.UP_TO_DATE=12]="UP_TO_DATE",e[e.FAIL_TO_UPDATE=13]="FAIL_TO_UPDATE"}(a=n.AssetManagerState||(n.AssetManagerState={}));var c=cc._decorator,l=c.ccclass,u=(c.property,function(){function e(){this.storagePath="hotupdatadir",this.updating=!1,this.assetsManagers=null,this.callbackCheckUpdata=null,this.callbackUpdata=null,this._assertFaildDown=new Array}return e.prototype.destroyAssetsManager=function(){console.log("destroyAssetsManager "),this.assetsManagers=null},Object.defineProperty(e.prototype,"isBrowser",{get:function(){return cc.sys.platform==cc.sys.WECHAT_GAME||cc.sys.isBrowser},enumerable:!0,configurable:!0}),e.prototype.isNeedUpdate=function(e){return cc.sys.isNative?(this.storagePath=cc.path.join(jsb.fileUtils.getWritablePath(),"hotupdatadir"),o.UpdateEnabled||(console.log("\u8df3\u8fc7\u70ed\u66f4\u65b0\uff0c\u76f4\u63a5\u4f7f\u7528\u672c\u5730\u8d44\u6e90\u4ee3\u7801"),this.updating=!1,e(r.ALREADY_UP_TO_DATE,a.UP_TO_DATE)),o.UpdateEnabled):(this.updating=!1,e(r.ALREADY_UP_TO_DATE,a.UP_TO_DATE),!1)},e.prototype.checkUpdate=function(e){if(this.isNeedUpdate(e)){if(console.log("--checkUpdate--"),this.updating)return console.log("Checking or updating..."),void e(r.CHECKING,a.PREDOWNLOAD_VERSION);if(cc.sys.isNative&&!jsb.fileUtils.isFileExist("manifest/project.manifest"))return void e(r.ERROR_NO_LOCAL_MANIFEST,a.PREDOWNLOAD_VERSION);if(console.log("\u4fdd\u5b58\u8def\u5f84\u4e3a\uff1a",this.storagePath),this.assetsManagers=jsb.AssetsManager.create("manifest/project.manifest",this.storagePath),this.assetsManagers.loadLocalManifest("manifest/project.manifest"),!this.assetsManagers.getLocalManifest()||!this.assetsManagers.getLocalManifest().isLoaded())return console.log("Failed to load local manifest ...."),void e(r.ERROR_DOWNLOAD_MANIFEST,a.FAIL_TO_UPDATE);console.log(this.assetsManagers.getLocalManifest().getPackageUrl()),console.log(this.assetsManagers.getLocalManifest().getVersion()),console.log(this.assetsManagers.getLocalManifest().getManifestFileUrl()),console.log(this.assetsManagers.getLocalManifest().getVersionFileUrl()),this.updating=!0,this.callbackCheckUpdata=e,this.assetsManagers.setVersionCompareHandle(this.versionCompareHanle.bind(this)),this.assetsManagers.setVerifyCallback(this.verifyCallBackHanle.bind(this)),this.assetsManagers.setEventCallback(this.checkCb.bind(this)),this.assetsManagers.checkUpdate()}},e.prototype.verifyCallBackHanle=function(e,t){var n=t.compressed,i=t.md5,r=t.path;t.size;return n?(console.log("Verification passed : "+r),!0):(console.log("Verification passed : "+r+" ( "+i+" )"),!0)},e.prototype.downloadFailedAssets=function(){this.assetsManagers&&this.assetsManagers.downloadFailedAssets()},e.prototype.checkCb=function(e){switch(console.log("checkCb event code : "+e.getEventCode()),e.getEventCode()){case r.ERROR_NO_LOCAL_MANIFEST:console.log("No local manifest file found, hot update skipped.");break;case r.ERROR_DOWNLOAD_MANIFEST:case r.ERROR_PARSE_MANIFEST:console.log("Fail to download manifest file, hot update skipped.");break;case r.ALREADY_UP_TO_DATE:console.log("Already up to date with the latest remote version."),console.log("====neweennnn=====",e.getAssetsManagerEx().getRemoteManifest().getVersion()),s.DataManager.storage.setItem("version",e.getAssetsManagerEx().getRemoteManifest().getVersion());break;case r.NEW_VERSION_FOUND:console.log("New version found, please try to update."),console.log(this.assetsManagers.getTotalBytes());break;default:return}this.updating=!1,this.callbackCheckUpdata&&this.assetsManagers.getState()!=jsb.AssetsManager.State.DOWNLOADING_VERSION&&(this.callbackCheckUpdata(e.getEventCode(),a.DOWNLOADING_VERSION),this.callbackCheckUpdata=null)},e.prototype.hotUpdateGo=function(e){this.assetsManagers?(console.log("\u5373\u5c06\u70ed\u66f4\u65b0, updating : "+this.updating),this.updating||(console.log("\u6267\u884c\u66f4\u65b0"),this.callbackUpdata=e,this.assetsManagers.setEventCallback(this.updateCb.bind(this)),this.assetsManagers.update())):cc.error("\u70ed\u66f4\u65b0\u7ba1\u7406\u5668\u672a\u521d\u59cb\u5316")},e.prototype.updateCb=function(e){var t=!1,n=!0;switch(console.log("--update cb code : "+e.getEventCode()+" state : "+this.assetsManagers.getState()),e.getEventCode()){case r.UPDATE_PROGRESSION:case r.ASSET_UPDATED:break;case r.ERROR_DOWNLOAD_MANIFEST:case r.ERROR_PARSE_MANIFEST:case r.ERROR_NO_LOCAL_MANIFEST:case r.ALREADY_UP_TO_DATE:this.assetsManagers.setEventCallback(null),this.updating=!1;break;case r.UPDATE_FINISHED:console.log("Update finished. "+e.getMessage()),t=!0;break;case r.UPDATE_FAILED:console.log("Update failed. "+e.getMessage()),this._assertFaildDown.length>0&&(this.downloadFailedAssets(),n=!1);break;case r.ERROR_UPDATING:console.log("Asset update error: "+e.getAssetId()+" , "+e.getMessage()),this._assertFaildDown.push(e.getAssetId());break;case r.ERROR_DECOMPRESS:console.log(""+e.getMessage())}if(n&&this.callbackUpdata&&this.callbackUpdata(e.getEventCode(),e),t){var i=jsb.fileUtils.getSearchPaths(),a=this.assetsManagers.getLocalManifest().getSearchPaths();console.log(JSON.stringify(a)),Array.prototype.unshift.apply(i,a);for(var o={},s=0;s<i.length;s++)o[cc.path.dirname(i[s])]=!0;i=Object.keys(o),console.log("\u641c\u7d20\u8def\u5f84\u4e3a2\uff1a",i),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),jsb.fileUtils.setSearchPaths(i),this.assetsManagers.setEventCallback(null),this.destroyAssetsManager(),cc.audioEngine.stopAll(),cc.game.restart()}},e.prototype.versionCompareHanle=function(e,t){console.log("JS Custom Version Compare : version A is "+e+" , version B is "+t);var n=e.split("."),i=t.split(".");console.log("version A "+n+" , version B "+i);for(var r=0;r<n.length&&r<i.length;++r){if(parseInt(n[r])!==parseInt(i[r]))return-1}return 0},e=i([l],e)}());n.HotUpdate=new u,cc._RF.pop()},{"../Define":"Define","./DataManager":"DataManager"}],HttpUrl:[function(e,t,n){"use strict";cc._RF.push(t,"e998cVwRUBBVKupbxlTMoZl","HttpUrl"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Define");n.HttpUrl={getSMS:{url:i.HttpBase+"/login/getSmsCode",method:"GET"},smsLogin:{url:i.HttpBase+"/login/smsLogin",method:"GET"},tokenLogin:{url:i.HttpBase+"/login/tokenLogin",method:"GET"},getValidateCode4UpdateSignUp:{url:i.HttpBase+"/signUp/getValidateCode4UpdateSignUp",method:"GET"},updateSignUp:{url:i.HttpBase+"/signUp/updateSignUp",method:"POST"},getRecord:{url:i.HttpBase+"/user/record",method:"GET"},getRecordPlayBack:{url:i.HttpBase+"/user/recordDet",method:"GET"},getRecordPlayTuanDui:{url:i.HttpBase+"/user/recordClub",method:"GET"},getRecordOnePaiJu:{url:i.HttpBase+"/user/paiju",method:"GET"},getPersonRecord:{url:i.HttpBase+"/user/sumUser",method:"GET"},getGroupRecord:{url:i.HttpBase+"/user/sumTeam",method:"GET"},getHallRQCode:{url:i.HttpBase+"/mall/qrcode",method:"GET"},getHallCustomer:{url:i.HttpBase+"/mall/kf",method:"GET"},getPaoMaDeng:{url:i.HttpBase+"/mall/lamp",method:"GET"},getRizhi:{url:i.HttpBase+"/user/userLog",method:"GET"},putLog:{url:i.HttpBase+"/log/msg",method:"POST"}},cc._RF.pop()},{"../Define":"Define"}],JoinRoom:[function(e,t,n){"use strict";cc._RF.push(t,"97a7doql99PVqtVeXcVCM2p","JoinRoom");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../view/base/BaseView"),o=e("../manager/EventManager"),s=e("../manager/EventClubDef"),c=e("../manager/NetManager"),l=e("../manager/UIManager"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mjinrujulebu=null,t.mInputNums=null,t.curNumIndex=0,t.data=null,t}return i(t,e),t.prototype.onLoad=function(){o.EventManager.on(this,s.EventClubDef.clubRepeatApplication,this.RepeatApplication.bind(this));this.mjinrujulebu.active=!0},t.prototype.start=function(){},t.prototype.onJoinTheClub=function(e){var t=e.target.name;this.curNumIndex>=6||(this.mInputNums.children[this.curNumIndex].active=!0,this.mInputNums.children[this.curNumIndex].getComponent(cc.Label).string=t,this.curNumIndex++)},t.prototype.onClickReset=function(e){for(var t in this.curNumIndex=0,this.mInputNums.children)this.mInputNums.children[t].active=!1},t.prototype.onClickOk=function(e){for(var t="",n=0;n<this.mInputNums.children.length;n++)t+=""+this.mInputNums.children[n].getComponent(cc.Label).string;if(!((t=Number(t))<1e5)){c.NetManager.protocolRpc.sendC2S_ApplyForClub(t,!0)}},t.prototype.ClubErrorCode=function(e){53==e.errorCode?(l.UIManager.showTips("\u60a8\u5df2\u5728\u8be5\u4ff1\u4e50\u90e8"),this.close()):55==e.errorCode?(l.UIManager.showTips("\u8bf7\u4e0d\u8981\u91cd\u590d\u7533\u8bf7\uff0c\u7b49\u5f85\u56e2\u957f\u901a\u8fc7\uff01"),this.close()):56==e.errorCode&&(l.UIManager.showTips("\u8be5\u4ff1\u4e50\u90e8\u4e0d\u5b58\u5728"),this.close())},t.prototype.RepeatApplication=function(e){l.UIManager.showTips("\u7533\u8bf7\u6210\u529f\uff0c\u7b49\u5f85\u56e2\u957f\u901a\u8fc7\uff01"),this.close()},r([f(cc.Node)],t.prototype,"mjinrujulebu",void 0),r([f(cc.Node)],t.prototype,"mInputNums",void 0),t=r([h],t)}(a.default);n.default=d,cc._RF.pop()},{"../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],KWXBResultItem:[function(e,t,n){"use strict";cc._RF.push(t,"b1fd4OJ+FpFv7dLbrfcQyqs","KWXBResultItem");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../common/UIHelper"),o=cc._decorator,s=o.ccclass,c=o.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.head_icon=null,t.head_username=null,t.head_userid=null,t.paowang_icon=null,t.bigwin_icon=null,t.result_icon=null,t.lab_zimo=null,t.lab_hu=null,t.lab_dianpao=null,t.lab_mingang=null,t.lab_angang=null,t.lab_win=null,t.lab_lose=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.initData=function(e,t,n){console.log("\u5927\u7ed3\u7b97========================="),console.log(e),a.default.loadHead(e.icon,this.head_icon),this.head_username.string=e.name,this.head_userid.string=e.playerId,this.lab_zimo.string=e.ziMoTimes,this.lab_hu.string=e.huPaiTimes,this.lab_dianpao.string=e.dianPaoTimes,this.lab_mingang.string=e.mingGangTimes,this.lab_angang.string=e.anGangTimes,this.lab_win.string=Number(e.winScore/100)+"",this.lab_lose.string=Number(e.winScore/100)+"",e.winScore>=0?(this.lab_win.node.active=!0,this.lab_lose.node.active=!1):(this.lab_win.node.active=!1,this.lab_lose.node.active=!0),t==e.dianPaoTimes&&t>0?(this.bigwin_icon.active=!1,this.paowang_icon.active=!0):n==e.winScore&&n>0?(this.bigwin_icon.active=!0,this.paowang_icon.active=!1):(this.bigwin_icon.active=!1,this.paowang_icon.active=!1)},r([c(cc.Node)],t.prototype,"head_icon",void 0),r([c(cc.Label)],t.prototype,"head_username",void 0),r([c(cc.Label)],t.prototype,"head_userid",void 0),r([c(cc.Node)],t.prototype,"paowang_icon",void 0),r([c(cc.Node)],t.prototype,"bigwin_icon",void 0),r([c(cc.Node)],t.prototype,"result_icon",void 0),r([c(cc.Label)],t.prototype,"lab_zimo",void 0),r([c(cc.Label)],t.prototype,"lab_hu",void 0),r([c(cc.Label)],t.prototype,"lab_dianpao",void 0),r([c(cc.Label)],t.prototype,"lab_mingang",void 0),r([c(cc.Label)],t.prototype,"lab_angang",void 0),r([c(cc.Label)],t.prototype,"lab_win",void 0),r([c(cc.Label)],t.prototype,"lab_lose",void 0),t=r([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../common/UIHelper":"UIHelper"}],KWXChatView:[function(e,t,n){"use strict";cc._RF.push(t,"77f197DoMVGXY3Xxz42igkL","KWXChatView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../manager/NetManager"),r=e("../KWXDefine"),a=cc._decorator,o=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chat=null,t.chat1=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.onClickClose=function(e){this.node.getChildByName("MeunChat").active=!1},t.prototype.angaokuai=function(){this.playEffect(0)},t.prototype.andamande=function(){this.playEffect(1)},t.prototype.angeinimen=function(){this.playEffect(2)},t.prototype.anbugaole=function(){this.playEffect(3)},t.prototype.anjinzaina=function(){this.playEffect(4)},t.prototype.anwoyun=function(){this.playEffect(5)},t.prototype.ankuaidiana=function(){this.playEffect(6)},t.prototype.anbuyaozou=function(){this.playEffect(7)},t.prototype.annidepai=function(){this.playEffect(8)},t.prototype.annishimm=function(){this.playEffect(9)},t.prototype.anhenihezuo=function(){this.playEffect(10)},t.prototype.andajiahao=function(){this.playEffect(11)},t.prototype.andapaizhenmo=function(){this.playEffect(12)},t.prototype.yanshi=function(){var e=this;this.chat1.active=!0,this.chat.active=!1,setTimeout(function(){e.chat1.active=!1,e.chat.active=!0},1e3)},t.prototype.playEffect=function(e){i.NetManager.protocolKWX.sendC2S_Magic(r.KWXDefine.SEAT_ID,e,-1,-1,r.KWXDefine.Chat_Tag),this.node.getChildByName("MeunChat").active=!1},__decorate([s(cc.Node)],t.prototype,"chat",void 0),__decorate([s(cc.Node)],t.prototype,"chat1",void 0),t=__decorate([o],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../../../manager/NetManager":"NetManager","../KWXDefine":"KWXDefine"}],KWXCmd:[function(e,t,n){"use strict";cc._RF.push(t,"9fe552V8g9OzovRVbu4bch4","KWXCmd"),Object.defineProperty(n,"__esModule",{value:!0}),n.KWXCmd="rpc",n.ProtocolKWXCmd={S2C_MjRoomInfo:n.KWXCmd+".S2C_MjRoomInfo",S2C_PlayerExitRoom:n.KWXCmd+".S2C_PlayerExitRoom",S2C_NewMjPlayerEnter:n.KWXCmd+".S2C_NewMjPlayerEnter",S2C_NewStartMjPai:n.KWXCmd+".S2C_NewStartMjPai",S2C_ChuPai:n.KWXCmd+".S2C_ChuPai",S2C_MoPai:n.KWXCmd+".S2C_MoPai",S2C_MoPaiNotice:n.KWXCmd+".S2C_MoPaiNotice",S2C_Peng:n.KWXCmd+".S2C_Peng",S2C_DianGang:n.KWXCmd+".S2C_DianGang",S2C_AnGang:n.KWXCmd+".S2C_AnGang",S2C_CaGang:n.KWXCmd+".S2C_CaGang",S2C_LiangHu:n.KWXCmd+".S2C_LiangHu",S2C_UpdatePlayerInfo:n.KWXCmd+".S2C_UpdatePlayerInfo",S2C_XuanPiao:n.KWXCmd+".S2C_XuanPiao",S2C_JieSuanOne:n.KWXCmd+".S2C_JieSuanOne",S2C_TotalJieSuan:n.KWXCmd+".S2C_TotalJieSuan",S2C_JieShanApply:n.KWXCmd+".S2C_JieShanApply",S2C_NewJieShanChoose:n.KWXCmd+".S2C_NewJieShanChoose",S2C2S_Magic:n.KWXCmd+".S2C2S_Magic",S2C_WaitOper:n.KWXCmd+".S2C_WaitOper"},n.KWXCmd_net="rpc",n.ProtocolKWXCmd_net={S2C_MjRoomInfo:n.KWXCmd_net+".S2C_MjRoomInfo",S2C_PlayerExitRoom:n.KWXCmd_net+".S2C_PlayerExitRoom",S2C_NewMjPlayerEnter:n.KWXCmd_net+".S2C_NewMjPlayerEnter",S2C_NewStartMjPai:n.KWXCmd_net+".S2C_NewStartMjPai",S2C_ChuPai:n.KWXCmd_net+".S2C_ChuPai",S2C_MoPai:n.KWXCmd_net+".S2C_MoPai",S2C_MoPaiNotice:n.KWXCmd_net+".S2C_MoPaiNotice",S2C_Peng:n.KWXCmd_net+".S2C_Peng",S2C_DianGang:n.KWXCmd_net+".S2C_DianGang",S2C_AnGang:n.KWXCmd_net+".S2C_AnGang",S2C_CaGang:n.KWXCmd_net+".S2C_CaGang",S2C_LiangHu:n.KWXCmd_net+".S2C_LiangHu",S2C_UpdatePlayerInfo:n.KWXCmd_net+".S2C_UpdatePlayerInfo",S2C_XuanPiao:n.KWXCmd_net+".S2C_XuanPiao",S2C_JieSuanOne:n.KWXCmd_net+".S2C_JieSuanOne",S2C_TotalJieSuan:n.KWXCmd_net+".S2C_TotalJieSuan",S2C_JieShanApply:n.KWXCmd_net+".S2C_JieShanApply",S2C_NewJieShanChoose:n.KWXCmd_net+".S2C_NewJieShanChoose"},n.EventKWXCmd={INITRoom_EVENT:"INITRoom_EVENT",SETTIMEOUT_USERINFO:"SETTIMEOUT_USERINFO",CLICK_CONTINUE:"CLICK_CONTINUE",CLICK_CHANGEDESK:"CLICK_CHANGEDESK"},cc._RF.pop()},{}],KWXCpgArea:[function(e,t,n){"use strict";cc._RF.push(t,"dd8ffVDBXhC7bUtgmP3w+5H","KWXCpgArea"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../MJCPGAreaBase"),r=cc._decorator,a=r.ccclass,o=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([a],t)}(i.default));n.default=o,cc._RF.pop()},{"../MJCPGAreaBase":"MJCPGAreaBase"}],KWXDefine:[function(e,t,n){"use strict";var i,r,a,o,s,c;cc._RF.push(t,"6db4foPBL1NdK4nAbd8NteS","KWXDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.KWXDefine={GAME_PLAYER:3,SEAT_ID:1,PLAYER_DATAS:[],PlaybackRoomInfo:null,GAME_DATAS:{id:Number,clubId:Number,gameType:Number,name:String,radix:Number,joinLimit:Number,leavelimit:Number,juShu:Number,playerCount:Number,param:Number,match:Boolean},TOTAL_DATA:null,JUSHU:null,MY_DATA:null,ROOM_ID:1,GAME_OVER:!1,Chat_Tag:1001,Expression_Tag:1002,time_nums:0,pifu:0},function(e){e[e.PX_PiHu=1]="PX_PiHu",e[e.PX_PengPengHu=2]="PX_PengPengHu",e[e.PX_QingYiSe=3]="PX_QingYiSe",e[e.PX_QiDui=4]="PX_QiDui",e[e.PX_LongQiDui=5]="PX_LongQiDui",e[e.PX_Long2QiDui=6]="PX_Long2QiDui",e[e.PX_Long3QiDui=7]="PX_Long3QiDui",e[e.PX_KaWuXing=8]="PX_KaWuXing",e[e.PX_XiaoSanYuan=9]="PX_XiaoSanYuan",e[e.PX_DaSanYuan=10]="PX_DaSanYuan",e[e.PX_MingSiGui=11]="PX_MingSiGui",e[e.PX_AnSiGui=12]="PX_AnSiGui",e[e.PX_ShouZhuaYi=13]="PX_ShouZhuaYi",e[e.PX_GangShangPao=14]="PX_GangShangPao",e[e.PX_GangShangHua=15]="PX_GangShangHua",e[e.PX_MingPai=16]="PX_MingPai",e[e.PX_HaiDiPao=17]="PX_HaiDiPao",e[e.PX_HaiDiLao=18]="PX_HaiDiLao",e[e.PX_QiangGang=19]="PX_QiangGang",e[e.PX_GANGSHANGGANG=20]="PX_GANGSHANGGANG"}(c=n.FanXingType||(n.FanXingType={})),n.FanXingStr=((i={})[c.PX_PiHu]="\u5c41\u80e1",i[c.PX_PengPengHu]="\u78b0\u78b0\u80e1",i[c.PX_QingYiSe]="\u6e05\u4e00\u8272",i[c.PX_QiDui]="\u4e03\u5bf9",i[c.PX_LongQiDui]="\u9f99\u4e03\u5bf9",i[c.PX_Long2QiDui]="\u53cc\u9f99\u4e03\u5bf9",i[c.PX_Long3QiDui]="\u8c6a\u534e\u4e03\u5bf9",i[c.PX_KaWuXing]="\u5361\u4e94\u661f",i[c.PX_XiaoSanYuan]="\u5c0f\u4e09\u5143",i[c.PX_DaSanYuan]="\u5927\u4e09\u5143",i[c.PX_MingSiGui]="\u660e\u56db\u5f52\u4e00",i[c.PX_AnSiGui]="\u6697\u56db\u5f52\u4e00",i[c.PX_ShouZhuaYi]="\u624b\u6293\u4e00",i[c.PX_GangShangPao]="\u6760\u4e0a\u70ae",i[c.PX_GangShangHua]="\u6760\u4e0a\u5f00\u82b1",i[c.PX_MingPai]="\u4eae\u5012",i[c.PX_HaiDiPao]="\u6d77\u5e95\u70ae",i[c.PX_HaiDiLao]="\u6d77\u5e95\u635e",i[c.PX_QiangGang]="\u62a2\u6760",i[c.PX_GANGSHANGGANG]="\u6760\u4e0a\u6760",i),n.FanXingRateStr=((r={})[c.PX_PiHu]=" x1",r[c.PX_PengPengHu]=" x2",r[c.PX_QingYiSe]=" x4",r[c.PX_QiDui]=" \xd74",r[c.PX_LongQiDui]=" \xd78",r[c.PX_Long2QiDui]=" \xd716",r[c.PX_Long3QiDui]=" \xd716",r[c.PX_KaWuXing]=" \xd72",r[c.PX_XiaoSanYuan]=" \xd74",r[c.PX_DaSanYuan]=" \xd78",r[c.PX_MingSiGui]=" \xd72",r[c.PX_AnSiGui]=" \xd74",r[c.PX_ShouZhuaYi]=" \xd74",r[c.PX_GangShangPao]=" \xd72",r[c.PX_GangShangHua]=" \xd72",r[c.PX_MingPai]=" \xd72",r[c.PX_HaiDiPao]=" \xd72",r[c.PX_HaiDiLao]=" \xd72",r[c.PX_QiangGang]=" x2",r[c.PX_GANGSHANGGANG]=" x4",r),n.FanXingAniName=((a={})[c.PX_PiHu]="hu_zimo",a[c.PX_PengPengHu]="hu_penpenhu",a[c.PX_QingYiSe]="hu_qinyise",a[c.PX_QiDui]="hu_qidui",a[c.PX_LongQiDui]="hu_haohuaqidui",a[c.PX_Long2QiDui]="hu_chaohaohuaqidui",a[c.PX_Long3QiDui]="hu_chaochaohaohuaqidui",a[c.PX_KaWuXing]="hu_kawuxing",a[c.PX_XiaoSanYuan]="hu_xiaosanyuan",a[c.PX_DaSanYuan]="hu_dasanyuan",a[c.PX_MingSiGui]="hu_mingsigui",a[c.PX_AnSiGui]="hu_ansigui",a[c.PX_ShouZhuaYi]="hu_shouzhuayi",a[c.PX_GangShangPao]="hu_gangshangpao",a[c.PX_GangShangHua]="hu_gangshangkaihua",a[c.PX_HaiDiPao]="hu",a[c.PX_HaiDiLao]="hu",a[c.PX_QiangGang]="hu_qiangganghu",a[c.PX_GANGSHANGGANG]="hu_gangshangkaihua",a),n.FanXingPlaySFX=((o={})[c.PX_PiHu]="zimo_1",o[c.PX_PengPengHu]="hu_penpenhu_1",o[c.PX_QingYiSe]="hu_qinyise_1",o[c.PX_QiDui]="hu_qidui_1",o[c.PX_LongQiDui]="hu_haohuaqidui_1",o[c.PX_Long2QiDui]="hu_haohuaqidui_1",o[c.PX_Long3QiDui]="hu_haohuaqidui_1",o[c.PX_KaWuXing]="hu_kawuxing_1",o[c.PX_XiaoSanYuan]="hu_xiaosanyuan_1",o[c.PX_DaSanYuan]="hu_dasanyuan_1",o[c.PX_MingSiGui]="hu_mingsigui_1",o[c.PX_AnSiGui]="hu_ansigui_1",o[c.PX_ShouZhuaYi]="hu_shouzhuayi_1",o[c.PX_GangShangPao]="hu_gangshangpao_1",o[c.PX_GangShangHua]="hu_gangshangkaihua_1",o[c.PX_HaiDiPao]="hu_1",o[c.PX_HaiDiLao]="hu_1",o[c.PX_QiangGang]="gang_1a",o[c.PX_GANGSHANGGANG]="gangshanggang_1",o),n.FanXingPuTongPlaySFX=((s={})[c.PX_PiHu]="kwx_sound/yinxiao/putong/zimo_1",s[c.PX_PengPengHu]="kwx_sound/yinxiao/putong/hu_penpenhu_1",s[c.PX_QingYiSe]="kwx_sound/yinxiao/putong/hu_qinyise_1",s[c.PX_QiDui]="kwx_sound/yinxiao/putong/hu_qidui_1",s[c.PX_LongQiDui]="kwx_sound/yinxiao/putong/hu_haohuaqidui_1",s[c.PX_Long2QiDui]="kwx_sound/yinxiao/putong/hu_haohuaqidui_1",s[c.PX_Long3QiDui]="kwx_sound/yinxiao/putong/hu_haohuaqidui_1",s[c.PX_KaWuXing]="kwx_sound/yinxiao/putong/hu_kawuxing_1",s[c.PX_XiaoSanYuan]="kwx_sound/yinxiao/putong/hu_xiaosanyuan_1",s[c.PX_DaSanYuan]="kwx_sound/yinxiao/putong/hu_dasanyuan_1",s[c.PX_MingSiGui]="kwx_sound/yinxiao/putong/hu_mingsigui_1",s[c.PX_AnSiGui]="kwx_sound/yinxiao/putong/hu_ansigui_1",s[c.PX_ShouZhuaYi]="kwx_sound/yinxiao/putong/hu_shouzhuayi_1",s[c.PX_GangShangPao]="kwx_sound/yinxiao/putong/hu_gangshangpao_1",s[c.PX_GangShangHua]="kwx_sound/yinxiao/putong/hu_gangshangkaihua_1",s[c.PX_HaiDiPao]="kwx_sound/yinxiao/putong/hu_1",s[c.PX_HaiDiLao]="kwx_sound/yinxiao/putong/hu_1",s[c.PX_QiangGang]="kwx_sound/yinxiao/putong/gang_1a",s[c.PX_GANGSHANGGANG]="kwx_sound/yinxiao/putong/gangshanggang_1",s),n.CHAT_TEXT=["\u641e\u5feb\u70b9\u51fa\u724c\u6492","\u6253\u6ee1\u7684\u724c\u5466","\u7ed9\u4f60\u4eec\u4e00\u4e2a\u6ee1\u8d2f","\u4e0d\u641e\u95f9\uff0c\u6211\u8fd8\u6709\u4e8b","\u4ec5\u5728\u90a3\u78b0\u8fd8\u8ba9\u6211\u8d77\u724c\u5427\u6492","\u6211\u6655\u6253\u9519\u6c42\u4e86","\u5feb\u70b9\u554a\u90fd\u7b49\u7684\u6211\u82b1\u90fd\u8c22\u4e86","\u4e0d\u8981\u8d70\u51b3\u6218\u5012\u5929\u4eae","\u4f60\u7684\u724c\u6253\u7684\u4e5f\u592a\u597d\u4e86\u5427","\u4f60\u662fMM\u8fd8\u662fGG","\u548c\u4f60\u5408\u4f5c\u771f\u7684\u592a\u6109\u5feb\u4e86","\u5927\u5bb6\u597d\u5f88\u9ad8\u5174\u89c1\u5230\u5404\u4f4d","\u6253\u724c\u600e\u4e48\u90a3\u4e48\u6162\u4e86"],n.CHAT_Mp3=["kwx_sound/yinxiao/QuYu/Chat_0","kwx_sound/yinxiao/QuYu/Chat_1","kwx_sound/yinxiao/QuYu/Chat_2","kwx_sound/yinxiao/QuYu/Chat_3","kwx_sound/yinxiao/QuYu/Chat_4","kwx_sound/yinxiao/QuYu/Chat_5","yuying/v1","yuying/v3","yuying/v4","yuying/v5","yuying/v6","yuying/v7","yuying/v11"],n.SKE_ANIM=["hd_bingtong01_ske","hd_cangyingpai01_ske","hd_daocha01_ske","hd_ganbei01_ske","hd_jidan01_ske","hd_maobi01_ske","hd_meigui01_ske","hd_woshou01_ske","hd_xianbing01_ske","hd_zhuaji01_ske"],n.SKE_Mp3=["emo/hd_bingtong01","emo/hd_cangyingpai01","emo/hd_daocha01","emo/hd_ganbei01","emo/hd_jidan01","emo/hd_maobi01","emo/hd_meigui01","emo/hd_woshou01","emo/hd_xianbing01","emo/hd_zhuaji01"],cc._RF.pop()},{}],KWXExitView:[function(e,t,n){"use strict";cc._RF.push(t,"0b707Xin9hPFYVRrXx0+Xks","KWXExitView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/utils/Utils"),c=e("../../../manager/NetManager"),l=e("../../../manager/DataManager"),u=e("../KWXDefine"),h=e("../../../common/UIHelper"),f=e("../../../manager/ResManager"),d=e("../KWXTool"),p=e("../../../common/log/LogWrap"),g=cc._decorator,m=g.ccclass,y=g.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_time=null,t.user_node=[],t.btn_agree=null,t.btn_cancel=null,t.wait_tips=null,t._gameView=null,t.time_num=120,t}return i(t,e),t.prototype.onLoad=function(){s.default.addClickEventEND(this.btn_agree,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_cancel,this.onEvenClickButton.bind(this))},t.prototype.initData=function(e){var t=this,n=(new Date).getTime();this.time_num=Math.ceil((1e3*e.chooseEndTime-n)/1e3),this.lab_time.string=this.time_num+"",this.unschedule(this.onUpdateTimer),this.schedule(this.onUpdateTimer,1,cc.macro.REPEAT_FOREVER,.01),2==u.KWXDefine.GAME_PLAYER?this.user_node[2].active=!1:this.user_node[2].active=!0,e&&e.choose||p.LogWrap.err("\u89e3\u6563err",e),e.choose.forEach(function(e,n){t.updateUserInfo(e,e)})},t.prototype.updateUserInfo=function(e,t){var n=d.default.getLocationID(t.position);if(3==n&&(n=1),this.user_node){if(this.user_node[n].active=!0,this.user_node.length<1)return;var i=this.user_node[n].getChildByName("exttips").getComponent(cc.Sprite),r=this.user_node[n].getChildByName("iconBg").getChildByName("icon"),a=this.user_node[n].getChildByName("name").getComponent(cc.Label),o=s.default.getSubStringLengTxt(e.name);a.string=o,this.setUserHead(e.icon,r),t.playerId==l.DataManager.playerInfo.accountId?e.applyer?(this.setSpirteValue(0,i),this.wait_tips.active=!0,this.btn_agree.active=!1,this.btn_cancel.active=!1):e.agree?(this.setSpirteValue(1,i),this.wait_tips.active=!0,this.btn_agree.active=!1,this.btn_cancel.active=!1):(this.setSpirteValue(3,i),this.wait_tips.active=!1,this.btn_agree.active=!0,this.btn_cancel.active=!0):e.applyer?this.setSpirteValue(0,i):e.agree?this.setSpirteValue(1,i):this.setSpirteValue(3,i)}},t.prototype.setSpirteValue=function(e,t){return a(this,void 0,void 0,function(){var n;return o(this,function(i){switch(i.label){case 0:return[4,f.ResManager.loadResAsync("game/kwx/res/exit/exttips"+e,cc.SpriteFrame)];case 1:return n=i.sent(),t.spriteFrame=n,[2]}})})},t.prototype.setUserHead=function(e,t){h.default.loadHead(e,t)},t.prototype.onUpdateTimer=function(){this.time_num<0?this.unschedule(this.onUpdateTimer):(this.lab_time.string=this.time_num+"",this.time_num--)},t.prototype.onEvenClickButton=function(e){var t=e.name;"btn_agree"==t?(this.btn_agree.active=!1,this.btn_cancel.active=!1,this.wait_tips.active=!0,c.NetManager.protocolKWX.sendC2S_JieShanChoose(!0)):"btn_cancel"==t&&(c.NetManager.protocolKWX.sendC2S_JieShanChoose(!1),this.node.destroy())},r([y(cc.Label)],t.prototype,"lab_time",void 0),r([y(cc.Node)],t.prototype,"user_node",void 0),r([y(cc.Node)],t.prototype,"btn_agree",void 0),r([y(cc.Node)],t.prototype,"btn_cancel",void 0),r([y(cc.Node)],t.prototype,"wait_tips",void 0),t=r([m],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../common/UIHelper":"UIHelper","../../../common/log/LogWrap":"LogWrap","../../../common/utils/Utils":"Utils","../../../manager/DataManager":"DataManager","../../../manager/NetManager":"NetManager","../../../manager/ResManager":"ResManager","../KWXDefine":"KWXDefine","../KWXTool":"KWXTool"}],KWXGameScene:[function(e,t,n){"use strict";cc._RF.push(t,"33eb0WzAGlImIaK4sQtqiZL","KWXGameScene");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./KWXGameView"),o=e("../../manager/EventManager"),s=e("../../manager/UIManager"),c=e("../../manager/DataManager"),l=e("./protocol/KWXCmd"),u=e("./KWXDefine"),h=e("./KWXTool"),f=e("./MJData"),d=e("./protocol/MessageQueue"),p=e("./MJDefine"),g=e("../../manager/AudioManager"),m=e("../../common/utils/Utils"),y=cc._decorator,b=y.ccclass,v=y.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameView=null,t.effect_ani=null,t.touzi_ani1=null,t.touzi_ani2=null,t.huidaoqiantai=!1,t.Timingtime=.6,t}return i(t,e),t.prototype.onLoad=function(){this.GameView.GameScene=this,this.initEvent(),s.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...")},t.prototype.initEvent=function(){o.EventManager.on(this,l.EventKWXCmd.INITRoom_EVENT,this.S2C_MjRoomInfo.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_PlayerExitRoom,this.S2C_PlayerExitRoom.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_NewMjPlayerEnter,this.S2C_NewMjPlayerEnter.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_NewStartMjPai,this.S2C_NewStartMjPai.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_ChuPai,this.S2C_ChuPai.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_MoPai,this.S2C_MoPai.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_MoPaiNotice,this.S2C_MoPaiNotice.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_Peng,this.S2C_Peng.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_DianGang,this.S2C_DianGang.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_AnGang,this.S2C_AnGang.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_CaGang,this.S2C_CaGang.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_LiangHu,this.S2C_LiangHu.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_UpdatePlayerInfo,this.S2C_UpdatePlayerInfo.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_XuanPiao,this.S2C_XuanPiao.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_JieSuanOne,this.S2C_JieSuanOne.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_TotalJieSuan,this.S2C_TotalJieSuan.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_JieShanApply,this.S2C_JieShanApply.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_NewJieShanChoose,this.S2C_NewJieShanChoose.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C2S_Magic,this.S2C2S_Magic.bind(this)),d.MessageQueueInst.addMessage(l.ProtocolKWXCmd.S2C_WaitOper,this.S2C_WaitOper.bind(this))},t.prototype.S2C_PlayerExitRoom=function(e){if(e.playerId==c.DataManager.playerInfo.accountId)c.DataManager.gameLinkType=!1,s.UIManager.open("prefabs/club/ClubHall",!0),d.MessageQueueInst.stop();else for(var t=u.KWXDefine.PLAYER_DATAS.length-1;t>=0;t--)if(u.KWXDefine.PLAYER_DATAS[t].playerId==e.playerId){var n=h.default.getLocationID(u.KWXDefine.PLAYER_DATAS[t].position);this.GameView.KWXPlayer[n].initUser(),u.KWXDefine.PLAYER_DATAS.splice(t,1)}},t.prototype.S2C_MjRoomInfo=function(e){var t=this;console.log("\u521d\u59cb\u5316S2C_MjRoomInfo",e),console.log("\u521d\u59cb\u5316S2C_MjRoomInfo",this.GameView),this.GameView.resetGameView(),console.log(e),console.log("\u7528\u6237\u4fe1\u606f2",e.playerInfos),u.KWXDefine.PLAYER_DATAS=e.playerInfos,u.KWXDefine.ROOM_ID=e.roomId,u.KWXDefine.JUSHU=e.pan?e.pan:0,e.changeInfos=e.playerInfos,u.KWXDefine.GAME_DATAS=e.param,console.log("S2C_MjRoomInfo",u.KWXDefine.PLAYER_DATAS),e.leftPaiCount&&(f.MJData.leftCard=e.leftPaiCount),u.KWXDefine.PLAYER_DATAS.forEach(function(e,n){var i=h.default.getLocationID(e.position);t.GameView.KWXPlayer[i].setOnlineState(e.online),e.playerId==c.DataManager.playerInfo.accountId&&(u.KWXDefine.MY_DATA=e,u.KWXDefine.SEAT_ID=e.position,console.log("\u6211\u7684\u7528\u6237\u4fe1\u606f======>",e),t.GameView.initGameView(e.state),console.log("%c\u4eae\u7684\u724c\u4fe1\u606f======>","color:green",f.MJData.lightList))}),e.shoupai.length>0&&(f.MJData.userCardArr=e.shoupai,console.log("%c\u73a9\u5bb6\u624b\u724c\u4fe1\u606f======>","color:green",f.MJData.userCardArr),this.GameView.onGameStart(e,!0)),d.MessageQueueInst.reset(),d.MessageQueueInst.start()},t.prototype.S2C_NewMjPlayerEnter=function(e){for(var t=!0,n=e.pi,i=!1,r=0;r<u.KWXDefine.PLAYER_DATAS.length;r++)u.KWXDefine.PLAYER_DATAS[r].playerId==n.playerId?(u.KWXDefine.PLAYER_DATAS[r]=n,t=!1):101==n.state&&(i=!0);t&&u.KWXDefine.PLAYER_DATAS.push(n);var a=h.default.getLocationID(n.position);this.GameView.KWXPlayer[a].setUserInfo(n),0==u.KWXDefine.JUSHU&&i&&g.AudioManager.playSFX("kwx_sound/yinxiao/join.mp3")},t.prototype.S2C_NewStartMjPai=function(e){console.log("\u5f00\u59cb\u901a\u77e5======>",e),this.GameView.resetGameView(),2==u.KWXDefine.GAME_PLAYER?f.MJData.leftCard=57:f.MJData.leftCard=44,u.KWXDefine.JUSHU=e.playTimes,this.GameView.onGameStart(e),g.AudioManager.playSFX("kwx_sound/yinxiao/duijukaishi.mp3");var t=5*Math.random()+1,n=5*Math.random()+1,i="KWX_DiceA"+(t=parseInt(t+"",10)),r="KWX_DiceB"+(n=parseInt(n+"",10));this.effect_ani.active=!0,this.touzi_ani1.active=!0,this.touzi_ani2.active=!0;var a=this.effect_ani.getComponent(sp.Skeleton),o=this.touzi_ani1.getComponent(sp.Skeleton),s=this.touzi_ani2.getComponent(sp.Skeleton);a.animation="Animation1",o.animation=i,s.animation=r,a.setAnimation(0,"Animation1",!1),o.setAnimation(0,i,!1),s.setAnimation(0,r,!1)},t.prototype.S2C_UpdatePlayerInfo=function(e){var t=this;console.log("\u66f4\u65b0\u73a9\u5bb6\u72b6\u6001======>",e),e.infos.forEach(function(e,n){var i=h.default.getLocationID(e.position);-1!=e.endTime&&t.GameView.updateUserInfo(e),null!=e.score&&t.GameView.KWXPlayer[i].setUserScore(e.score),e.state==p.MJOperState.PSMJ_READY?t.GameView.KWXPlayer[i].setReadyIcon(!0):t.GameView.KWXPlayer[i].setReadyIcon(!1),t.GameView.KWXPlayer[i].setScoreAni(m.default.getFormatGold(e.fraction/100))})},t.prototype.S2C_XuanPiao=function(e){if(1==c.DataManager.storage.get("FangYan")||null==c.DataManager.storage.get("FangYan"))var t="xiangyang/";else if(2==c.DataManager.storage.get("FangYan"))t="putong/";else if(3==c.DataManager.storage.get("FangYan"))t="shiyan/";else if(4==c.DataManager.storage.get("FangYan"))t="xiaogan/";4==u.KWXDefine.GAME_DATAS.param[3]&&(e.playerId==c.DataManager.playerInfo.id.toString()?g.AudioManager.playSFX("kwx_sound/yinxiao/"+t+"piao"+ +e.piao+"_1.mp3"):g.AudioManager.playSFX("kwx_sound/yinxiao/"+t+"piao"+e.piao+"_1a.mp3")),this.GameView.onSubXuanPiao(e),u.KWXDefine.PLAYER_DATAS.forEach(function(t,n){t.playerId==e.playerId&&(t.piao=e.piao)})},t.prototype.S2C_ChuPai=function(e){d.MessageQueueInst.pause(),g.AudioManager.playSFX("kwx_sound/yinxiao/outCard.mp3"),this.GameView.onPlayerOperShoot(e),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_WaitOper=function(e){d.MessageQueueInst.pause(),console.log("\u7b49\u5f85\u64cd\u4f5c======>",e),this.GameView.onPlayerOperWait(e),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_MoPai=function(e){d.MessageQueueInst.pause(),e.position=u.KWXDefine.SEAT_ID,this.GameView.onSubGetCard(e),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_MoPaiNotice=function(e){d.MessageQueueInst.pause(),console.log(e.changeInfos[0].endTime),void 0!=e.leftPaiCount&&(f.MJData.leftCard=e.leftPaiCount,this.GameView.KWXTable.setLeftCard()),e.playerId!=c.DataManager.playerInfo.accountId&&this.GameView.onSubGetCard(e),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_Peng=function(e){d.MessageQueueInst.pause(),this.GameView.otherPengOper(e),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_DianGang=function(e){d.MessageQueueInst.pause(),this.GameView.otherGangOper(e,0);var t=h.default.getLocationID(e.position);0!=t&&(f.MJData.UsergangState[t]=!0),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_AnGang=function(e){d.MessageQueueInst.pause(),this.GameView.otherGangOper(e,1);var t=h.default.getLocationID(e.position);0!=t&&(f.MJData.UsergangState[t]=!0),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_CaGang=function(e){d.MessageQueueInst.pause(),this.GameView.otherGangOper(e,2);var t=h.default.getLocationID(e.position);0!=t&&(f.MJData.UsergangState[t]=!0),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_LiangHu=function(e){d.MessageQueueInst.pause(),console.log("\u4eae\u724c\u901a\u77e5",e),this.GameView.onSubMingOper(e),this.scheduleOnce(function(){d.MessageQueueInst.resume()},this.Timingtime)},t.prototype.S2C_JieSuanOne=function(e){console.log("\u7ed3\u7b97\u901a\u77e5========",e),this.GameView.onResultShowOne(e)},t.prototype.S2C_TotalJieSuan=function(e){this.GameView.onResultShowMore(e)},t.prototype.S2C_NewJieShanChoose=function(e){this.GameView.onSubExit(e)},t.prototype.S2C_JieShanApply=function(e){this.GameView.onExitGame(e)},t.prototype.onDestroy=function(){o.EventManager.off(this),d.MessageQueueInst.onExitdestroy()},t.prototype.S2C2S_Magic=function(e){e.p5==u.KWXDefine.Chat_Tag?this.GameView.playChat(e.p1,e.p2):e.p5==u.KWXDefine.Expression_Tag&&this.GameView.playExpression(e.p1,e.p2,e.p3)},r([v(a.default)],t.prototype,"GameView",void 0),r([v(cc.Node)],t.prototype,"effect_ani",void 0),r([v(cc.Node)],t.prototype,"touzi_ani1",void 0),r([v(cc.Node)],t.prototype,"touzi_ani2",void 0),t=r([b],t)}(cc.Component);n.default=_,cc._RF.pop()},{"../../common/utils/Utils":"Utils","../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/EventManager":"EventManager","../../manager/UIManager":"UIManager","./KWXDefine":"KWXDefine","./KWXGameView":"KWXGameView","./KWXTool":"KWXTool","./MJData":"MJData","./MJDefine":"MJDefine","./protocol/KWXCmd":"KWXCmd","./protocol/MessageQueue":"MessageQueue"}],KWXGameView:[function(e,t,n){"use strict";cc._RF.push(t,"0fc00jNyA1KR7UTcHJplmBg","KWXGameView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/log/LogWrap"),o=e("../../common/utils/Utils"),s=e("../../manager/DataManager"),c=e("../../manager/EventManager"),l=e("../../manager/NetManager"),u=e("../../manager/UIManager"),h=e("./KWXDefine"),f=e("./KWXTool"),d=e("./MJData"),p=e("./MJDefine"),g=e("./protocol/KWXCmd"),m=e("./ui/KWXCpgArea"),y=e("./ui/KWXHandArea"),b=e("./ui/KWXOper"),v=e("./ui/KWXOutArea"),_=e("./ui/KWXPlayer"),C=e("./ui/KWXTable"),M=e("./ui/KWXTopPanel"),S=e("../../manager/AudioManager"),w=e("../pdk/PDKRoomInfo"),D=e("../../view/base/BaseView"),E=e("../../manager/EventClubDef"),A=e("../../Define"),P=e("../../net/NetCmd"),I=e("../../manager/DataManagerClub"),N=e("./MJBool"),T=cc._decorator,k=T.ccclass,R=T.property,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topPanel=null,t.KWXOper=null,t.KWXTable=null,t.KWXHandArea=[],t.KWXCpgArea=[],t.KWXOutArea=[],t.KWXPlayer=[],t.MJHandPfb=null,t.nodecard=null,t.KWXResultView=null,t.KWXExitView=null,t.input_p=null,t.effect_ani=null,t.MaimaView=null,t.ErRen=null,t.SanRen=null,t.chat=null,t.menuchat=null,t.mbj=[],t.NetworkType=[],t.powers=null,t.powers1=null,t.Timedata=null,t.mNetworkzt=null,t.gongju=null,t.mtool=null,t.spriteCacheNode=null,t.GameScene=null,t.isStartGame=!1,t.kwxResultView=null,t.kwxExtViewTs=null,t.MJBool=null,t.OperCardID=0,t.otherHuCard=[],t.Gray=!1,t.pipei=null,t._touchBegan=null,t._touchMoved=null,t.closedissolution=!1,t.Timingtime=1,t.xuanzhepai=!1,t}return i(t,e),t.prototype.onGet=function(){var e=this.input_p.textLabel.string;if(0!=e.length){var t=[];e.split(",").forEach(function(e){t.push(Number(e))}),l.NetManager.protocolKWX.sendC2S_ZuoPai(t)}else l.NetManager.protocolKWX.sendC2S_ZuoPai([])},t.prototype.onLoad=function(){cc.winSize.width<=1334?this.KWXHandArea[0].node.scale=1.1:this.KWXHandArea[0].node.scale=1.3;var e=s.DataManager.storage.get("Setbackground"),t=e-1;null!=e?this.mbj[t].active=!0:this.mbj[0].active=!0;var n=s.DataManager.storage.get("Music_switch"),i=s.DataManager.storage.get("Music_YinXiaoQuan");0==n?S.AudioManager.setBGMVolume(0):S.AudioManager.setBGMVolume(.3),0==i&&S.AudioManager.setSFXVolume(0),s.DataManager.storage.get("brand")&&(h.KWXDefine.pifu=s.DataManager.storage.get("brand")),S.AudioManager.playBGM("kwx_sound/bgmdz.mp3"),this.initView(),this.MJBool=new N,this.initNode(),c.EventManager.on(this,E.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this)),c.EventManager.on(this,P.ProtocolRpcCmd.S2C_Ping,this.timedata.bind(this));var r=cc.sys.getNetworkType(),a=10*cc.sys.getBatteryLevel()/2;0==a?(this.powers.active=!1,this.powers1.active=!0):(this.powers.active=!0,this.powers1.active=!1,this.powers.children.forEach(function(e,t){e.opacity=t<a?255:0}));2==r?this.NetworkType[r-1].active=!0:this.NetworkType[0].active=!0,c.EventManager.on(this,A.EventDef.GameShow,this.onGameShow.bind(this)),c.EventManager.on(this,A.EventDef.GameHide,this.onGameHide.bind(this)),1==I.DataManagerClub.Mytype&&(this.mtool.active=!0)},t.prototype.loadRes=function(){for(var e=0;e<this.spriteCacheNode.childrenCount;e++){var t=this.spriteCacheNode.children[e].getComponent(cc.Sprite);d.MJData.setSprite(this.spriteCacheNode.children[e].name,t.spriteFrame)}},t.prototype.onGameHide=function(){this.unscheduleAllCallbacks(),this.kwxResultView=null},t.prototype.onGameShow=function(){console.log("\u6e38\u620f\u56de\u5230\u524d\u53f0\u5361\u4e94\u661f"),this.data||l.NetManager.protocolKWX.C2S_GetRoomInfo()},t.prototype.timedata=function(){var e=o.default.getFormatDate(cc.sys.now(),"hh:mm:ss");this.Timedata.getComponent(cc.Label).string=e},t.prototype.ClubErrorCode=function(e){var t=this;63==e.errorCode?l.NetManager.protocolKWX.sendC2S_ExitRoom():2==e.errorCode||61==e.errorCode?(u.UIManager.showTips("\u79ef\u5206\u4e0d\u8db3\u60a8\u5df2\u88ab\u8e22\u51fa\u8be5\u623f\u95f4"),l.NetManager.protocolKWX.sendC2S_ExitRoom()):9==e.errorCode?(h.KWXDefine.PLAYER_DATAS.forEach(function(n){n.position==e.args[0].position&&(n.online=e.args[0].online);var i=f.default.getLocationID(n.position);t.KWXPlayer[i].setOnlineState(n.online)}),console.log("\u7528\u6237\u72b6\u6001:",h.KWXDefine.PLAYER_DATAS)):300==e.errorCode&&u.UIManager.showTips("\u6bcf\u5c40\u53ea\u80fd\u7533\u8bf7\u4e24\u6b21\u89e3\u6563\u623f\u95f4")},t.prototype.LightSpecil=function(e,t){var n=new Array;n=e.concat(t),f.default.sortOtherCardList(e),f.default.sortOtherCardList(n);var i=new Array;i=(i=(i=(i=e.concat(p.MJCPGCards[p.MJOperType.Peng])).concat(p.MJCPGCards[p.MJOperType.BuGang])).concat(p.MJCPGCards[p.MJOperType.MingGang])).concat(p.MJCPGCards[p.MJOperType.AnGang]),f.default.sortOtherCardList(i);var r=i.concat(t);f.default.sortOtherCardList(r);var a=[];if(this.MJBool.isMingSiGui(p.MJCPGCards[p.MJOperType.Peng],n)){for(var o=0;o<n.length;o++)if(p.MJCPGCards[p.MJOperType.Peng].indexOf(n[o])>-1){a.push([h.FanXingType.PX_MingSiGui,n[o]]);break}n=new Array;n=e.concat(t)}if(this.MJBool.isAnSiGui(n)){for(o=0;o<n.length;o++){if(4==this.frequency(n,n[o])){a.push([h.FanXingType.PX_AnSiGui,n[o]]);break}}n=new Array;n=e.concat(t)}if(this.MJBool.isSevenDouble(n)){a.push([h.FanXingType.PX_QiDui,t]);n=new Array;n=e.concat(t)}if(this.MJBool.isDaSanYuan(r)){a.push([h.FanXingType.PX_DaSanYuan,t]);var s=i.concat(t);f.default.sortOtherCardList(s)}return this.MJBool.isXiaoSanYuan(r)&&a.push([h.FanXingType.PX_XiaoSanYuan,t]),this.MJBool.isKWX(e,t)&&a.push([h.FanXingType.PX_KaWuXing,t]),a},t.prototype.frequency=function(e,t){for(var n=0,i=0;i<e.length;i++)e[i].toString()===t.toString()&&(n+=1);return n},t.prototype.delSelf=function(e,t){if(e&&e.length>0){for(var n=e.length-1;n>=0;n--){var i=e[n].indexOf(t);if(-1!=i){e[n].splice(i,1);break}}return e}},t.prototype.PartLight=function(e){var t=this,n=[],i=[],r=[],a=[],o=[],s=[],c=[];c=c.concat(e);for(var l=0;l<d.MJData.tingList.length;l++){var u=this.LightSpecil(e,d.MJData.tingList[l]);s=s.concat(u)}d.MJData.tingList.forEach(function(r,a){t.MJBool.huCardList(e,r).forEach(function(e){n.push(e),i=i.concat(e)})}),r=this.ObjectLight(n,i,r),o=o.concat(r),s.forEach(function(e){if(e[0]==h.FanXingType.PX_MingSiGui||e[0]==h.FanXingType.PX_AnSiGui)for(var t=r.length-1;t>=0;t--){-1!=(n=r[t].indexOf(e[1]))&&r.splice(t,1)}else if(e[0]==h.FanXingType.PX_QiDui&&d.MJData.tingList.length>1)r=[];else if(e[0]==h.FanXingType.PX_KaWuXing&&d.MJData.tingList.length>1)for(t=r.length-1;t>=0;t--){var n;-1!=(n=r[t].indexOf(e[1]))&&1==n&&r.splice(t,1)}});for(l=r.length-1;l>=0;l--)for(var f=n[0].length-1;f>=0;f--)if(n[0][f].toString()===r[l].toString()){n[0].splice(f,1),r.splice(l,1);break}var p=this.delSelf(n[0],d.MJData.tingList[0]);if(p&&p.length>0)for(f=0;f<p.length;f++)a=a.concat(p[f]);var g=0,m=[];if(d.MJData.tingList.forEach(function(e,n){t.MJBool.isTing(a,e)?g++:m.push(e)}),g!=d.MJData.tingList.length){a=[],n=[],i=[],m.forEach(function(r,a){t.MJBool.huCardList(e,r).forEach(function(e){n.push(e),i=i.concat(e)})}),r=this.ObjectLight(n,i,r,m.length);var y=[];for(f=0;f<r.length;f++){var b=r[f];for(l=0;l<o.length;l++)b.toString()===o[l].toString()&&y.push(b)}for(l=y.length-1;l>=0;l--)for(f=n[0].length-1;f>=0;f--)if(n[0][f].toString()===y[l].toString()){n[0].splice(f,1),y.splice(l,1);break}var v=this.delSelf(n[0],m[0]);if(v&&v.length>0)for(f=0;f<v.length;f++)a=a.concat(v[f])}return a},t.prototype.ObjectLight=function(e,t,n,i){if(void 0===i&&(i=0),0==i&&(i=d.MJData.tingList.length),i>1)for(var r=0;r<e[0].length;r++){var a=this.frequency(t,e[0][r]);if(a>=i)if(a%i==0){for(var o=a/i,s=-1,c=n.length-1;c>=0;c--)e[0][r].toString()===n[c].toString()&&(s=1);var l=e[0][r].indexOf(d.MJData.tingList[0]);if(-1!=s&&-1!=l)continue;for(var u=0;u<o;u++)n.push(e[0][r])}else{for(o=Math.floor(a/i),s=-1,c=n.length-1;c>=0;c--)e[0][r].toString()===n[c].toString()&&(s=1);l=e[0][r].indexOf(d.MJData.tingList[0]);if(-1!=s&&-1!=l)continue;for(u=0;u<o;u++)n.push(e[0][r])}}else{var h=[],f=[];for(r=t.length-1;r>=0;r--){-1!=(o=t[r].indexOf(d.MJData.tingList[0]))&&h.push(t[r]),-1==o&&n.push(t[r])}if(f=f.concat(h),h.length>1){var p=0;for(r=h.length-1;r>=0&&(h[r].length<3?(n.push(f[r]),h.splice(r,1)):p++,1!=h.length);r--);if(p==h.length&&h.length>1)for(r=h.length-1;r>=0&&(n.push(f[r]),h.splice(r,1),1!=h.length);r--);}}return n},t.prototype.getDiffentList=function(e,t){var n=[];n=n.concat(e);for(var i=t.length-1;i>=0;i--){var r=n.indexOf(t[i]);-1!=r&&n.splice(r,1)}return n},t.prototype.start=function(){this.topPanel.initzation(this),this.KWXOper.GameView=this,a.LogWrap.log("\u91cd\u8fde\u4e0a\u67652===="),this.loadRes()},t.prototype.initView=function(){var e=this,t=this;c.EventManager.on(this,p.MJEventDef.MjShootEvent,function(n){if(e.xuanzhepai=!0,t._touchBegan=n.startPos,d.MJData.chooseMingState){d.MJData.chooseMingState=!1;var i=new Array;i=i.concat(d.MJData.userCardArr),a.LogWrap.log("\u624b\u91cc\u7684\u724c",i);var r=[];d.MJData.kouList.forEach(function(e){a.LogWrap.log("\u6263\u724c\u64cd\u4f5c",e),i=t.getMingCard(i,e),r.push(e),r.push(e),r.push(e)});var o=i.indexOf(n.cardDatas);i.splice(o,1);var s=[];if(1==h.KWXDefine.GAME_DATAS.param[13])if(i.length>1){f.default.sortOtherCardList(d.MJData.tingList);var c=[];c=c.concat(i),s=t.PartLight(i),a.LogWrap.log("\u90e8\u5206\u4eae\u7684\u724c:",i,s),f.default.sortOtherCardList(s)}else s=i;else s=i;a.LogWrap.log("\u8981\u4eae\u7684\u724c\u662f:",s),d.MJData.lightList=s,l.NetManager.protocolKWX.sendC2S_Liang(s,d.MJData.kouList,n.cardDatas),t.KWXHandArea[0].hideMJGrey()}else l.NetManager.protocolKWX.sendC2S_ChuPai(n.cardDatas);e.KWXOper.hideOper()}),a.LogWrap.log("\u6263\u724c\u9009\u62e9"),c.EventManager.on(this,p.MJEventDef.KouMjEvent,function(e){var n=e.cardValue;if(a.LogWrap.log("\u53d1\u9001\u6263\u724c\u64cd\u4f5c",n),a.LogWrap.log("\u6263\u7684\u724c:",d.MJData.kouList),console.log(d.MJData.kouList.indexOf(n)),-1==d.MJData.kouList.indexOf(n))return d.MJData.kouList.push(n),t.KWXHandArea[0].setHandKouValue(!0,n),void t.KWXOper.zhixingMing();var i=d.MJData.kouList.indexOf(n);return d.MJData.kouList.splice(i,1),void t.KWXHandArea[0].setHandKouValue(!1,n)}),c.EventManager.on(this,p.MJEventDef.gangMjEvent,function(e){var n=e.cardValue;d.MJData.GangHandClick=!1,t.KWXOper.hideOper(),t.OperCardID=n,l.NetManager.protocolKWX.sendC2S_Gang(n)}),c.EventManager.on(this,p.MJEventDef.MjBrightEvent,function(n){t._touchBegan=n.startPos,null!=n&&d.MJData.turnMeOperate&&(e.KWXOutArea.forEach(function(e,t){0!=t&&e.setOutGreyBack(!1)}),t.KWXOutArea.forEach(function(e,t){0!=t&&e.setOutGreyBack(!0,n.cardValue)}))}),c.EventManager.on(this,p.MJEventDef.TingTipsEvent,function(e){if(null!=e){var n=new Array;n=n.concat(d.MJData.userCardArr),d.MJData.kouList.forEach(function(e){n=t.getMingCard(n,e)});var i=new Array;i=i.concat(n);for(var r=0;r<n.length;r++)if(n[r]==e.cardValue){i.splice(r,1),console.log("\u6e32\u67d3\u63d0\u793a\u80e12",i);var a=t.MJBool.getAllTing(i);a.length>0?(console.log("\u6e32\u67d3\u63d0\u793a\u80e1",a),d.MJData.tingList=a,t.KWXTable.showTing(0,a)):t.KWXTable.hideTing(0);break}}}),c.EventManager.on(this,g.EventKWXCmd.CLICK_CONTINUE,function(n){t.resetGameView(),e.KWXTable.setLeftCard(),h.KWXDefine.JUSHU++,t.KWXTable.setRoomInfo(),n.ready&&t.KWXPlayer[0].setReadyIcon(!0)}),c.EventManager.on(this,g.EventKWXCmd.CLICK_CHANGEDESK,function(e){t.resetGameView(),h.KWXDefine.JUSHU=1,t.KWXTable.setRoomInfo(),t.KWXPlayer[0].setReadyIcon(!0),t.pipei=e.ts,t.KWXPlayer.forEach(function(e){e.initUser()}),h.KWXDefine.PLAYER_DATAS.forEach(function(e,n){var i=f.default.getLocationID(e.position);t.KWXPlayer[i].setUserInfo(e)})})},t.prototype.touchBegan=function(e){this.node.on("touchstart",function(e){var t=e.getLocation();console.log(t),console.log("\u5750\u6807\u663e\u793a",t)},this);e.getTouches()[0].getLocation()},t.prototype.initNode=function(){var e;(h.KWXDefine.GAME_DATAS.match?this.isStartGame=!0:this.isStartGame=!1,2==h.KWXDefine.GAME_PLAYER)?(console.log("\u8fd9\u662f\u4e24\u4eba\u73a9\u6cd5"),this.ErRen.active=!0,this.SanRen.active=!1,(e=cc.winSize).width<=1334?(this.KWXOutArea[0].node.scale=.8,this.KWXOutArea[3].node.scale=.8,this.KWXCpgArea[0].node.scale=1.1,this.KWXCpgArea[3].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/3,this.KWXOutArea[3].startPos.x=e.width/3):(this.KWXOutArea[0].node.scale=1,this.KWXOutArea[3].node.scale=1,this.KWXCpgArea[0].node.scale=1.3,this.KWXCpgArea[3].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/4,this.KWXOutArea[3].startPos.x=e.width/4),this.KWXTable.node.getChildByName("paiju").position=cc.v2(141,45),this.KWXTable.node.getChildByName("left_node").position=cc.v2(-148,45),this.KWXTable.node.getChildByName("kuaisuchang").position=cc.v2(0,132),this.KWXTable.node.getChildByName("clockBG").active=!0,this.KWXTable.node.getChildByName("clockBGsanren").active=!1):(console.log("\u8fd9\u662f\u4e09\u4eba\u73a9\u6cd5"),(e=cc.winSize).width<=1334?(this.KWXOutArea[0].node.scale=.8,this.KWXOutArea[1].node.scale=.8,this.KWXOutArea[2].node.scale=.8,this.KWXCpgArea[0].node.scale=1.1,this.KWXCpgArea[1].node.scale=.8,this.KWXCpgArea[2].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/3):(this.KWXOutArea[0].node.scale=1,this.KWXOutArea[1].node.scale=1,this.KWXOutArea[2].node.scale=1,this.KWXCpgArea[0].node.scale=1.3,this.KWXCpgArea[1].node.scale=.8,this.KWXCpgArea[2].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/4),this.KWXTable.node.getChildByName("left_node").position=cc.v2(0,230),this.KWXTable.node.getChildByName("paiju").position=cc.v2(0,340),this.KWXTable.node.getChildByName("kuaisuchang").position=cc.v2(0,44),this.KWXTable.node.getChildByName("clockBGsanren").active=!0,this.KWXTable.node.getChildByName("clockBG").active=!1,this.ErRen.active=!1,this.SanRen.active=!0)},t.prototype.initGameView=function(e){var t=this;this.initNode(),this.KWXTable.setRoomInfo(),this.KWXTable.setLeftCard(),e==p.MJOperState.PSMJ_Wait&&h.KWXDefine.PLAYER_DATAS.forEach(function(e,n){e.playerId==s.DataManager.playerInfo.accountId&&t.KWXOper.showBtn(1,e.endTime)}),h.KWXDefine.PLAYER_DATAS.forEach(function(e,n){var i=f.default.getLocationID(e.position);t.KWXPlayer[i].setUserInfo(e),2==e.waitForState&&e.Floatation&&(console.log("\u65ad\u7ebf\u91cd\u8fde\u663e\u793a\u9009\u6f02"),t.KWXOper.showPiao(e),t.isStartGame=!0,e.Floatation=!1),e.shouPaiCount||h.KWXDefine.JUSHU==h.KWXDefine.GAME_DATAS.juShu||0==h.KWXDefine.JUSHU||e.playerId!=s.DataManager.playerInfo.accountId||l.NetManager.protocolKWX.sendC2S_Ready()})},t.prototype.resetGameView=function(){var e=this;console.log("resetGameView\u91cd\u7f6e\u6e38\u620f\u754c\u9762",this.pipei),null!=this.pipei&&(h.KWXDefine.PLAYER_DATAS.forEach(function(t,n){t.playerId!=s.DataManager.playerInfo.accountId&&(t.id=t.playerId,e.pipei.showUserItem(t,n))}),this.scheduleOnce(function(){h.KWXDefine.PLAYER_DATAS.length==h.KWXDefine.GAME_PLAYER&&(null!=this.pipei&&this.pipei.node.destroy(),this.pipei=null)},2)),this.topPanel.isShow(!1),this.otherHuCard=[],this.KWXOper.hideOper(),this.KWXHandArea[0].hideMJGrey(),this.KWXHandArea[0].removeArrowTing(),console.log("\u91cd\u7f6e:",h.KWXDefine.PLAYER_DATAS),d.MJData.DisableDragAndDrop=!1,this.KWXTable.hideTing(0),this.KWXTable.hideTing(1),this.KWXTable.hideTing(2),this.KWXTable.hideTing(3),this.KWXHandArea[0].setHandKouValue(!1),this.KWXHandArea[0].setHandTingValue(!1),this.KWXPlayer.forEach(function(e){e.setBankerIcon(!1),e.setReadyIcon(!1),e.setPiaoIcon(!1,0)}),this.KWXTable.setOperBilnk(0,!1),this.KWXHandArea.forEach(function(e){e.removeAllHand(),e.clearAllHand()}),d.MJData.handCardNum=[],this.KWXCpgArea.forEach(function(e){e.clearCPGMJ()}),this.KWXOutArea.forEach(function(e){e.removeAllOut(),e.hideShotArrow(),e.clearOutMJ(),e.onchongz()}),this.effect_ani.active=!1,this.kwxResultView=null,c.EventManager.emit(p.MJEventDef.CloseSettlement,{}),p.MJCPGCards[p.MJOperType.Peng]=[],p.MJCPGCards[p.MJOperType.BuGang]=[],p.MJCPGCards[p.MJOperType.MingGang]=[],p.MJCPGCards[p.MJOperType.AnGang]=[],d.MJData.gangList=[],h.KWXDefine.GAME_OVER=!1,h.KWXDefine.TOTAL_DATA=null,d.MJData.ResetData(),null!=this.node.getChildByName("ExitView")&&this.closedissolution&&(this.node.getChildByName("ExitView").destroy(),this.closedissolution=!1),l.NetManager.protocolKWX.setGameThis(this)},t.prototype.onGameStart=function(e,t){var n=this;void 0===t&&(t=!1),console.log("\u901a\u77e5\u6e38\u620f\u5f00\u59cb",e),this.KWXTable.setRoomInfo(),this.KWXTable.setLeftCard(),this.isStartGame=!0,this.resetGameView(),this.KWXPlayer.forEach(function(e){e.setReadyIcon(!1)}),this.KWXOper.hideOper();var i=e.shoupai;e.leftPaiCount>=0&&(d.MJData.leftCard=e.leftPaiCount,this.KWXTable.setLeftCard());var r=0,a=0,o=0;if(console.log("\u7528\u6237\u4fe1\u606f\u5f00\u59cb",h.KWXDefine.PLAYER_DATAS),h.KWXDefine.PLAYER_DATAS.forEach(function(c,l){c.endTime=e.changeInfos[0].endTime;var u=0,p=f.default.getLocationID(c.position);if(105==c.state&&n.KWXTable.setOperBilnk(p,!0),console.log("\u4f4d\u7f6e\u663e\u793a:",p),1==h.KWXDefine.GAME_DATAS.param[3]?n.KWXPlayer[p].setPiaoIcon(!0,1):2==h.KWXDefine.GAME_DATAS.param[3]?n.KWXPlayer[p].setPiaoIcon(!0,2):n.KWXPlayer[p].setPiaoIcon(!0,c.piao),console.log("\u6f02piao",c.piao),t){if(0==p){var g=(new Date).getTime(),m=Math.ceil((1e3*c.endTime-g)/1e3);console.log("S2C_NewStartMjPai\u6216S2C_MjRoomInfo\u975e\u91cd\u8fde\u5b9a\u65f6",m),n.KWXTable.setClockTime(c.endTime)}if(console.log("\u91cd\u8fde\u53d6\u670d\u52a1\u5668\u4e0b\u53d1\u7684\u724c\u6570\u91cf",c.shouPaiCount),c.shouPaiCount&&c.shouPaiCount>0){n.KWXPlayer[p].setBankerIcon(c.position==e.zhuangPostion),d.MJData.handCardNum[p]=c.shouPaiCount;d.MJData.handCardNum[p];c.waitFor>0&&c.playerId==s.DataManager.playerInfo.accountId&&(r=c.waitFor,o=c.peng),c.LastOne>0&&c.playerId==s.DataManager.playerInfo.accountId?a=c.LastOne:n.KWXHandArea[p].createHandMJ(c.shouPaiCount,p);var y=0;if(c.peng.forEach(function(e,i){c.pengInfo.forEach(function(t,n){e==t.paiId&&(y=t.chupaiPositon)}),console.log("\u78b0\u724c\u4f4d\u7f6e:",y);var r={paiId:e,position:c.position,chupaiPositon:y};n.otherPengOper(r,t)}),c.anGang.forEach(function(e,i){c.anGangInfo.forEach(function(t,n){e==t.paiId&&(y=t.chupaiPositon)});var r={paiId:e,position:c.position,chupaiPositon:y};n.otherGangOper(r,1,t)}),c.mingGang.forEach(function(e,i){c.mingGangInfo.forEach(function(t,n){e==t.paiId&&(y=t.chupaiPositon)});var r={paiId:e,position:c.position,chupaiPositon:y};n.otherGangOper(r,0,t)}),c.chuDePai.forEach(function(e,t){var i={id:e,position:c.position};n.reLinkOutCard(i)}),c.liang&&c.liang.length>0){d.MJData.handCardLiangState[p]=!0,d.MJData.userCardArr=i,console.log("\u5168\u90e8\u724c\u7684\u987a\u5e8f1:",d.MJData.userCardArr),d.MJData.kouList=c.kouList,d.MJData.HuCardList=c.huList;var b={playerId:c.playerId,position:c.position,liangPaiId:c.liang,huPaiId:c.liangHu,shoupai:c.shouPaiCount,LastOnest:c.LastOne};n.onSubMingOper(b,!0)}}}else d.MJData.bankerPos=e.zhuangPostion,u=c.position==d.MJData.bankerPos?14:13,n.KWXPlayer[p].setBankerIcon(c.position==e.zhuangPostion),d.MJData.handCardNum[p]=u,n.KWXHandArea[p].createHandMJ(u,p),n.KWXTable.setClockTime(h.KWXDefine.GAME_DATAS.param[6])}),!d.MJData.handCardLiangState[0]){var c=!1,l=!1,u=!1;if(d.MJData.userCardArr=i,d.MJData.handCardNum[0]=i.length,a>0){var g=i.indexOf(a);-1!=g&&d.MJData.userCardArr.splice(g,1),f.default.sortOtherCardList(i),u=this.MJBool.isTing(d.MJData.userCardArr,a),d.MJData.userCardArr.push(a),this.KWXHandArea[0].createHandMJ(d.MJData.handCardNum[0],0)}else this.KWXHandArea[0].createHandMJ(d.MJData.handCardNum[0],0),f.default.sortOtherCardList(d.MJData.userCardArr);t?this.KWXHandArea[0].setHandValue(!1):this.KWXHandArea[0].setHandValue(!1,!0);var m=this.MJBool.TingTips(d.MJData.userCardArr);if(m.length>0&&(console.log("\u542c\u724c\u5217\u8868\u6807\u8bb0:",m),t?this.KWXHandArea[0].setHandTingValue(!0,m):this.scheduleOnce(function(){n.KWXHandArea[0].setHandTingValue(!0,m)},.42),l=!0,c=!0),this.otherHuCard.forEach(function(e,t){for(var n=0;n<4;n++){var i=m.indexOf(e);-1!=i&&m.splice(i,1)}}),console.log("\u6211\u7684\u5168\u90e8\u724c",d.MJData.userCardArr),r){var y=this.MJBool.isGang(d.MJData.userCardArr,r),b=this.MJBool.isPeng(d.MJData.userCardArr,r),v=this.MJBool.isTing(d.MJData.userCardArr,r);o&&(y=this.MJBool.isGang(o,r));var _=!1;v&&((_=this.SpecialResult(d.MJData.userCardArr,r))||(0==d.MJData.leftCard?_=!0:d.MJData.UsergangState[0]?_=!0:d.MJData.handCardLiangState[0]&&(_=!0)),d.MJData.handCardLiangState.forEach(function(e,t){0!=t&&e&&(_=!0)}))}console.log("\u5224\u65ad\u6478\u724c\u662f\u5426\u53ef\u4ee5\u80e1:",u),u&&(_=!0),1==h.KWXDefine.GAME_DATAS.param[11]&&d.MJData.leftCard<12&&(l=!1,c=!1),(_||b||y||v)&&(c=!0),(_||b||y||l||v)&&(this.OperCardID=-1,d.MJData.OperState.gang=y,d.MJData.OperState.hu=_,d.MJData.OperState.peng=b,d.MJData.OperState.ming=l,d.MJData.OperState.qi=c,this.KWXOper.showOper(0));console.log(e.changeInfos);for(var C=0;C<e.changeInfos.length;C++)e.changeInfos[C].endTime>0&&e.changeInfos[C].endTime;if(e.changeInfos.forEach(function(e,t){e.playerId==s.DataManager.playerInfo.accountId&&p.MJOperState.PSMJ_ChuPai!=e.state&&(d.MJData.turnMeOperate=!1)}),console.log("\u522b\u4eba\u8981\u80e1\u7684\u724c:",this.otherHuCard),t?this.KWXHandArea[0].setMJGrey(this.otherHuCard):this.scheduleOnce(function(){n.KWXHandArea[0].setMJGrey(n.otherHuCard)},.42),console.log("\u5224\u65ad\u662f\u5426\u5929\u80e1",d.MJData.handCardNum[0]%3),d.MJData.handCardNum[0]%3!=2)return;d.MJData.turnMeOperate=!0;var M=this.MJBool.isHu(d.MJData.userCardArr);if(console.log("\u5929\u80e1\u72b6\u6001:",M),!d.MJData.handCardLiangState[0]){var S=this.MJBool.getByAnGang(d.MJData.userCardArr);if(d.MJData.gangList=[],M||S){var w=this.MJBool.getAnGang(d.MJData.userCardArr);console.log("\u6697\u6760",w),w&&(d.MJData.gangList=d.MJData.gangList.concat(w)),w.length>0?this.OperCardID=w[0]:this.OperCardID=e.id,console.log(M),console.log("\u80e1\u63d0\u793a952"),d.MJData.OperState.gang=S,d.MJData.OperState.hu=M,d.MJData.OperState.peng=!1,d.MJData.OperState.ming=!1,d.MJData.OperState.qi=!0,console.log("\u5b9a\u65f61"),this.KWXOper.showOper(h.KWXDefine.GAME_DATAS.param[6])}}console.log("\u91cd\u8fde\u540e\u7684\u624b\u724c",d.MJData.userCardArr,"\u724c\u7684\u6570\u91cf",d.MJData.userCardArr.length)}},t.prototype.onSubXuanPiao=function(e){var t=f.default.getLocationID(e.position);this.KWXPlayer[t].setPiaoIcon(!0,e.piao)},t.prototype.reLinkOutCard=function(e){console.log("\u65ad\u7ebf\u91cd\u8fde\u51fa\u724c",e);var t=e.position,n=f.default.getLocationID(t);this.KWXOutArea[n].createOutMJ(e.id)},t.prototype.onPlayerOperShoot=function(e){var t=this;console.log("\u51fa\u724c\u6570\u636e",e);var n="xiangyang/";2==s.DataManager.storage.get("FangYan")?n="putong/":3==s.DataManager.storage.get("FangYan")?n="shiyan/":4==s.DataManager.storage.get("FangYan")&&(n="xiaogan/");var i=e.position,r=f.default.getLocationID(i);0==r?this.showEffect(0,"kwx_sound/yinxiao/"+n+e.id+"_1"):this.showEffect(0,"kwx_sound/yinxiao/"+n+e.id+"_1a");this.KWXOutArea[r].createOutMJ(e.id,!0,this._touchBegan,r),this.xuanzhepai=!1,this.scheduleOnce(function(){this.KWXOutArea[r].showShotArrow()},.5),d.MJData.handCardNum[r]=d.MJData.handCardNum[r]-1;var o=d.MJData.handCardNum[r];if(a.LogWrap.log("\u51fa\u724c\u540e\u724c\u7684\u6570\u91cf",d.MJData.handCardNum[r]),0==r){d.MJData.chooseMingState=!1,d.MJData.GangHandClick=!1,d.MJData.turnMeOperate=!1;var c=d.MJData.userCardArr.indexOf(e.id);d.MJData.userCardArr.splice(c,1),d.MJData.handCardLiangState[0]?(1==h.KWXDefine.GAME_DATAS.param[13]?(d.MJData.lightList.forEach(function(e,t){var n=d.MJData.userCardArr.indexOf(e);-1!=n&&d.MJData.userCardArr.splice(n,1)}),f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.lightList.forEach(function(e,t){d.MJData.userCardArr.push(e)}),d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),this.KWXHandArea[0].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},!0,0),this.KWXHandArea[0].setHandValue(),this.KWXHandArea[0].setHandKouValue(!1),d.MJData.kouList.forEach(function(e){t.KWXHandArea[0].setHandKouValue(!0,e)}),console.log("\u51fa\u724c\u540e\u660e\u7684\u724c",d.MJData.lightList)):(f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),this.KWXHandArea[0].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},!0,0),this.KWXHandArea[0].setHandValue(),this.KWXHandArea[0].setHandKouValue(!1),d.MJData.kouList.forEach(function(e){t.KWXHandArea[0].setHandKouValue(!0,e)})),console.log("\u5168\u90e8\u724c\u7684\u987a\u5e8f4:",d.MJData.userCardArr),this.KWXHandArea[0].setMJGrey(d.MJData.userCardArr),this.KWXHandArea[0].setMJLight(d.MJData.lightList)):(f.default.sortOtherCardList(d.MJData.userCardArr),this.KWXHandArea[r].createHandMJ(d.MJData.userCardArr.length,r),this.KWXHandArea[r].setHandValue(),this.OperCardID=-1,this.giveUpMing(),this.KWXTable.hideTing(0),this.KWXOutArea.forEach(function(e,t){0!=t&&e.setOutGreyBack(!1)}),this.KWXHandArea[0].setMJGrey(this.otherHuCard))}else{f.default.sortCardList(d.MJData.userCardArr),this.KWXHandArea[r].createHandMJ(o,r);var u=this.MJBool.isGang(d.MJData.userCardArr,e.id),p=this.MJBool.isPeng(d.MJData.userCardArr,e.id),g=this.MJBool.isTing(d.MJData.userCardArr,e.id),m=!1;if(d.MJData.handCardLiangState[0])return g&&l.NetManager.protocolKWX.sendC2S_Hu(),void(d.MJData.UsergangState[r]=!1);if(g&&((m=this.SpecialResult(d.MJData.userCardArr,e.id))||(0==d.MJData.leftCard?m=!0:d.MJData.UsergangState[r]?m=!0:d.MJData.handCardLiangState[r]&&(m=!0)),d.MJData.handCardLiangState.forEach(function(e,t){0!=t&&e&&r==t&&(m=!0)})),d.MJData.UsergangState[r]=!1,m||p||u){this.OperCardID=e.id,d.MJData.OperState.gang=u,console.log(m),console.log("\u80e1\u63d0\u793a1067"),d.MJData.OperState.hu=m,d.MJData.OperState.peng=p,d.MJData.OperState.ming=!1,d.MJData.OperState.qi=!0;var y=(new Date).getTime(),b=Math.ceil((1e3*e.changeInfos[0].endTime-y)/1e3);console.log("\u5b9a\u65f62",b),this.KWXOper.showOper(e.changeInfos[0].endTime)}}console.log("===================================",e.changeInfos[0].endTime)},t.prototype.otherPengOper=function(e,t){void 0===t&&(t=!1),console.log("\u78b0\u724c\u5c55\u793a",e);var n=!0,i=f.default.getLocationID(e.position);if(console.log("\u78b0\u724c\u5c55\u793a\u662f\u5426\u975e\u91cd\u8fde:",t),!t){this.KWXTable.setOperBilnk(i,!0),d.MJData.handCardNum[i]=d.MJData.handCardNum[i]-2;var r=d.MJData.handCardNum[i];a.LogWrap.log("\u78b0\u724c\u540e\u724c\u7684\u6570\u91cf",d.MJData.handCardNum[i]),this.KWXHandArea[i].createHandMJ(r,i);var o="xiangyang/";2==s.DataManager.storage.get("FangYan")?o="putong/":3==s.DataManager.storage.get("FangYan")?o="shiyan/":4==s.DataManager.storage.get("FangYan")&&(o="xiaogan/"),0==e.position?this.showEffect("pen","kwx_sound/yinxiao/"+o+"peng_1"):this.showEffect("pen","kwx_sound/yinxiao/"+o+"peng_1a")}var c=f.default.getLocationID(e.chupaiPositon);this.KWXOutArea[c].delEndOutMJ();var l=this.getAngle(c);if(0==i){if(!t){d.MJData.turnMeOperate=!0;var u=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(u,1);var g=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(g,1),f.default.sortOtherCardList(d.MJData.userCardArr),this.KWXHandArea[i].setHandValue();var m=!1,y=!1;if(!d.MJData.handCardLiangState[0]){var b=this.MJBool.TingTips(d.MJData.userCardArr);this.otherHuCard.forEach(function(e,t){for(var n=0;n<4;n++){var i=b.indexOf(e);-1!=i&&b.splice(i,1)}}),b.length>0&&(this.KWXHandArea[i].setHandTingValue(!0,b),m=!0),this.KWXHandArea[0].setMJGrey(this.otherHuCard),console.log("\u522b\u4eba\u660e\u724c\u80e1\u7684\u724c\u906e\u9ed1 33",this.otherHuCard)}1==h.KWXDefine.GAME_DATAS.param[11]&&d.MJData.leftCard<12&&(m=!1),m||(n=!1);var v=this.MJBool.getByAnGang(d.MJData.userCardArr);if(v&&(y=!0),m||y){var _=this.MJBool.getAnGang(d.MJData.userCardArr);console.log("\u6697\u6760",_),_&&(d.MJData.gangList=d.MJData.gangList.concat(_)),_.length>0?this.OperCardID=_[0]:this.OperCardID=e.id,d.MJData.OperState.gang=v,d.MJData.OperState.hu=!1,d.MJData.OperState.peng=!1,d.MJData.OperState.ming=m,d.MJData.OperState.qi=n,console.log("\u5b9a\u65f63"),this.KWXOper.showOper(h.KWXDefine.GAME_DATAS.param[6])}}this.KWXCpgArea[0].createCPGMJ(p.MJOperType.Peng,[e.paiId,e.paiId,e.paiId],0,l)}else f.default.sortCardList(d.MJData.userCardArr),this.KWXCpgArea[i].createCPGMJ(p.MJOperType.Peng,[e.paiId,e.paiId,e.paiId],0,l)},t.prototype.otherGangOper=function(e,t,n){var i=this;void 0===n&&(n=!1);var r=f.default.getLocationID(e.position),o=!1,c=[],l="xiangyang/";if(2==s.DataManager.storage.get("FangYan")?l="putong/":3==s.DataManager.storage.get("FangYan")?l="shiyan/":4==s.DataManager.storage.get("FangYan")&&(l="xiaogan/"),0==r){if(0==t){if(!n){0==e.position?this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1"):this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1a");var u=f.default.getLocationID(e.chupaiPositon);this.KWXOutArea[u].delEndOutMJ(),d.MJData.handCardNum[r]=d.MJData.handCardNum[r]-3;var g=d.MJData.handCardNum[r];a.LogWrap.log("\u70b9\u6760\u724c\u540e\u724c\u7684\u6570\u91cf",d.MJData.handCardNum[r]),this.KWXHandArea[r].createHandMJ(g,r);var m=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(m,1);var y=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(y,1);var b=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(b,1)}this.deleteKou(e.paiId),f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.kouList.length>0&&d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),this.KWXHandArea[r].setHandValue();var v=f.default.getLocationID(e.chupaiPositon),_=this.getAngle(v);this.KWXCpgArea[0].createCPGMJ(p.MJOperType.MingGang,[e.paiId,e.paiId,e.paiId,e.paiId],2,_)}else if(1==t){if(!n){0==e.position?this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1"):this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1a"),d.MJData.handCardNum[r]=d.MJData.handCardNum[r]-4;g=d.MJData.handCardNum[r];a.LogWrap.log("\u6697\u6760\u724c\u540e\u724c\u7684\u6570\u91cf",d.MJData.handCardNum[r]),this.KWXHandArea[r].createHandMJ(g,r);m=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(m,1);y=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(y,1);b=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(b,1);var C=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(C,1)}this.deleteKou(e.paiId),f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.kouList.length>0&&d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),this.KWXHandArea[r].setHandValue(),this.KWXCpgArea[0].createCPGMJ(p.MJOperType.AnGang,[e.paiId,e.paiId,e.paiId,e.paiId],1)}else if(2==t){if(!n){0==e.position?this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1"):this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1a"),d.MJData.handCardNum[r]=d.MJData.handCardNum[r]-1;g=d.MJData.handCardNum[r];a.LogWrap.log("\u8865\u6760\u724c\u540e\u724c\u7684\u6570\u91cf",d.MJData.handCardNum[r]),this.KWXHandArea[r].createHandMJ(g,r);m=d.MJData.userCardArr.indexOf(e.paiId);d.MJData.userCardArr.splice(m,1)}f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.kouList.length>0&&d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),this.KWXHandArea[r].setHandValue(),this.KWXCpgArea[0].pengToBuGangCard([e.paiId,e.paiId,e.paiId,e.paiId],2)}}else{f.default.sortCardList(d.MJData.userCardArr);var M=0;if(0==t){if(M=3,!n){var S=f.default.getLocationID(e.chupaiPositon);this.KWXOutArea[S].delEndOutMJ()}v=f.default.getLocationID(e.chupaiPositon),_=this.getAngle(v);this.KWXCpgArea[r].createCPGMJ(p.MJOperType.MingGang,[e.paiId,e.paiId,e.paiId,e.paiId],2,_)}else if(1==t)M=4,this.KWXCpgArea[r].createCPGMJ(p.MJOperType.AnGang,[e.paiId,e.paiId,e.paiId,e.paiId],1);else if(2==t){M=1,this.KWXCpgArea[r].pengToBuGangCard([e.paiId,e.paiId,e.paiId,e.paiId],2);var w=this.MJBool.isTing(d.MJData.userCardArr,e.paiId);w&&(this.OperCardID=e.id,d.MJData.OperState.gang=!1,console.log(w),console.log("\u80e1\u63d0\u793a1286"),d.MJData.OperState.hu=w,d.MJData.OperState.peng=!1,d.MJData.OperState.ming=!1,d.MJData.OperState.qi=!0,console.log("\u5b9a\u65f64"),this.KWXOper.showOper(h.KWXDefine.GAME_DATAS.param[6]))}if(!n){0==e.position?this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1"):this.showEffect("gang","kwx_sound/yinxiao/"+l+"gang_1a"),d.MJData.handCardNum[r]=d.MJData.handCardNum[r]-M;var D=d.MJData.handCardNum[r];h.KWXDefine.PLAYER_DATAS.forEach(function(e){var t=f.default.getLocationID(e.position);if(t==r)if(e.liang.length>0&&(c=e.liang,o=!0),o){var n={x:0,y:0};1==r?n.y=-35:2==r?n.y=35:3==r&&(n.x=-50),i.KWXHandArea[t].clearAllHand(),i.KWXHandArea[t].createHandLiangMJ(d.MJData.handCardNum[t],n,!1,t),i.KWXHandArea[t].setOtherHandValues(c.length,t),i.KWXHandArea[t].setHandValue()}else i.KWXHandArea[t].createHandMJ(D,t)})}}},t.prototype.getAngle=function(e){var t=0;return 0==e?t=0:1==e?t=270:2==e?t=90:3==e&&(t=180),t},t.prototype.onPlayerOperWait=function(e){if(console.log(e),0==f.default.getLocationID(e.position)){var t=this.MJBool.isGang(d.MJData.userCardArr,e.paiId),n=this.MJBool.isPeng(d.MJData.userCardArr,e.paiId);(t||n)&&(d.MJData.OperState.gang=t,d.MJData.OperState.peng=n,d.MJData.OperState.qi=!0,this.KWXOper.showOper(h.KWXDefine.GAME_DATAS.param[6]))}},t.prototype.onSubGetCard=function(e){var t=this;a.LogWrap.log("\u83b7\u53d6\u624b\u724c\u6d88\u606f",e),this.KWXOper.hideOper();var n=f.default.getLocationID(e.position);this.KWXTable.setOperBilnk(n,!0),d.MJData.handCardNum[n]=d.MJData.handCardNum[n]+1;var i=d.MJData.handCardNum[n];if(0==n){if(d.MJData.handCardNum[0]%3!=2||d.MJData.handCardNum[0]-1>d.MJData.userCardArr.length)return u.UIManager.showTips("\u540c\u6b65\u670d\u52a1\u5668\u624b\u724c"),void l.NetManager.protocolKWX.C2S_GetRoomInfo();d.MJData.turnMeOperate=!0;var r=e.paiId,o=this.MJBool.isTing(d.MJData.userCardArr,r);a.LogWrap.log("\u6211\u83b7\u53d6\u624b\u724c\u4e86!!!!!!!!!!!!",r),d.MJData.userCardArr.push(r),a.LogWrap.log("\u5168\u90e8\u724c\u7684\u987a\u5e8f5:",d.MJData.userCardArr);var s=!1;if(d.MJData.handCardLiangState[0]){if(console.log("\u5df2\u660e==========="),1==h.KWXDefine.GAME_DATAS.param[13]){d.MJData.lightList.forEach(function(e,t){var n=d.MJData.userCardArr.indexOf(e);-1!=n&&d.MJData.userCardArr.splice(n,1)}),-1!=(m=d.MJData.userCardArr.indexOf(r))&&d.MJData.userCardArr.splice(m,1),f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.lightList.forEach(function(e,t){d.MJData.userCardArr.push(e)}),d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),d.MJData.userCardArr.push(r),this.KWXHandArea[0].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},!0,0),this.KWXHandArea[0].setHandValue(),this.KWXHandArea[0].setHandKouValue(!1),d.MJData.kouList.forEach(function(e){t.KWXHandArea[0].setHandKouValue(!0,e)});var c=[];d.MJData.lightList.forEach(function(e){c.push(e)}),-1==this.otherHuCard.indexOf(r)&&c.push(r),this.KWXHandArea[0].setMJGrey(d.MJData.userCardArr),console.log("\u4eae\u51fa\u6765\u7684\u724c\u662f:",c),this.KWXHandArea[0].setMJLight(c)}else{console.log("\u6478\u724c\u5168\u90e8\u4eae"),d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),this.KWXHandArea[n].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},!0,n),this.KWXHandArea[0].setHandValue(),this.KWXHandArea[0].setHandKouValue(!1),d.MJData.kouList.forEach(function(e){t.KWXHandArea[0].setHandKouValue(!0,e)}),this.KWXHandArea[0].setMJGrey(d.MJData.userCardArr);var g=[];d.MJData.lightList.forEach(function(e){g.push(e)}),-1==this.otherHuCard.indexOf(r)&&g.push(r),this.KWXHandArea[0].setMJLight(g)}this.MJBool.isTing(d.MJData.userCardArr,r)&&l.NetManager.protocolKWX.sendC2S_Hu()}else{var m;-1!=(m=d.MJData.userCardArr.indexOf(r))&&d.MJData.userCardArr.splice(m,1),f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.userCardArr.push(r),this.KWXHandArea[n].createHandMJ(d.MJData.userCardArr.length,n),console.log("\u6478\u724c\u540e\u624b\u724c\u724c\u503c",d.MJData.userCardArr),this.KWXHandArea[n].setHandValue();var y=this.MJBool.TingTips(d.MJData.userCardArr);this.otherHuCard.forEach(function(e,t){for(var n=0;n<4;n++){var i=y.indexOf(e);-1!=i&&y.splice(i,1)}}),this.KWXHandArea[n].setHandTingValue(!1),y.length>0&&(this.KWXHandArea[n].setHandTingValue(!0,y),s=!0),this.KWXHandArea[0].setMJGrey(this.otherHuCard),console.log("\u522b\u4eba\u660e\u724c\u80e1\u7684\u724c\u906e\u9ed1 11",this.otherHuCard);var b=this.KWXCpgArea[0].getCPGValue(),v=this.MJBool.getByAnGang(d.MJData.userCardArr),_=this.MJBool.getByBaGang([r],b);console.log("\u5df2\u7ecf\u78b0\u6760\u7684\u724c",b,v,_),d.MJData.gangList=[],1==h.KWXDefine.GAME_DATAS.param[11]&&d.MJData.leftCard<12&&(s=!1);var C=!0;if(s||o||v||_){var M=this.MJBool.getAnGang(d.MJData.userCardArr),S=this.MJBool.getBaGang([r],b);d.MJData.gangList=d.MJData.gangList.concat(M),d.MJData.gangList=d.MJData.gangList.concat(S),console.log("\u6760\u724c\u5217\u8868",d.MJData.gangList),-1!=d.MJData.gangList.indexOf(this.OperCardID)&&(v=!1,_=!1),this.otherHuCard.forEach(function(e,t){r==e&&_&&(_=!1,C=!1)}),M.length>0?this.OperCardID=M[0]:S.length>0?this.OperCardID=S[0]:this.OperCardID=e.id,d.MJData.OperState.gang=v||_,console.log(o),console.log("\u80e1\u63d0\u793a1410"),d.MJData.OperState.hu=o,d.MJData.OperState.peng=!1,d.MJData.handCardLiangState[0],d.MJData.OperState.ming=s,d.MJData.OperState.qi=C,console.log("\u5b9a\u65f65"),this.KWXOper.showOper(h.KWXDefine.GAME_DATAS.param[6])}}this.KWXTable.setClockTime(e.endTime)}else{this.KWXHandArea[n].createHandMJ(i,n),e.changeInfos[0].state!=p.MJOperState.PSMJ_XuanPiao&&(d.MJData.handCardLiangState[n]?this.updateUserInfo(e.changeInfos[0],!0):this.updateUserInfo(e.changeInfos[0]),f.default.sortCardList(d.MJData.userCardArr));var w=(new Date).getTime(),D=Math.ceil((1e3*e.changeInfos[0].endTime-w)/1e3);console.log("S2C_MoPai\u6478\u724c\u5b9a\u65f6",D),this.KWXTable.setClockTime(e.changeInfos[0].endTime)}},t.prototype.chooseGang=function(){var e=new Array;d.MJData.userCardArr.forEach(function(t,n){-1==d.MJData.gangList.indexOf(t)&&e.push(t)}),this.KWXHandArea[0].setMJGrey(e)},t.prototype.chooseMing=function(){var e=new Array;f.default.sortOtherCardList(d.MJData.userCardArr);var t=this.MJBool.kouBoolState(d.MJData.userCardArr,this.otherHuCard);a.LogWrap.log("\u9009\u62e9\u660ekouList",t);var n=this.MJBool.TingTips(d.MJData.userCardArr);if(a.LogWrap.log("\u9009\u62e9\u660etinglist",n),n.length>0&&this.KWXHandArea[0].setHandTingValue(!0,n),this.otherHuCard.forEach(function(e,t){for(var i=0;i<4;i++){var r=n.indexOf(e);-1!=r&&n.splice(r,1)}}),t.length>0)return d.MJData.DisableDragAndDrop=!0,this.KWXHandArea[0].setHandTingValue(!1),d.MJData.KouHandClick=!0,this.KWXOper.showMingOper(0),d.MJData.userCardArr.forEach(function(n,i){-1==t.indexOf(n)&&e.push(n)}),void this.KWXHandArea[0].setMJGrey(e);this.KWXOper.showMingOper(1);var i=this.MJBool.TingTips(d.MJData.userCardArr);this.otherHuCard.forEach(function(e,t){for(var n=0;n<4;n++){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}),console.log("\u522b\u4eba\u660e\u724c\u80e1\u7684\u724c\u906e\u9ed1 22",this.otherHuCard),this.KWXHandArea[0].setMJGrey(this.otherHuCard),d.MJData.userCardArr.forEach(function(t,n){console.log("\u5168\u90e8\u9ed1 22",t),-1==i.indexOf(t)&&e.push(t)}),this.KWXHandArea[0].setMJGrey(e)},t.prototype.sureMing=function(){var e=this;this.KWXHandArea[0].hideMJGrey(),d.MJData.KouHandClick=!1;var t=new Array,n=new Array;n=n.concat(d.MJData.userCardArr),a.LogWrap.log("\u9009\u62e9\u6263\u4e86\u54ea\u4e9b\u724c",n),d.MJData.kouList.forEach(function(t){n=e.getMingCard(n,t)});var i=n,r=this.MJBool.TingTips(i);this.otherHuCard.forEach(function(e,t){for(var n=0;n<4;n++){var i=r.indexOf(e);-1!=i&&r.splice(i,1)}}),console.log("\u522b\u4eba\u660e\u724c\u80e1\u7684\u724c\u906e\u9ed1",this.otherHuCard),this.KWXHandArea[0].setMJGrey(this.otherHuCard),this.KWXHandArea[0].setHandTingValue(!1),r.length>0&&this.KWXHandArea[0].setHandTingValue(!0,r),i.forEach(function(e,n){console.log("\u5168\u90e8\u9ed1",e),-1==r.indexOf(e)&&t.push(e)}),t=t.concat(this.otherHuCard),console.log("\u5269\u4f59\u7684\u724c3",t,r,i),this.KWXHandArea[0].setMJGrey(t)},t.prototype.onSubMingOper=function(e,t){var n=this;void 0===t&&(t=!1),console.log("\u83b7\u53d6\u660e\u724c\u7684\u724c==========",e);var i=f.default.getLocationID(e.position);d.MJData.chooseMingList.push(e.position);var r=[];e.liangPaiId.length>0&&(d.MJData.handCardLiangState[i]=!0);var o="xiangyang/";if(2==s.DataManager.storage.get("FangYan")?o="putong/":3==s.DataManager.storage.get("FangYan")?o="shiyan/":4==s.DataManager.storage.get("FangYan")&&(o="xiaogan/"),t||(0==e.position?this.showEffect("ming","kwx_sound/yinxiao/"+o+"liang_1"):this.showEffect("ming","kwx_sound/yinxiao/"+o+"liang_1a")),0==i){a.LogWrap.log("\u660e\u724c\u65f6\u81ea\u5df1\u7684\u724c\u6570\u91cf",d.MJData.handCardNum[i]),console.log("seat1111111111111111111111111111111111111111111111111111111",i),this.KWXHandArea[i].clearAllHand(),d.MJData.lightList=e.liangPaiId;var c=!1;if(d.MJData.handCardLiangState[i]&&1==h.KWXDefine.GAME_DATAS.param[13]){if(console.log("seat1111111111111111111111111111111111111111111111111111111\u90e8\u5206\u4eae",d.MJData.lightList),d.MJData.lightList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&d.MJData.userCardArr.splice(t,1)}),e.LastOnest>0){var l=d.MJData.userCardArr.indexOf(e.LastOnest);-1!=l&&d.MJData.userCardArr.splice(l,1)}this.KWXHandArea[0].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},!1,0),f.default.sortOtherCardList(d.MJData.userCardArr),d.MJData.lightList.forEach(function(e){d.MJData.userCardArr.push(e)}),d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);console.log("\u6263\u7684\u724c\u653e\u524d\u9762",t),-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),r=d.MJData.userCardArr,e.LastOnest>0&&(d.MJData.userCardArr.push(e.LastOnest),c=!0),this.KWXHandArea[0].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},c,0),this.KWXHandArea[0].setHandValue();var u=new Array;u=u.concat(d.MJData.kouList),a.LogWrap.log("\u9009\u62e9\u6263\u4e86\u54ea\u4e9b\u724conSubMingOper",u),d.MJData.kouList.forEach(function(e){u=n.getMingCard(u,e),n.KWXHandArea[0].setHandKouValue(!0,e)})}else{if(console.log("seat1111111111111111111111111111111111111111111111111111111\u4e0d\u662f\u90e8\u5206\u4eae"),e.LastOnest>0){var p=d.MJData.userCardArr.indexOf(e.LastOnest);-1!=p&&d.MJData.userCardArr.splice(p,1)}this.KWXHandArea[i].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},!0,i),f.default.sortOtherCardList(d.MJData.userCardArr),console.log("\u6700\u540e\u6478\u7684\u724c:",e.LastOnest),e.LastOnest>0&&d.MJData.userCardArr.push(e.LastOnest),console.log("\u5168\u90e8\u724c\u7684\u987a\u5e8f8:",d.MJData.userCardArr),d.MJData.kouList.forEach(function(e){var t=d.MJData.userCardArr.indexOf(e);-1!=t&&(d.MJData.userCardArr.splice(t,3),d.MJData.userCardArr.unshift(e,e,e))}),this.KWXHandArea[i].createHandLiangMJ(d.MJData.userCardArr.length,{x:60,y:0},!0,i),this.KWXHandArea[i].setHandValue();var g=new Array;g=g.concat(d.MJData.kouList),console.log("\u9009\u62e9\u6263\u4e86\u54ea\u4e9b\u724c",g,d.MJData.kouList),d.MJData.kouList.forEach(function(e){g=n.getMingCard(g,e),n.KWXHandArea[i].setHandKouValue(!0,e)}),r=(r=r.concat(d.MJData.kouList)).concat(this.otherHuCard)}this.KWXTable.showTing(i,e.huPaiId),console.log("\u81ea\u5df1\u660e\u724c\u90e8\u5206\u4eae",d.MJData.lightList),this.KWXHandArea[0].setMJGrey(r),this.KWXHandArea[i].setMJLight(d.MJData.lightList)}else{console.log("seat222222222222222222222222222222222222222222",i);var m={x:0,y:0};1==i?m.y=-35:2==i?m.y=35:3==i&&(m.x=-50),a.LogWrap.log("\u660e\u724c\u65f6\u5176\u4ed6\u4eba\u7684\u724c\u6570\u91cf",d.MJData.handCardNum[i]),this.KWXHandArea[i].clearAllHand(),this.KWXHandArea[i].createHandLiangMJ(d.MJData.handCardNum[i],m,!1,i),2==i||1==i?f.default.sortCardList(e.liangPaiId):f.default.sortOtherCardList(e.liangPaiId),this.KWXHandArea[i].setOtherHandValues(e.liangPaiId,i),this.KWXTable.showTing(i,e.huPaiId),this.otherHuCard=this.otherHuCard.concat(e.huPaiId),d.MJData.handCardLiangState[0]||this.KWXHandArea[0].setMJGrey(this.otherHuCard)}h.KWXDefine.PLAYER_DATAS.forEach(function(t){f.default.getLocationID(t.position)==i&&(t.liangHu=e.huPaiId,t.liang=e.liangPaiId)})},t.prototype.giveUpMing=function(e){var t=this;if(void 0===e&&(e=!1),d.MJData.kouList=[],d.MJData.chooseMingState=!1,d.MJData.KouHandClick=!1,this.KWXHandArea[0].setHandKouValue(!1),this.KWXHandArea[0].setHandTingValue(!1),this.KWXHandArea[0].hideMJGrey(),this.KWXHandArea[0].setMJGrey(this.otherHuCard),e){var n=(new Date).getTime(),i=Math.ceil((n-d.MJData.chooseMingTime)/1e3),r=h.KWXDefine.GAME_DATAS.param[6]-i;console.log("\u5b9a\u65f66",r),this.KWXOper.showOper(h.KWXDefine.GAME_DATAS.param[6]),h.KWXDefine.PLAYER_DATAS.forEach(function(e,n){if(e.playerId==s.DataManager.playerInfo.id.toString()){var i=e.position,r=f.default.getLocationID(i),a=t.MJBool.TingTips(d.MJData.userCardArr);a.length>0&&t.KWXHandArea[r].setHandTingValue(!0,a)}})}else this.KWXOper.hideOper()},t.prototype.getMingCard=function(e,t){var n=e.indexOf(t);e.splice(n,1);var i=e.indexOf(t);e.splice(i,1);var r=e.indexOf(t);return e.splice(r,1),e},t.prototype.deleteKou=function(e){var t=this;d.MJData.handCardLiangState[0]&&(d.MJData.kouList.forEach(function(t,n){t==e&&d.MJData.kouList.splice(n,1)}),this.KWXHandArea[0].setHandKouValue(!1),d.MJData.kouList.forEach(function(e,n){t.KWXHandArea[0].setHandKouValue(!0,e)}),this.KWXHandArea[0].setMJGrey(d.MJData.userCardArr),this.KWXHandArea[0].setMJLight(d.MJData.lightList))},t.prototype.onExitGame=function(e){if(console.log(h.KWXDefine.PLAYER_DATAS),!this.kwxResultView){for(var t=0;t<e.choose.length;t++)if(e.choose[t].playerId==s.DataManager.playerInfo.id.toString()&&e.choose[t].applyer)return;if(!this.node.getChildByName("ExitView")){var n=cc.instantiate(this.KWXExitView);this.node.addChild(n),this.kwxExtViewTs=n.getComponent("KWXExitView"),this.kwxExtViewTs._gameView=this,this.kwxExtViewTs.initData(e)}}},t.prototype.onSubExit=function(e){console.log("\u89e3\u6563\u66f4\u65b0\u73a9\u5bb6\u9009\u62e9",e);var t=f.default.getLocationID(e.position),n=null;h.KWXDefine.PLAYER_DATAS.forEach(function(t){t.playerId==e.playerId&&(n=t)}),3==t&&(t=0),e.agree?(h.KWXDefine.GAME_OVER=!0,this.kwxExtViewTs&&(e.choosed=!0,this.kwxExtViewTs.updateUserInfo(e,n))):(h.KWXDefine.GAME_OVER=!1,e.playerId!=s.DataManager.playerInfo.accountId&&(this.kwxExtViewTs&&this.kwxExtViewTs.node&&this.kwxExtViewTs.node.destroy(),u.UIManager.showKWXTipsPopup("\u73a9\u5bb6"+n.name+"\u4e0d\u540c\u610f\u89e3\u6563",function(){},1)))},t.prototype.updateUserInfo=function(e,t){switch(void 0===t&&(t=!1),e.state){case p.MJOperState.PSMJ_READY:console.log("\u663e\u793a\u51c6\u5907",e);break;case p.MJOperState.PSMJ_Wait:break;case p.MJOperState.PSMJ_XuanPiao:this.KWXOper.showPiao(e),this.isStartGame=!0;break;case p.MJOperState.PSMJ_ChuPai:case p.MJOperState.PSMJ_JieSuan:}},t.prototype.onResultShowOne=function(e){var t=this;this.topPanel.isShow(!0),this.KWXTable.closeClockTime(),console.log("\u5c0f\u7ed3\u7b97111111111111111111111111111111"),this.kwxExtViewTs&&this.kwxExtViewTs.node&&this.kwxExtViewTs.node.destroy(),this.closedissolution=!0;var n=[],i=[],r=!1,a=!1,o=!1,c="kwx_sound/yinxiao/xiangyang/",l=0;w.PDKRoomInfo.updateLastOutCard(null),e.jsi.forEach(function(e,a){var o=f.default.getLocationID(e.position);d.MJData.chooseMingList.push(e.position),d.MJData.handCardLiangState[o]=!0;var c={x:0,y:0};if(0==o?c.x=60:1==o?c.y=-35:2==o?c.y=34:3==o&&(c.x=-50),3==e.zimo&&t.KWXOutArea[o].delEndOutMJ(),t.KWXHandArea[o].removeAllHand(),t.KWXHandArea[o].clearAllHand(),d.MJData.userCardArr=e.shouPaiInfo,e.huPaiId&&e.huPaiId>0){var u=d.MJData.userCardArr.indexOf(e.huPaiId);-1!=u&&d.MJData.userCardArr.splice(u,1)}if(t.KWXHandArea[o].createHandLiangMJ(d.MJData.userCardArr.length,c,!0,o),f.default.sortOtherCardList(d.MJData.userCardArr),e.huPaiId&&e.huPaiId>0){d.MJData.handCardNum[o]=d.MJData.handCardNum[o]+1;d.MJData.handCardNum[o];var h=e.huPaiId;d.MJData.userCardArr.push(h)}t.KWXHandArea[o].createHandLiangMJ(d.MJData.userCardArr.length,c,!0,o),t.KWXHandArea[o].setHandValue(),t.KWXHandArea[o].setMJLight(d.MJData.userCardArr),e.paiXing.forEach(function(t){if(16!=t.paixing){for(var i=0,r=0;r<n.length;r++)n[r].paixing==t.paixing&&i++;0==i&&(n=n.concat(e.paiXing))}}),5==e.zimo&&(r=!0),e.maPaiId&&e.maPaiId.length>0&&(i=e.maPaiId),e.playerId==s.DataManager.playerInfo.id.toString()&&(l=e.position)});for(var u=0;u<e.jsi.length;u++)e.jsi[u].playerId==s.DataManager.playerInfo.id.toString()&&(3==e.jsi[u].zimo?a=!0:2!=e.jsi[u].zimo&&4!=e.jsi[u].zimo||(a=!1,o=!0));var p=new Map,g={15:1,3:2,8:3,10:4,9:5,13:6,12:7,11:8,2:9};n.forEach(function(e,t){void 0==g[e.paixing]&&(g[e.paixing]=10),p.set(e.paixing,g[e.paixing])});var m=Array.from(p);m.sort(function(e,t){return e[1]-t[1]}),2==s.DataManager.storage.get("FangYan")?c="kwx_sound/yinxiao/putong/":3==s.DataManager.storage.get("FangYan")?c="kwx_sound/yinxiao/shiyan/":4==s.DataManager.storage.get("FangYan")&&(c="kwx_sound/yinxiao/xiaogan/"),n.length>0?n.length>=2&&!a?(console.log("1\u52a8\u753b\u64ad\u653e==============="),this.showEffect(h.FanXingAniName[m[0][0]],c+h.FanXingPlaySFX[m[0][0]],h.FanXingAniName[m[1][0]],c+h.FanXingPlaySFX[m[1][0]])):n.length>=2&&a?(console.log("2\u52a8\u753b\u64ad\u653e==============="),this.showEffect("dianpao",c+"hu_1")):"hu_zimo"!=h.FanXingAniName[m[0][0]]||a?a?(console.log("5\u52a8\u753b\u64ad\u653e==============="),this.showEffect("dianpao",c+"hu_1")):o?(console.log("7\u52a8\u753b\u64ad\u653e==============="),this.showEffect("hu",c+"hu_1")):(console.log("6\u52a8\u753b\u64ad\u653e==============="),this.showEffect(h.FanXingAniName[m[0][0]],c+h.FanXingPlaySFX[m[0][0]])):(console.log("4\u52a8\u753b\u64ad\u653e==============="),this.showEffect("hu",c+"hu_1")):r?this.showEffect("hu_huangzhuang","kwx_sound/yinxiao/huang"):a&&0==l?(console.log("7\u52a8\u753b\u64ad\u653e==============="),this.showEffect("dianpao",c+"hu_1")):o?(console.log("10\u52a8\u753b\u64ad\u653e==============="),this.showEffect("hu",c+"hu_1")):"hu_zimo"==h.FanXingAniName[1]&&a?(console.log("8\u52a8\u753b\u64ad\u653e==============="),this.showEffect("dianpao",c+"hu_1")):(console.log("9\u52a8\u753b\u64ad\u653e==============="),this.showEffect(h.FanXingAniName[1],c+h.FanXingPlaySFX[1]));var y=1;this.KWXResultView&&setTimeout(function(){i.length>0&&(t.showMaiMa(i),y=i.length);var n=e.nextStartTime-e.endTime;console.log("\u5c0f\u7ed3\u7b97\u5b9a\u65f6:",n),t.KWXTable.setClockTime(n),t.KWXTable.closeClockTime(),t.scheduleOnce(function(){var t=this;this.KWXHandArea[0].setHandKouValue(!1),this.KWXHandArea[0].setHandTingValue(!1),this.kwxResultView=cc.instantiate(this.KWXResultView),this.kwxResultView.active=!0,this.kwxResultView.opacity=0,this.node.addChild(this.kwxResultView);var n=this.kwxResultView.getComponent("KWXResultView");n._gameView=this,n.showOneDetail(e,!1),this.KWXPlayer.forEach(function(e){e.setPiaoIcon(!1,0)});for(var i=0;i<e.jsi.length;i++)e.jsi[i].playerId==s.DataManager.playerInfo.id.toString()&&(e.jsi[i].socreAdd>0?S.AudioManager.playSFX("kwx_sound/yinxiao/gameover_win.mp3"):S.AudioManager.playSFX("kwx_sound/yinxiao/gameover_lose.mp3"));this.KWXTable.hideTing(0),this.KWXTable.hideTing(1),this.KWXTable.hideTing(2),this.KWXTable.hideTing(3),this.KWXHandArea.forEach(function(e){e.removeAllHand(),e.clearAllHand()}),this.KWXCpgArea.forEach(function(e){e.clearCPGMJ()}),e.jsi.forEach(function(e,n){var i=f.default.getLocationID(e.position);t.KWXOutArea[i].removeAllOut()})},y+2)},1500)},t.prototype.showMaiMa=function(e){var t=cc.instantiate(this.MaimaView);this.node.addChild(t);var n=t.getComponent("MaimaView");n._gameView=this,n.initData(e)},t.prototype.onResultShowMore=function(e){console.log(e),console.log("\u5927\u7ed3\u7b97\u6570\u636e11111111111111111111111111111"),h.KWXDefine.GAME_OVER=!0,this.isStartGame=!1,h.KWXDefine.TOTAL_DATA=e},t.prototype.SpecialResult=function(e,t){var n=new Array;n=e.concat(t),f.default.sortOtherCardList(e),f.default.sortOtherCardList(n);var i=new Array;i=(i=(i=(i=e.concat(p.MJCPGCards[p.MJOperType.Peng])).concat(p.MJCPGCards[p.MJOperType.BuGang])).concat(p.MJCPGCards[p.MJOperType.MingGang])).concat(p.MJCPGCards[p.MJOperType.AnGang]),f.default.sortOtherCardList(i);var r=i.concat(t);f.default.sortOtherCardList(r);return console.log("\u662f\u4e0d\u662f\u5361\u4e94\u661f"+this.MJBool.isKWX(e,t)),this.MJBool.isMingSiGui(p.MJCPGCards[p.MJOperType.Peng],n)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u660e\u56db\u5f52\u4e00"),!0):this.MJBool.isAnSiGui(n)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u6697\u56db\u5f52\u4e00"),!0):this.MJBool.isSevenDouble(n)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u4e03\u5bf9"),!0):this.MJBool.isDaSanYuan(r)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u5927\u4e09\u5143"),!0):this.MJBool.isXiaoSanYuan(r)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u5c0f\u4e09\u5143"),!0):this.MJBool.isQingYiSe(i)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u6e05\u4e00\u8272"),!0):this.MJBool.isKWX(e,t)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u5361\u4e94\u661f"),!0):this.MJBool.isShouZhuaYi(e)?(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u624b\u6293\u4e00"),!0):!!this.MJBool.isPengPengHu(n)&&(console.log("\u7279\u6b8a\u724c\u578b\u5224\u65ad","\u78b0\u78b0\u80e1"),!0)},t.prototype.showEffect=function(e,t,n,i){var r=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),console.log(e),console.log(t),e){this.effect_ani.active=!0;var a=this.effect_ani.getComponent(sp.Skeleton);a.timeScale=.75,a.animation=e,a.setAnimation(0,e,!0)&&a.setCompleteListener(function(e,t){console.log("\u8fd9\u4e2a\u52a8\u4f5c\u7ed3\u675f\u4e86"),r.effect_ani.active=!1,null!=n&&(r.showEffect(n),S.AudioManager.playSFX(i+".mp3"))})}t&&S.AudioManager.playSFX(t+".mp3")},t.prototype.onClickMenuchat=function(e){this.menuchat.active=!this.menuchat.active},t.prototype.onDestroy=function(){l.NetManager.protocolKWX.pauseListen(),h.KWXDefine.GAME_OVER=!1,c.EventManager.off(this)},t.prototype.getLocationID=function(e){if(2==h.KWXDefine.GAME_PLAYER)return h.KWXDefine.SEAT_ID==e?0:3;var t=h.KWXDefine.SEAT_ID,n=e,i=h.KWXDefine.GAME_PLAYER;return(n-t+i)%i},t.prototype.playChat=function(e,t){console.log("\u6211\u7684\u8eab\u4efd\u662f:"+this.getLocationID(e));var n=this.getLocationID(e),i=h.CHAT_Mp3[t];S.AudioManager.playSFX(i),this.KWXPlayer[n].setChatContent(h.CHAT_TEXT[t])},t.prototype.playExpression=function(e,t,n){var i=h.SKE_ANIM[n],r=this,a=h.SKE_Mp3[n];cc.loader.loadRes("game/kwx/skeleton/"+i,sp.SkeletonData,function(n,i){var o=r.KWXPlayer[r.getLocationID(e)].node.position,s=r.KWXPlayer[r.getLocationID(t)].node.position,c=new cc.Node;c.position=o;var l=c.addComponent(sp.Skeleton);l.skeletonData=i,l.premultipliedAlpha=!1,r.node.addChild(c);var u=[];for(var h in l.skeletonData.skeletonJson.animations)console.log(h),u.push(h);var f=u[0];c.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(.5,s),cc.callFunc(function(){S.AudioManager.playSFX(a+".mp3"),l.setAnimation(0,f,!1)}))),l.setCompleteListener(function(){c.destroy()})})},t.prototype.onSetbackground=function(e){var t=e.target.name;"toggle1"==t?(this.mbj[1].active=!1,this.mbj[2].active=!1,this.mbj[0].active=!0,s.DataManager.storage.set("Setbackground",1)):"toggle2"==t?(this.mbj[1].active=!0,this.mbj[2].active=!1,this.mbj[0].active=!1,s.DataManager.storage.set("Setbackground",2)):(this.mbj[1].active=!1,this.mbj[2].active=!0,this.mbj[0].active=!1,s.DataManager.storage.set("Setbackground",3))},t.prototype.onbrand=function(e){var t=e.target.name;if("toggle1"==t)if(h.KWXDefine.pifu=0,s.DataManager.storage.set("brand",0),2==h.KWXDefine.GAME_PLAYER)this.KWXHandArea[0].setbrand(!1),this.KWXHandArea[3].setbrand(!1),this.KWXCpgArea[0].setbrand(),this.KWXCpgArea[3].setbrand(),this.KWXOutArea[0].setbrand(),this.KWXOutArea[3].setbrand();else for(var n=0;n<3;n++)this.KWXHandArea[n].setbrand(!1),this.KWXCpgArea[n].setbrand(),this.KWXOutArea[n].setbrand();else if("toggle2"==t)if(h.KWXDefine.pifu=1,s.DataManager.storage.set("brand",1),2==h.KWXDefine.GAME_PLAYER)this.KWXHandArea[0].setbrand(!1),this.KWXHandArea[3].setbrand(!1),this.KWXCpgArea[0].setbrand(),this.KWXCpgArea[3].setbrand(),this.KWXOutArea[0].setbrand(),this.KWXOutArea[3].setbrand();else for(n=0;n<3;n++)this.KWXHandArea[n].setbrand(!1),this.KWXCpgArea[n].setbrand(),this.KWXOutArea[n].setbrand();else if(h.KWXDefine.pifu=2,s.DataManager.storage.set("brand",2),2==h.KWXDefine.GAME_PLAYER)this.KWXHandArea[0].setbrand(!1),this.KWXHandArea[3].setbrand(!1),this.KWXCpgArea[0].setbrand(),this.KWXCpgArea[3].setbrand(),this.KWXOutArea[0].setbrand(),this.KWXOutArea[3].setbrand();else for(n=0;n<3;n++)this.KWXHandArea[n].setbrand(!1),this.KWXCpgArea[n].setbrand(),this.KWXOutArea[n].setbrand()},t.prototype.ongongju=function(){this.gongju.active=!this.gongju.active},t.prototype.onRaumerneuerung=function(){l.NetManager.protocolKWX.C2S_GetRoomInfo()},r([R(M.default)],t.prototype,"topPanel",void 0),r([R(b.default)],t.prototype,"KWXOper",void 0),r([R(C.default)],t.prototype,"KWXTable",void 0),r([R(y.default)],t.prototype,"KWXHandArea",void 0),r([R(m.default)],t.prototype,"KWXCpgArea",void 0),r([R(v.default)],t.prototype,"KWXOutArea",void 0),r([R(_.default)],t.prototype,"KWXPlayer",void 0),r([R(cc.Prefab)],t.prototype,"MJHandPfb",void 0),r([R(cc.Node)],t.prototype,"nodecard",void 0),r([R(cc.Prefab)],t.prototype,"KWXResultView",void 0),r([R(cc.Prefab)],t.prototype,"KWXExitView",void 0),r([R(cc.EditBox)],t.prototype,"input_p",void 0),r([R(cc.Node)],t.prototype,"effect_ani",void 0),r([R(cc.Prefab)],t.prototype,"MaimaView",void 0),r([R(cc.Node)],t.prototype,"ErRen",void 0),r([R(cc.Node)],t.prototype,"SanRen",void 0),r([R(cc.Node)],t.prototype,"chat",void 0),r([R(cc.Node)],t.prototype,"menuchat",void 0),r([R(cc.Node)],t.prototype,"mbj",void 0),r([R(cc.Node)],t.prototype,"NetworkType",void 0),r([R(cc.Node)],t.prototype,"powers",void 0),r([R(cc.Node)],t.prototype,"powers1",void 0),r([R(cc.Label)],t.prototype,"Timedata",void 0),r([R(cc.Node)],t.prototype,"mNetworkzt",void 0),r([R(cc.Node)],t.prototype,"gongju",void 0),r([R(cc.Node)],t.prototype,"mtool",void 0),r([R(cc.Node)],t.prototype,"spriteCacheNode",void 0),t=r([k],t)}(D.default);n.default=O,cc._RF.pop()},{"../../Define":"Define","../../common/log/LogWrap":"LogWrap","../../common/utils/Utils":"Utils","../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/DataManagerClub":"DataManagerClub","../../manager/EventClubDef":"EventClubDef","../../manager/EventManager":"EventManager","../../manager/NetManager":"NetManager","../../manager/UIManager":"UIManager","../../net/NetCmd":"NetCmd","../../view/base/BaseView":"BaseView","../pdk/PDKRoomInfo":"PDKRoomInfo","./KWXDefine":"KWXDefine","./KWXTool":"KWXTool","./MJBool":"MJBool","./MJData":"MJData","./MJDefine":"MJDefine","./protocol/KWXCmd":"KWXCmd","./ui/KWXCpgArea":"KWXCpgArea","./ui/KWXHandArea":"KWXHandArea","./ui/KWXOper":"KWXOper","./ui/KWXOutArea":"KWXOutArea","./ui/KWXPlayer":"KWXPlayer","./ui/KWXTable":"KWXTable","./ui/KWXTopPanel":"KWXTopPanel"}],KWXHandArea:[function(e,t,n){"use strict";cc._RF.push(t,"e0f89fv/rVDZ47o/KvDfmwu","KWXHandArea");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../MJCardBase"),c=e("../MJHandAreaBase"),l=e("../KWXDefine"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flower_area=null,t.hua_card=null,t.ArrowTing=null,t}return i(t,e),t.prototype.createHuaCard=function(e){return a(this,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:t=0,i.label=1;case 1:return t<e.length?[4,(n=cc.instantiate(this.hua_card)).getComponent(s.default).setSpirteValue(e[t])]:[3,4];case 2:i.sent(),this.flower_area.addChild(n),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.addArrowTing=function(e){for(var t=this.mj_hand.childrenCount,n=0;n<t;n++){var i=this.mj_hand.children[n];if(e==i.getComponent(s.default).getCardValue()){var r=cc.instantiate(this.ArrowTing);r.setPosition(cc.v2(0,80)),i.addChild(r)}}},t.prototype.removeArrowTing=function(){for(var e=this.mj_hand.childrenCount,t=0;t<e;t++){var n=this.mj_hand.children[t];null!=n.getChildByName("ArrowTing")&&n.getChildByName("ArrowTing").removeFromParent()}},t.prototype.setMJGrey=function(e){this.mj_hand.children.forEach(function(t){var n=t.getComponent(s.default).getCardValue();-1!=e.indexOf(n)||t.getComponent(s.default).getKouState()?t.getComponent(s.default).setGreyBack(!0):t.getComponent(s.default).setGreyBack(!1)})},t.prototype.setMJLight=function(e){var t=[];if(t=t.concat(e),console.log("\u4e0d\u9ed1\u7684\u724c",t),console.log("\u90e8\u5206\u4eae\u9ebb\u5c06\u542c\u724c\u6570\u7ec4",t,this.mj_hand.children.length),1==l.KWXDefine.GAME_DATAS.param[13]&&t.length>0)for(var n=this.mj_hand.children.length-1;n>=0;n--){var i=this.mj_hand.children[n].getComponent(s.default).getCardValue(),r=t.indexOf(i);-1!=r&&(t.splice(r,1),this.mj_hand.children[n].getComponent(s.default).setGreyBack(!1))}else this.mj_hand.children.forEach(function(e){var n=e.getComponent(s.default).getCardValue(),i=t.indexOf(n);-1!=i&&(t.splice(i,1),e.getComponent(s.default).setGreyBack(!1))})},t.prototype.hideMJGrey=function(){this.mj_hand.children.forEach(function(e){e.resumeSystemEvents(!0),e.getComponent(s.default).setGreyBack(!1)})},t.prototype.removeHuaCard=function(){this.flower_area.removeAllChildren()},r([f(cc.Node)],t.prototype,"flower_area",void 0),r([f(cc.Prefab)],t.prototype,"hua_card",void 0),r([f(cc.Prefab)],t.prototype,"ArrowTing",void 0),t=r([h],t)}(c.default);n.default=d,cc._RF.pop()},{"../KWXDefine":"KWXDefine","../MJCardBase":"MJCardBase","../MJHandAreaBase":"MJHandAreaBase"}],KWXOper:[function(e,t,n){"use strict";cc._RF.push(t,"11ab0lo8wZJ04vUG9d0Q/U4","KWXOper");var i,r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),a=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../../../common/utils/Utils"),l=e("../../../manager/NetManager"),u=e("../../../manager/ResManager"),h=e("../MJData"),f=e("../MJDefine"),d=e("../KWXDefine"),p=e("../../../common/log/LogWrap"),g=((i={})[f.MJOperType.Hu]="hu",i[f.MJOperType.Peng]="peng",i[f.MJOperType.MingGang]="gang",i[f.MJOperType.AnGang]="gang",i[f.MJOperType.BuGang]="gang",cc._decorator),m=g.ccclass,y=g.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_oper=null,t.node_btn=null,t.node_piao=null,t.node_clock=null,t.node_mingoper=null,t.btn_start=null,t.btn_changedesk=null,t.btn_continue=null,t.piaoList=[],t.btn_peng=null,t.btn_gang=null,t.btn_hu=null,t.btn_ming=null,t.btn_qi=null,t.btn_sure=null,t.btn_cancel=null,t.clock_num=null,t.GameView=null,t.time_num=15,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.hideOper(),this.btn_start=this.node_btn.getChildByName("btn_start"),this.btn_changedesk=this.node_btn.getChildByName("btn_changedesk"),this.btn_continue=this.node_btn.getChildByName("btn_continue"),this.clock_num=this.node_clock.getChildByName("time").getComponent(cc.Label),this.btn_sure=this.node_mingoper.getChildByName("btn_sure"),this.btn_cancel=this.node_mingoper.getChildByName("btn_cancel"),c.default.addClickEventEND(this.btn_sure,this.onClickMingOperEvent.bind(this)),c.default.addClickEventEND(this.btn_cancel,this.onClickMingOperEvent.bind(this));for(var e=0;e<3;e++)this.piaoList[e]=this.node_piao.getChildByName("piao"+e),c.default.addClickEventEND(this.piaoList[e],this.onClickOperPiaoEvent.bind(this));c.default.addClickEventEND(this.btn_start,this.onClickOperEvent.bind(this)),c.default.addClickEventEND(this.btn_changedesk,this.onClickOperEvent.bind(this)),c.default.addClickEventEND(this.btn_continue,this.onClickOperEvent.bind(this)),this.btn_gang=this.node_oper.getChildByName("gang"),this.btn_peng=this.node_oper.getChildByName("peng"),this.btn_hu=this.node_oper.getChildByName("hu"),this.btn_ming=this.node_oper.getChildByName("ming"),this.btn_qi=this.node_oper.getChildByName("qi"),c.default.addClickEventEND(this.btn_gang,this.onClickOperEvents.bind(this)),c.default.addClickEventEND(this.btn_hu,this.onClickOperEvents.bind(this)),c.default.addClickEventEND(this.btn_ming,this.onClickOperEvents.bind(this)),c.default.addClickEventEND(this.btn_qi,this.onClickOperEvents.bind(this)),c.default.addClickEventEND(this.btn_peng,this.onClickOperEvents.bind(this))},t.prototype.onDestroy=function(){},t.prototype.showOper=function(e){void 0===e&&(e=10),console.log("\u5c55\u793a\u660e\u724c\u6309\u94ae",h.MJData.OperState.ming,e),this.setClockTime(e),this.node_oper.active=!0,this.btn_peng.active=h.MJData.OperState.peng,this.btn_hu.active=h.MJData.OperState.hu,this.btn_gang.active=h.MJData.OperState.gang,this.btn_ming.active=h.MJData.OperState.ming,this.btn_qi.active=h.MJData.OperState.qi},t.prototype.showBtn=function(e,t){void 0===t&&(t=12),console.log("\u5b9a\u65f6\u72b6\u6001\u662f:"+this.btn_start.active),console.log("\u5b9a\u65f6\u4e00",d.KWXDefine.GAME_DATAS.param[6]),this.setClockTime(t),this.node_btn.active=!0,this.node_oper.active=!1,this.node_piao.active=!1,1==e?(this.btn_continue.active=!1,this.btn_start.active=!0):2==e?(this.btn_continue.active=!1,this.btn_start.active=!0,this.btn_start.x=0,this.btn_changedesk.active=!1):(this.btn_continue.active=!0,this.btn_start.active=!1)},t.prototype.showPiao=function(e){console.log("\u9009\u6f02\u663e\u793a:showPiao",e.endTime);var t=(new Date).getTime(),n=Math.ceil((1e3*e.endTime-t)/1e3);this.setClockTime(n),this.node_btn.active=!1,this.node_oper.active=!1,this.node_piao.active=!0},t.prototype.showMingOper=function(e){this.node_btn.active=!1,this.node_oper.active=!1,this.node_piao.active=!1,this.node_mingoper.active=!0,this.btn_cancel.active=!0,1==e?(this.btn_sure.active=!1,this.setSpirteValue(2)):(this.btn_sure.active=!0,this.setSpirteValue(1))},t.prototype.onClickOperPiaoEvent=function(e){var t=e.name;console.log("TTTTT",t);var n=0;"piao0"==t?n=0:"piao1"==t?n=1:"piao2"==t&&(n=2),l.NetManager.protocolKWX.sendC2S_XuanPiao(n),this.node_clock.active=!1,this.node_piao.active=!1},t.prototype.onClickMingOperEvent=function(e){var t=e.name;if("btn_sure"==t){var n=(new Date).getTime();h.MJData.chooseMingTime=n,this.GameView.sureMing(),this.btn_sure.active=!1,this.setSpirteValue(2),this.unschedule(this.quxiaoMing),h.MJData.DisableDragAndDrop=!1}else"btn_cancel"==t&&(this.node_mingoper.active=!1,this.node_clock.active=!1,this.GameView.giveUpMing(!0),this.GameView.KWXTable.hideTing(0),h.MJData.DisableDragAndDrop=!1)},t.prototype.setSpirteValue=function(e){return o(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return[4,u.ResManager.loadResAsync("game/kwx/res/select_tips"+e,cc.SpriteFrame)];case 1:return t=n.sent(),this.node_mingoper.getChildByName("sprtips").getComponent(cc.Sprite).spriteFrame=t,[2]}})})},t.prototype.onClickOperEvent=function(e){var t=e.name;"btn_start"==t?l.NetManager.protocolKWX.sendC2S_Ready():"btn_changedesk"==t?l.NetManager.protocolKWX.sendC2S_Continue():"btn_continue"==t&&l.NetManager.protocolKWX.sendC2S_Contiue(),this.node_btn.active=!1,this.node_clock.active=!1},t.prototype.onClickOperEvents=function(e){var t=e.name;if("peng"==t)l.NetManager.protocolKWX.sendC2S_Peng();else if("gang"==t){console.log("\u6760MJOper"),p.LogWrap.log("\u5224\u65ad\u6709\u51e0\u4e2a\u6760",h.MJData.gangList);for(var n=h.MJData.gangList,i=[],r=0;r<n.length;r++){var a=n[r];-1==i.indexOf(a)&&i.push(a)}i.length>1?(this.node_mingoper.active=!0,this.btn_sure.active=!1,this.btn_cancel.active=!1,h.MJData.GangHandClick=!0,this.setSpirteValue(3),this.GameView.chooseGang()):(h.MJData.GangHandClick=!1,l.NetManager.protocolKWX.sendC2S_Gang(this.GameView.OperCardID))}else"hu"==t?l.NetManager.protocolKWX.sendC2S_Hu():"ming"==t?(this.GameView.chooseMing(),h.MJData.chooseMingState=!0):"qi"==t&&(this.GameView.OperCardID=-1,l.NetManager.protocolKWX.sendC2S_GiveUp(),this.GameView.KWXTable.hideTing(0));this.node_oper.active=!1,this.node_clock.active=!1},t.prototype.setClockTime=function(e){if(e>1e3){var t=(new Date).getTime();this.time_num=Math.ceil((1e3*e-t)/1e3)}else 3==e?this.time_num=e:(e<=0&&(e=d.KWXDefine.GAME_DATAS.param[6]),this.time_num=e);console.log("\u8bbe\u7f6e\u7684\u5012\u8ba1\u65f6\u65f6\u95f4:"+this.time_num),this.onUpdateTimer(),this.unschedule(this.onUpdateTimer),this.schedule(this.onUpdateTimer,1)},t.prototype.onUpdateTimer=function(){if(this.time_num<0)return this.unschedule(this.onUpdateTimer),this.btn_hu.active&&l.NetManager.protocolKWX.sendC2S_Hu(),this.clock_num.node.parent.active=!1,this.node_btn.active=!1,this.node_oper.active=!1,void(this.node_piao.active=!1);this.clock_num.string=this.time_num+"",this.time_num--},t.prototype.hideOper=function(){this.node_oper.active=!1,this.node_piao.active=!1,this.node_mingoper.active=!1,this.node_btn.active=!1,this.node_clock.active=!1},t.prototype.showReadyBtn=function(e){void 0===e&&(e=!1),this.node_btn.active=e},t.prototype.zhixingMing=function(){this.quxiaoMing(),this.schedule(this.quxiaoMing,1)},t.prototype.quxiaoMing=function(){console.log("\u53d6\u6d88\u9009\u62e9\u660e\u724c==============="),0==this.time_num&&(this.unschedule(this.quxiaoMing),this.node_mingoper.active=!1,this.node_clock.active=!1,this.GameView.giveUpMing(!1),h.MJData.DisableDragAndDrop=!1,this.GameView.KWXTable.hideTing(0))},a([y(cc.Node)],t.prototype,"node_oper",void 0),a([y(cc.Node)],t.prototype,"node_btn",void 0),a([y(cc.Node)],t.prototype,"node_piao",void 0),a([y(cc.Node)],t.prototype,"node_clock",void 0),a([y(cc.Node)],t.prototype,"node_mingoper",void 0),t=a([m],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../common/log/LogWrap":"LogWrap","../../../common/utils/Utils":"Utils","../../../manager/NetManager":"NetManager","../../../manager/ResManager":"ResManager","../KWXDefine":"KWXDefine","../MJData":"MJData","../MJDefine":"MJDefine"}],KWXOutArea:[function(e,t,n){"use strict";cc._RF.push(t,"473dfVn3OdEr5TzB52H7+9j","KWXOutArea");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../MJCardBase"),o=e("../MJOutAreaBase"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_bright=null,t.shotArrow=null,t}return i(t,e),t.prototype.addCardBright=function(e){for(var t=this.node_outArea.childrenCount,n=0;n<t;n++){var i=this.node_outArea.children[n],r=i.getComponent(a.default).getCardValue(),o=i.getComponent(a.default).getCardBackNode();null==o.getChildByName("CardBright")&&o.addChild(cc.instantiate(this.node_bright)),o.getChildByName("CardBright").active=r==e}},t.prototype.hideCardBright=function(){for(var e=this.node_outArea.childrenCount,t=0;t<e;t++){var n=this.node_outArea.children[t].getComponent(a.default).getCardBackNode().getChildByName("CardBright");null!=n&&(n.active=!1)}},t.prototype.showShotArrow=function(){console.log("\u6700\u540e\u6253\u51fa\u7684\u724c\u9700\u8981\u663e\u793a\u4e2a\u7bad\u5934"),this.shotArrow.active=!0,this.shotArrow.stopAllActions();var e=this.getLastAddCard().position,t=this.node_outArea.convertToWorldSpaceAR(e),n=this.shotArrow.parent.convertToNodeSpaceAR(t);this.shotArrow.setPosition(n.x,n.y+30);var i=cc.moveBy(.4,cc.v2(0,10)),r=cc.moveBy(.4,cc.v2(0,-10)),a=cc.repeatForever(cc.sequence(i,r));this.shotArrow.runAction(a)},t.prototype.hideShotArrow=function(){this.shotArrow.active&&(this.shotArrow.active=!1)},r([l(cc.Prefab)],t.prototype,"node_bright",void 0),r([l(cc.Node)],t.prototype,"shotArrow",void 0),t=r([c],t)}(o.default);n.default=u,cc._RF.pop()},{"../MJCardBase":"MJCardBase","../MJOutAreaBase":"MJOutAreaBase"}],KWXPanDuan:[function(e,t,n){"use strict";cc._RF.push(t,"77fe5mjKNhDHK92XMWa7/3e","KWXPanDuan"),cc.Class({extends:cc.Component,properties:{},start:function(){Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Array.remove||(Array.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&(this.splice(t,1),!0)})}}),cc._RF.pop()},{}],KWXPlayback:[function(e,t,n){"use strict";cc._RF.push(t,"b783aTKeMNNtayzhbq1fvc/","KWXPlayback");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../view/base/BaseView"),o=e("../../manager/AudioManager"),s=e("../../manager/DataManager"),c=e("../../manager/UIManager"),l=e("./KWXDefine"),u=e("./MJData"),h=e("./KWXTool"),f=e("./ui/KWXPlayer"),d=e("./ui/KWXHandArea"),p=e("./ui/KWXOutArea"),g=e("./ui/KWXCpgArea"),m=e("./MJDefine"),y=e("../../manager/SoundEffect"),b=e("../../manager/NetManager"),v=e("./MJCardBase"),_=e("./MJCPGBase"),C=e("../../net/HttpUrl"),M=e("../../net/NetCode"),S=e("./ui/KWXTable"),w=cc._decorator,D=w.ccclass,E=w.property,A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.KWXPlayer=[],t.KWXHandArea=[],t.KWXCpgArea=[],t.KWXOutArea=[],t.effect_ani=null,t.btn_pause=null,t.btn_continue=null,t.KWXResultView=null,t.MaimaView=null,t.ErRen=null,t.SanRen=null,t.KWXTable=null,t.spriteCacheNode=null,t.userCardArr=[],t.positions=null,t.index=0,t.callback=null,t.total=!1,t.playback=null,t.kwxResultView=null,t.kwxExtViewTs=null,t.delayTime=0,t.isStartGame=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=cc.winSize;e.width<=1334?(this.KWXHandArea[0].node.scale=1.1,this.KWXOutArea[0].node.scale=.8,this.KWXOutArea[3].node.scale=.8,this.KWXCpgArea[0].node.scale=1.1,this.KWXCpgArea[3].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/3,this.KWXOutArea[3].startPos.x=e.width/3):(this.KWXHandArea[0].node.scale=1.3,this.KWXOutArea[0].node.scale=1,this.KWXOutArea[3].node.scale=1,this.KWXCpgArea[0].node.scale=1.3,this.KWXCpgArea[3].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/4,this.KWXOutArea[3].startPos.x=e.width/4),o.AudioManager.playBGM("kwx_sound/bgmdz.mp3"),this.loadRes()},t.prototype.start=function(){var e=s.DataManager.storage.get("Music_switch"),t=s.DataManager.storage.get("Music_YinXiaoQuan");0==e?o.AudioManager.setBGMVolume(0):o.AudioManager.setBGMVolume(.3),0==t?o.AudioManager.setSFXVolume(0):o.AudioManager.setSFXVolume(1),o.AudioManager.playSFX(y.SoundEffect.button),this.PlaybackRoomInfo(this.data)},t.prototype.loadRes=function(){for(var e=0;e<this.spriteCacheNode.childrenCount;e++){var t=this.spriteCacheNode.children[e].getComponent(cc.Sprite);u.MJData.setSprite(this.spriteCacheNode.children[e].name,t.spriteFrame)}},t.prototype.initNode=function(){if(2==l.KWXDefine.GAME_PLAYER)console.log("\u8fd9\u662f\u4e24\u4eba\u73a9\u6cd5"),this.ErRen.active=!0,this.SanRen.active=!1,this.KWXTable.node.getChildByName("paiju").position=cc.v2(141,45),this.KWXTable.node.getChildByName("left_node").position=cc.v2(-148,45),this.KWXTable.node.getChildByName("kuaisuchang").position=cc.v2(0,132),this.KWXTable.node.getChildByName("clockBG").active=!0,this.KWXTable.node.getChildByName("clockBGsanren").active=!1;else{console.log("\u8fd9\u662f\u4e09\u4eba\u73a9\u6cd5");var e=cc.winSize;e.width<=1334?(this.KWXOutArea[0].node.scale=.8,this.KWXOutArea[1].node.scale=.8,this.KWXOutArea[2].node.scale=.8,this.KWXCpgArea[0].node.scale=1.1,this.KWXCpgArea[1].node.scale=.8,this.KWXCpgArea[2].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/3):(this.KWXOutArea[0].node.scale=1,this.KWXOutArea[1].node.scale=1,this.KWXOutArea[2].node.scale=1,this.KWXCpgArea[0].node.scale=1.3,this.KWXCpgArea[1].node.scale=.8,this.KWXCpgArea[2].node.scale=.8,this.KWXOutArea[0].startPos.x=e.width/4),this.KWXTable.node.getChildByName("left_node").position=cc.v2(0,230),this.KWXTable.node.getChildByName("paiju").position=cc.v2(0,340),this.KWXTable.node.getChildByName("kuaisuchang").position=cc.v2(0,44),this.KWXTable.node.getChildByName("clockBGsanren").active=!0,this.KWXTable.node.getChildByName("clockBG").active=!1,this.ErRen.active=!1,this.SanRen.active=!0}},t.prototype.PlaybackRoomInfo=function(e){var t=this;console.log("\u56de\u653e\u6570\u636e:",e),l.KWXDefine.GAME_PLAYER=e.player_info.length,console.log("\u7528\u6237\u4fe1\u606f1",e.player_info),l.KWXDefine.PLAYER_DATAS=e.player_info,s.DataManager.gameType=e.game_type,this.btn_pause.active=!0,this.playback=e,console.log("\u8fdb\u5165\u6570\u636e",this.playback.param),l.KWXDefine.ROOM_ID=this.playback.paiju_id,l.KWXDefine.GAME_DATAS=this.playback.param,console.log("KWXDefine.GAME_DATAS",l.KWXDefine.GAME_DATAS.playerCount),l.KWXDefine.GAME_PLAYER=this.playback.player_count,l.KWXDefine.JUSHU=e.jushu,2==l.KWXDefine.GAME_PLAYER?u.MJData.leftCard=57:u.MJData.leftCard=44,this.KWXTable.setLeftCard(),this.initNode(),this.KWXTable.setRoomInfo();l.KWXDefine.PLAYER_DATAS.forEach(function(n,i){var r=h.default.huifanggetLocationID(n.position);t.KWXPlayer[r].setUserInfo(n),t.KWXPlayer[r].setBankerIcon(n.position==e.zhuang_position),u.MJData.userCardArr=n.shoupai,console.log("\u4f4d\u7f6e\u4fe1\u606f:",r,n.name),n.playerId=n.id,u.MJData.handCardNum[r]=n.shoupai.length,t.KWXHandArea[r].createHandMJ(u.MJData.handCardNum[r],r),t.userCardArr[r]=n.shoupai,h.default.sortOtherCardList(n.shoupai),t.KWXHandArea[r].sethuifangHandValue(n.shoupai),i==l.KWXDefine.PLAYER_DATAS.length-1&&t.chupai(e)})},t.prototype.chupai=function(e){console.log("\u51fa\u724c\u5b9a\u65f6\u5668",e.opreates);var t=4-this.delayTime,n=e.opreates.length;console.log("\u5ef6\u65f6\u65f6\u95f4",4);var i=this;this.callback=function(){console.log("\u5b9a\u65f6\u5668:",i.index),1==e.opreates[i.index].opreate?i.chupaidata(e.opreates[i.index]):2==e.opreates[i.index].opreate?i.modata(e.opreates[i.index]):3==e.opreates[i.index].opreate?i.pengdata(e.opreates[i.index]):4==e.opreates[i.index].opreate?i.cagangdata(e.opreates[i.index]):5==e.opreates[i.index].opreate?i.angangdata(e.opreates[i.index]):6==e.opreates[i.index].opreate&&i.gangdata(e.opreates[i.index]),i.index==n-1&&(i.total=!0,i.unschedule(this.callback),i.jieshuan(e.jie_suan)),i.index++},this.schedule(this.callback,t,n,4-this.delayTime)},t.prototype.pause=function(){this.unschedule(this.callback),this.delayTime=0,this.btn_pause.active=!1,this.btn_continue.active=!0},t.prototype.continue=function(){this.btn_pause.active=!0,this.btn_continue.active=!1,this.total||(c.UIManager.showTips("\u6b63\u5e38\u64ad\u653e"),this.schedule(this.callback,4-this.delayTime,this.playback.opreates.length,0))},t.prototype.qianjin=function(){this.total||(this.delayTime+=1,4==this.delayTime?(this.delayTime=0,c.UIManager.showTips("\u6b63\u5e38\u64ad\u653e")):3==this.delayTime?c.UIManager.showTips("\u500d\u901fX3"):2==this.delayTime?c.UIManager.showTips("\u500d\u901fX2"):1==this.delayTime&&c.UIManager.showTips("\u500d\u901fX1"),this.unschedule(this.callback),this.schedule(this.callback,4-this.delayTime,this.playback.opreates.length,4-this.delayTime),this.callback())},t.prototype.beisu=function(){},t.prototype.houtui=function(){if(console.log("\u5f53\u524d\u5e8f\u53f7\u662f:",this.index),this.index>=1&&(this.index=this.index-1,this.houtupai(this.playback.opreates[this.index],this.playback.opreates[this.index].opreate),!this.total)){if(this.delayTime)var e=4-this.delayTime;else e=4;this.schedule(this.callback,4-this.delayTime,this.playback.opreates.length,e)}},t.prototype.refresh=function(){var e=this,t=s.DataManager.playerInfo.id,n=s.DataManager.huifangid,i=C.HttpUrl.getRecordPlayBack.url+"?userId="+t+"&recordId="+n+"&time=3333&sign=333";c.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),b.NetManager.requestGetUrl(i,function(t,n){c.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(n);if(i.status===M.HTTP_CODE.SUCCESS){var r=JSON.parse(i.data);null!=r?2===r.game_type&&0!=r.chupai?c.UIManager.popup("game/pdk/PDKGameView",r):1===r.game_type&&0!=r.opreates?(e.node.removeFromParent(),c.UIManager.popup("game/kwx/KWXPlayback",r)):c.UIManager.showTips("\u89e3\u6563\u623f\u95f4\u65e0\u56de\u653e"):c.UIManager.showTips("\u65e0\u56de\u653e\u6570\u636e......")}else c.UIManager.showTips(M.HTTP_CODE_MSG[i.status])})},t.prototype.houtupai=function(e,t){var n=e.position,i=h.default.huifanggetLocationID(n);if(1==t){for(var r=0;r<this.KWXOutArea[i].node.children.length;r++){if((c=this.KWXOutArea[i].node.children[r].getComponent(v.default).getCardValue())==e.pai_id){console.log("\u6e05\u7406\u6700\u540e\u51fa\u7684\u724c",c),this.KWXOutArea[i].delEndOutMJs(this.KWXOutArea[i].node.children[r]);break}}this.userCardArr[i].push(e.pai_id),u.MJData.handCardNum[i]=u.MJData.handCardNum[i]+1;var a=u.MJData.handCardNum[i]}else if(2==t){var o=this.userCardArr[i].indexOf(e.pai_id);this.userCardArr[i].splice(o,1),u.MJData.handCardNum[i]=u.MJData.handCardNum[i]-1;a=u.MJData.handCardNum[i]}else if(3==t){console.log("\u78b0\u724c"),this.userCardArr[i].push(e.pai_id),this.userCardArr[i].push(e.pai_id),u.MJData.handCardNum[i]=u.MJData.handCardNum[i]+2;a=u.MJData.handCardNum[i];var s=h.default.huifanggetLocationID(e.chupaiPositon);this.KWXOutArea[s].createOutMJ(e.pai_id,!0);for(r=0;r<this.KWXCpgArea[i].node.children.length;r++){if((c=this.KWXCpgArea[i].node.children[r].getComponent(_.default).getCardValue())==e.pai_id){console.log("\u6e05\u7406\u6700\u540e\u51fa\u7684\u724c",c),this.KWXCpgArea[i].clearOutMJ(this.KWXCpgArea[i].node.children[r],i);break}}}else if(4==t){if(console.log("\u64e6\u6760"),(s=h.default.huifanggetLocationID(e.chupaiPositon))==i){u.MJData.handCardNum[i]=u.MJData.handCardNum[i]+1;a=u.MJData.handCardNum[i];this.userCardArr[i].push(e.pai_id)}else this.KWXOutArea[s].createOutMJ(e.pai_id,!0);for(r=0;r<this.KWXCpgArea[i].node.children.length;r++){if((c=this.KWXCpgArea[i].node.children[r].getComponent(_.default).getCardValue())==e.pai_id){this.KWXCpgArea[i].clearOutMJ(this.KWXCpgArea[i].node.children[r],i),this.KWXCpgArea[i].createCPGMJ(m.MJOperType.Peng,[e.pai_id,e.pai_id,e.pai_id],0,i);break}}}else if(5==t){console.log("\u6697\u6760"),u.MJData.handCardNum[i]=u.MJData.handCardNum[i]+4;for(a=u.MJData.handCardNum[i],r=0;r<this.KWXCpgArea[i].node.children.length;r++){if((c=this.KWXCpgArea[i].node.children[r].getComponent(_.default).getCardValue())==e.pai_id){this.KWXCpgArea[i].clearOutMJ(this.KWXCpgArea[i].node.children[r],i);break}}this.userCardArr[i].push(e.pai_id),this.userCardArr[i].push(e.pai_id),this.userCardArr[i].push(e.pai_id),this.userCardArr[i].push(e.pai_id)}else if(6==t){console.log("\u6760\u724c"),u.MJData.handCardNum[i]=u.MJData.handCardNum[i]+3;a=u.MJData.handCardNum[i],s=h.default.huifanggetLocationID(e.chupaiPositon);this.KWXOutArea[s].createOutMJ(e.pai_id,!0);for(r=0;r<this.KWXCpgArea[i].node.children.length;r++){var c;if((c=this.KWXCpgArea[i].node.children[r].getComponent(_.default).getCardValue())==e.pai_id){this.KWXCpgArea[i].clearOutMJ(this.KWXCpgArea[i].node.children[r],i);break}}this.userCardArr[i].push(e.pai_id),this.userCardArr[i].push(e.pai_id),this.userCardArr[i].push(e.pai_id)}this.KWXHandArea[i].createHandMJ(a,i),u.MJData.userCardArr=this.userCardArr[i],this.KWXHandArea[i].createHandMJ(u.MJData.userCardArr.length,i),h.default.sortOtherCardList(u.MJData.userCardArr),this.KWXHandArea[i].setHandValue()},t.prototype.jieshuan=function(e){console.log("\u7ed3\u7b97",e),this.kwxExtViewTs&&this.kwxExtViewTs.node&&this.kwxExtViewTs.node.destroy();var t=[],n=[],i=!1,r=!1;e.jsi.forEach(function(e,r){e.paiXing.forEach(function(n){if(16!=n.paixing){for(var i=0,r=0;r<t.length;r++)t[r].paixing==n.paixing&&i++;0==i&&(t=t.concat(e.paiXing))}}),5==e.zimo&&(i=!0),e.maPaiId&&e.maPaiId.length>0&&(n=e.maPaiId),e.playerId==s.DataManager.playerInfo.id.toString()&&e.position});for(var a=0;a<e.jsi.length;a++)e.jsi[a].playerId==s.DataManager.playerInfo.id.toString()&&(3==e.jsi[a].zimo?r=!0:2==e.jsi[a].zimo&&(r=!1));var c=new Map,u={15:1,3:2,8:3,10:4,9:5,13:6,12:7,11:8,2:9};t.forEach(function(e,t){void 0==u[e.paixing]&&(u[e.paixing]=10),c.set(e.paixing,u[e.paixing])});var h=Array.from(c);if(h.sort(function(e,t){return e[1]-t[1]}),1==s.DataManager.storage.get("FangYan")||null==s.DataManager.storage.get("FangYan"))var f="kwx_sound/yinxiao/xiangyang/";else if(2==s.DataManager.storage.get("FangYan"))f="kwx_sound/yinxiao/putong/";else if(3==s.DataManager.storage.get("FangYan"))f="kwx_sound/yinxiao/shiyan/";else if(4==s.DataManager.storage.get("FangYan"))f="kwx_sound/yinxiao/xiaogan/";t.length>0?t.length>=2&&!r?this.showEffect(l.FanXingAniName[h[0][0]],f+l.FanXingPlaySFX[h[0][0]],l.FanXingAniName[h[1][0]],f+l.FanXingPlaySFX[h[1][0]]):t.length>=2&&r?this.showEffect("dianpao"):"hu_zimo"!=l.FanXingAniName[h[0][0]]||r?r?this.showEffect("dianpao"):this.showEffect(l.FanXingAniName[h[0][0]],f+l.FanXingPlaySFX[h[0][0]]):this.showEffect("hu",f+"hu_1"):i?this.showEffect("hu_huangzhuang","kwx_sound/yinxiao/huang"):this.showEffect(l.FanXingAniName[1],f+l.FanXingPlaySFX[1]);var d=1;n.length>0&&(this.showMaiMa(n),d=n.length),console.log("\u5c0f\u7ed3\u7b97\u6570\u636e:",e),this.scheduleOnce(function(){this.KWXHandArea[0].setHandKouValue(!1),this.KWXHandArea[0].setHandTingValue(!1),this.kwxResultView=cc.instantiate(this.KWXResultView),this.kwxResultView.active=!0,this.node.addChild(this.kwxResultView);var t=this.kwxResultView.getComponent("KWXResultView");t._gameView=this,t.showOneDetail(e,!0),this.KWXHandArea.forEach(function(e){e.removeAllHand(),e.clearAllHand()}),this.KWXPlayer.forEach(function(e){e.setPiaoIcon(!1,0)});for(var n=0;n<e.jsi.length;n++)e.jsi[n].playerId==s.DataManager.playerInfo.id.toString()&&(e.jsi[n].socreAdd>0?o.AudioManager.playSFX("kwx_sound/yinxiao/gameover_win.mp3"):o.AudioManager.playSFX("kwx_sound/yinxiao/gameover_lose.mp3"))},2*d+1)},t.prototype.showMaiMa=function(e){var t=cc.instantiate(this.MaimaView);this.node.addChild(t);var n=t.getComponent("MaimaView");n._gameView=this,n.initData(e)},t.prototype.chupaidata=function(e){console.log("\u51fa\u724c\u6570\u636e:",e),this.positions=e.position,0==e.position?this.showEffect(0,"kwx_sound/yinxiao/putong/"+e.pai_id+"_1"):this.showEffect(0,"kwx_sound/yinxiao/putong/"+e.pai_id+"_1a");var t=e.position,n=h.default.huifanggetLocationID(t);console.log("\u6211\u7684\u624b\u724c\u662f:",this.userCardArr[n]),console.log("\u51fa\u724c\u4f4d\u7f6e:",n),console.log("KWXHandArea\u51fa\u724c\u4f4d\u7f6e:",this.KWXHandArea[n].node.x);this.KWXOutArea[n].createOutMJ(e.pai_id,!0),u.MJData.handCardNum[n]=u.MJData.handCardNum[n]-1;var i=u.MJData.handCardNum[n];console.log("\u51fa\u724c\u83b7\u53d6\u624b\u724c\u6570\u91cf:",i),this.KWXHandArea[n].createHandMJ(i,n);var r=this.userCardArr[n].indexOf(e.pai_id);console.log(r),this.userCardArr[n].splice(r,1),u.MJData.userCardArr=this.userCardArr[n],this.KWXHandArea[n].createHandMJ(u.MJData.userCardArr.length,n),h.default.sortOtherCardList(u.MJData.userCardArr),this.KWXHandArea[n].setHandValue()},t.prototype.pengdata=function(e){console.log("\u78b0\u724c\u6570\u636e:",e),0==e.position?this.showEffect("pen","kwx_sound/yinxiao/putong/peng_1"):this.showEffect("pen","kwx_sound/yinxiao/putong/peng_1a");var t=h.default.huifanggetLocationID(e.chupaiPositon);console.log("\u51fa\u724c\u4f4d\u7f6e:",e.chupaiPositon),console.log("\u51fa\u724c\u4f4d\u7f6e:",t),this.KWXOutArea[t].delEndOutMJ();var n=e.position,i=h.default.huifanggetLocationID(n);console.log("\u78b0\u724c\u4f4d\u7f6e:",i),u.MJData.handCardNum[i]=u.MJData.handCardNum[i]-2;var r=u.MJData.handCardNum[i];this.KWXHandArea[i].createHandMJ(r,i);var a=this.userCardArr[i].indexOf(e.pai_id);this.userCardArr[i].splice(a,1);var o=this.userCardArr[i].indexOf(e.pai_id);this.userCardArr[i].splice(o,1),h.default.sortOtherCardList(this.userCardArr[i]),u.MJData.userCardArr=this.userCardArr[i],this.KWXHandArea[i].setHandValue();var s=this.getAngle(t);this.KWXCpgArea[i].createCPGMJ(m.MJOperType.Peng,[e.pai_id,e.pai_id,e.pai_id],0,s)},t.prototype.getAngle=function(e){var t=0;return 0==e?t=0:1==e?t=270:2==e?t=90:3==e&&(t=180),t},t.prototype.gangdata=function(e){console.log("\u6760\u724c\u6570\u636e:",e),0==e.position?this.showEffect("gang","kwx_sound/yinxiao/putong/gang_1"):this.showEffect("gang","kwx_sound/yinxiao/putong/gang_1a");var t=h.default.huifanggetLocationID(e.chupaiPositon);this.KWXOutArea[t].delEndOutMJ();var n=e.position,i=h.default.huifanggetLocationID(n);u.MJData.handCardNum[i]=u.MJData.handCardNum[i]-3;var r=u.MJData.handCardNum[i];this.KWXHandArea[i].createHandMJ(r,i);var a=this.userCardArr[i].indexOf(e.pai_id);this.userCardArr[i].splice(a,1);var o=this.userCardArr[i].indexOf(e.pai_id);this.userCardArr[i].splice(o,1);var s=this.userCardArr[i].indexOf(e.pai_id);this.userCardArr[i].splice(s,1),h.default.sortOtherCardList(this.userCardArr[i]),u.MJData.userCardArr=this.userCardArr[i],this.KWXHandArea[i].setHandValue();var c=this.getAngle(t);this.KWXCpgArea[i].createCPGMJ(m.MJOperType.MingGang,[e.pai_id,e.pai_id,e.pai_id,e.pai_id],2,c)},t.prototype.angangdata=function(e){console.log("\u6697\u6760\u6570\u636e:",e),0==e.position?this.showEffect("gang","kwx_sound/yinxiao/putong/gang_1"):this.showEffect("gang","kwx_sound/yinxiao/putong/gang_1a");var t=e.position,n=h.default.huifanggetLocationID(t);u.MJData.handCardNum[n]=u.MJData.handCardNum[n]-4;var i=u.MJData.handCardNum[n];this.KWXHandArea[n].createHandMJ(i,n);var r=this.userCardArr[n].indexOf(e.pai_id);this.userCardArr[n].splice(r,1);var a=this.userCardArr[n].indexOf(e.pai_id);this.userCardArr[n].splice(a,1);var o=this.userCardArr[n].indexOf(e.pai_id);this.userCardArr[n].splice(o,1);var s=this.userCardArr[n].indexOf(e.pai_id);this.userCardArr[n].splice(s,1),h.default.sortOtherCardList(this.userCardArr[n]),u.MJData.userCardArr=this.userCardArr[n],this.KWXHandArea[n].setHandValue(),this.KWXCpgArea[n].createCPGMJ(m.MJOperType.AnGang,[e.pai_id,e.pai_id,e.pai_id,e.pai_id],1)},t.prototype.cagangdata=function(e){console.log("\u64e6\u6760\u6570\u636e:",e),0==e.position?this.showEffect("gang","kwx_sound/yinxiao/putong/gang_1"):this.showEffect("gang","kwx_sound/yinxiao/putong/gang_1a");var t=e.position,n=h.default.huifanggetLocationID(t);u.MJData.handCardNum[n]=u.MJData.handCardNum[n]-1;var i=u.MJData.handCardNum[n];this.KWXHandArea[n].createHandMJ(i,n);var r=this.userCardArr[n].indexOf(e.pai_id);this.userCardArr[n].splice(r,1),h.default.sortOtherCardList(this.userCardArr[n]),u.MJData.userCardArr=this.userCardArr[n],this.KWXHandArea[n].setHandValue(),this.KWXCpgArea[n].pengToBuGangCard([e.pai_id,e.pai_id,e.pai_id,e.pai_id],2)},t.prototype.modata=function(e){u.MJData.leftCard-=1,this.KWXTable.setLeftCard(),console.log("\u6478\u724c\u6570\u636e:",e);var t=h.default.huifanggetLocationID(e.position);u.MJData.handCardNum[t]=u.MJData.handCardNum[t]+1;var n=u.MJData.handCardNum[t];this.KWXHandArea[t].createHandMJ(n,t),console.log("\u6478\u724c\u83b7\u53d6\u6478\u724c\u6570\u91cf:",n);var i=e.pai_id;console.log("\u6211\u83b7\u53d6\u624b\u724c\u4e86!!!!!!!!!!!!",e.pai_id),h.default.sortOtherCardList(this.userCardArr[t]),this.userCardArr[t].push(i),u.MJData.userCardArr=this.userCardArr[t],console.log("\u6478\u724c\u4eba\u7684\u624b\u724c2:",this.userCardArr[t]),this.KWXHandArea[t].setHandValue()},t.prototype.showEffect=function(e,t,n,i){var r=this;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),console.log(e),console.log(t),e){this.effect_ani.active=!0;var a=this.effect_ani.getComponent(sp.Skeleton);a.timeScale=.75,a.animation=e,a.setAnimation(0,e,!0)&&a.setCompleteListener(function(e,t){console.log("\u8fd9\u4e2a\u52a8\u4f5c\u7ed3\u675f\u4e86"),r.effect_ani.active=!1,null!=n&&(r.showEffect(n),o.AudioManager.playSFX(i+".mp3"))})}t&&o.AudioManager.playSFX(t+".mp3")},t.prototype.fanhui=function(){o.AudioManager.playSFX(y.SoundEffect.button),o.AudioManager.playHallBGM(),o.AudioManager.setBGMVolume(.3),this.close()},r([E(f.default)],t.prototype,"KWXPlayer",void 0),r([E(d.default)],t.prototype,"KWXHandArea",void 0),r([E(g.default)],t.prototype,"KWXCpgArea",void 0),r([E(p.default)],t.prototype,"KWXOutArea",void 0),r([E(cc.Node)],t.prototype,"effect_ani",void 0),r([E(cc.Node)],t.prototype,"btn_pause",void 0),r([E(cc.Node)],t.prototype,"btn_continue",void 0),r([E(cc.Prefab)],t.prototype,"KWXResultView",void 0),r([E(cc.Prefab)],t.prototype,"MaimaView",void 0),r([E(cc.Node)],t.prototype,"ErRen",void 0),r([E(cc.Node)],t.prototype,"SanRen",void 0),r([E(S.default)],t.prototype,"KWXTable",void 0),r([E(cc.Node)],t.prototype,"spriteCacheNode",void 0),t=r([D],t)}(a.default);n.default=A,cc._RF.pop()},{"../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/NetManager":"NetManager","../../manager/SoundEffect":"SoundEffect","../../manager/UIManager":"UIManager","../../net/HttpUrl":"HttpUrl","../../net/NetCode":"NetCode","../../view/base/BaseView":"BaseView","./KWXDefine":"KWXDefine","./KWXTool":"KWXTool","./MJCPGBase":"MJCPGBase","./MJCardBase":"MJCardBase","./MJData":"MJData","./MJDefine":"MJDefine","./ui/KWXCpgArea":"KWXCpgArea","./ui/KWXHandArea":"KWXHandArea","./ui/KWXOutArea":"KWXOutArea","./ui/KWXPlayer":"KWXPlayer","./ui/KWXTable":"KWXTable"}],KWXPlayerInfo:[function(e,t,n){"use strict";cc._RF.push(t,"64f1fOMASxCg58zelzgYvlP","KWXPlayerInfo");var i=h(e("../../view/base/BaseView")),r=h(e("../../common/UIHelper")),a=e("../../manager/DataManagerClub"),o=e("../../manager/DataManager"),s=e("../../manager/NetManager"),c=e("./KWXDefine"),l=e("../../manager/UIManager"),u=(h(e("./KWXGameScene")),h(e("./KWXGameView")));function h(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mName:cc.Label,mId:cc.Label,mScore:cc.Label,spr_head:cc.Sprite,mScrollView:cc.ScrollView,emo:cc.Node,gray:cc.Material,gray1:cc.Material},start:function(){this.mName.string="\u6635\u79f0:"+this.data.name,this.mId.string=this.data.playerId,this.mScore.string="\u79ef\u5206:"+a.DataManagerClub.divide100Double(this.data.score),this.setUserHead(this.data.icon),this.setNormal()},setUserHead:function(e){r.default.loadHead(e,this.spr_head.node)},setGray:function(){for(var e=this.emo.children,t=0;t<e.length;t++){e[t].getComponent(cc.Sprite).setMaterial(0,this.gray)}},setNormal:function(){if(u.default.Gray||this.data.playerId==o.DataManager.playerInfo.accountId)this.setGray();else{for(var e=this.emo.children,t=0;t<e.length;t++){e[t].getComponent(cc.Sprite).setMaterial(0,this.gray1)}for(var n=this.mScrollView.content.children,i=0;i<n.length;i++)n[i].index=i,n[i].on(cc.Node.EventType.TOUCH_END,this.onClickExpression,this)}},yanshi:function(){u.default.Gray=!0,setTimeout(function(){u.default.Gray=!1},8e3)},onClickExpression:function(e){this.data.playerId!=o.DataManager.playerInfo.accountId?(s.NetManager.protocolKWX.sendC2S_Magic(c.KWXDefine.SEAT_ID,this.data.position,e.target.index,-1,c.KWXDefine.Expression_Tag),this.yanshi(),this.close()):l.UIManager.showTips("\u4e0d\u80fd\u5bf9\u81ea\u5df1\u4f7f\u7528")}}),cc._RF.pop()},{"../../common/UIHelper":"UIHelper","../../manager/DataManager":"DataManager","../../manager/DataManagerClub":"DataManagerClub","../../manager/NetManager":"NetManager","../../manager/UIManager":"UIManager","../../view/base/BaseView":"BaseView","./KWXDefine":"KWXDefine","./KWXGameScene":"KWXGameScene","./KWXGameView":"KWXGameView"}],KWXPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"5c9f8szTZdIDqegpQMXuY+Y","KWXPlayer");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/UIHelper"),c=e("../../../common/utils/Utils"),l=e("../../../manager/ResManager"),u=e("../../../manager/UIManager"),h=cc._decorator,f=h.ccclass,d=h.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spr_head=null,t.banker=null,t.label_name=null,t.label_money=null,t.icon_ting=null,t.icon_piao=null,t.icon_Online=null,t.chat=null,t.SubAddScore=null,t.interVal=null,t.playerData=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.initUser=function(){this.spr_head.spriteFrame=null,this.label_name.string="",this.label_money.string="",this.banker.active=!1,this.node.active=!1,console.log("\u521d\u59cb\u5316\u7528\u6237")},t.prototype.setUserHead=function(e,t){s.default.loadHead(e,this.spr_head.node)},t.prototype.setOnlineState=function(e){console.log("\u7528\u6237\u5728\u7ebf\u72b6\u6001",e),this.icon_Online.active=e},t.prototype.setUserScore=function(e){this.label_money.string=c.default.getFormatGold(e/100)},t.prototype.setScoreAni=function(e){0!=e&&(this.SubAddScore.active=!0,e<0?(this.SubAddScore.getComponent(cc.Label).string=e,this.SubAddScore.color=new cc.Color(255,0,0)):(this.SubAddScore.getComponent(cc.Label).string="+"+e,this.SubAddScore.color=new cc.Color(255,255,255)),this.SubAddScore.scale=.5,this.SubAddScore.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.1,1))),this.scheduleOnce(function(){this.SubAddScore.active=!1},4))},t.prototype.setUserInfo=function(e){var t=e;this.playerData=e;var n=c.default.getSubStringLengTxt(e.name);this.label_name.string=n,this.setUserHead(e.icon,e.playerId),this.setUserScore(t.score),this.node.active=!0,this.spr_head.node.on(cc.Node.EventType.TOUCH_END,this.onPersonaldData,this),102==e.state&&(this.node.getChildByName("UserReady").active=!0)},t.prototype.setBankerIcon=function(e){this.banker.active=e},t.prototype.setTingIcon=function(e){this.icon_ting.active=e},t.prototype.setPiaoIcon=function(e,t){void 0===t&&(t=0),this.icon_piao.active=e,this.setSpirteValue(t)},t.prototype.setSpirteValue=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,l.ResManager.loadResAsync("game/kwx/res/Head_Piao"+e,cc.SpriteFrame)];case 1:return t=n.sent(),this.icon_piao.getComponent(cc.Sprite).spriteFrame=t,[2]}})})},t.prototype.setReadyIcon=function(e){void 0===e&&(e=!1),this.node.getChildByName("UserReady").active=e},t.prototype.onDestroy=function(){this.unschedule(this.interVal),this.interVal=null},t.prototype.setChatContent=function(e){var t=this;this.chat.stopAllActions(),this.chat.active=!0,this.chat.getChildByName("text").getComponent(cc.Label).string=e,this.chat.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.chat.active=!1})))},t.prototype.onPersonaldData=function(e){u.UIManager.popup("game/kwx/prefabs/KWXPlayerInfo",this.playerData)},r([d(cc.Sprite)],t.prototype,"spr_head",void 0),r([d(cc.Node)],t.prototype,"banker",void 0),r([d(cc.Label)],t.prototype,"label_name",void 0),r([d(cc.Label)],t.prototype,"label_money",void 0),r([d(cc.Node)],t.prototype,"icon_ting",void 0),r([d(cc.Node)],t.prototype,"icon_piao",void 0),r([d(cc.Node)],t.prototype,"icon_Online",void 0),r([d(cc.Node)],t.prototype,"chat",void 0),r([d(cc.Node)],t.prototype,"SubAddScore",void 0),t=r([f],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../common/UIHelper":"UIHelper","../../../common/utils/Utils":"Utils","../../../manager/ResManager":"ResManager","../../../manager/UIManager":"UIManager"}],KWXResultView:[function(e,t,n){"use strict";cc._RF.push(t,"89ebeeb+uhOhLxykQAax747","KWXResultView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/utils/Utils"),c=e("../../../manager/UIManager"),l=e("../../../manager/NetManager"),u=e("../../../manager/DataManager"),h=e("../KWXDefine"),f=e("../../../manager/EventManager"),d=e("../protocol/KWXCmd"),p=e("../KWXTool"),g=e("../../../view/base/BaseView"),m=e("../../../common/log/LogWrap"),y=e("../MJDefine"),b=e("../../../manager/EventClubDef"),v=e("../MJData"),_=e("../../../manager/AudioManager"),C=cc._decorator,M=C.ccclass,S=C.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_roomid=null,t.lab_times=null,t.lab_jushu=null,t.node_one=null,t.btn_start=null,t.btn_share=null,t.btn_alllist=null,t.btn_change=null,t.btn_back=null,t.node_more=null,t.itemplayerone=null,t.itemplayermore=null,t.scrollone_list=null,t.scrollma_list=null,t.big_result=null,t.mamjong=null,t.btn_huanzhuo=null,t._gameView=null,t.clock_times=null,t.time_num=12,t.ClickXianZhi=!0,t.huifang=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=this;s.default.addClickEventEND(this.btn_start,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_share,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_alllist,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_change,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_huanzhuo,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_back,this.onEvenClickButton.bind(this)),f.EventManager.on(this,b.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this)),f.EventManager.on(this,y.MJEventDef.CloseSettlement,function(t){e.unscheduleAllCallbacks(),e.node&&(e.unschedule(e.onUpdateTimer),e.node.destroy())})},t.prototype.ClubErrorCode=function(e){301==e.errorCode&&(console.log("\u7ed3\u7b97\u672a\u5173\u95ed\u65f6,\u53d1\u724c\u524d\u5173\u95ed\u7ed3\u7b97\u754c\u9762"),this.unschedule(this.onUpdateTimer),this.node.destroy())},t.prototype.showOneDetail=function(e,t){var n=this;void 0===t&&(t=!1),this.huifang=t,t?(this.lab_times.string=""+s.default.timestampToTime(e.endTime),this.node_one.getChildByName("naozhong").active=!1,this.lab_jushu.node.active=!1,this.lab_roomid.node.active=!1):(this.lab_times.string=""+s.default.timestampToTime(e.endTime),this.lab_jushu.string="\u724c\u5c40:"+h.KWXDefine.JUSHU+"/"+h.KWXDefine.GAME_DATAS.juShu,this.lab_roomid.string="\u623f\u53f7:"+e.roomId),this.node_one.active=!0,this.node_more.active=!1,this.scrollone_list.removeAllChildren();var i=0;if(e.jsi.forEach(function(e,t){e.maPaiId&&e.maPaiId.forEach(function(e,t){i+=e>1e3?10:e%10})}),e.jsi.forEach(function(e,t){e.mascore=i;var r=cc.instantiate(n.itemplayerone);n.scrollone_list.addChild(r),r.getComponent("KWXSResultItem").initData(e),e.maPaiId&&e.maPaiId.forEach(function(e,t){var i=cc.instantiate(n.mamjong);i.scale=.75,n.scrollma_list.addChild(i);var r=i.getComponent("MJCardBase");r.setSpirteValue(e),r.setMaState(!0)});var a=p.default.getLocationID(e.position);n._gameView.KWXPlayer[a].setUserScore(e.socreLeft)}),this.clock_times=this.node_one.getChildByName("naozhong").getChildByName("time").getComponent(cc.Label),this.node_one.getChildByName("scorebg").getChildByName("score").getComponent(cc.Label).string=""+Number(h.KWXDefine.GAME_DATAS.radix)/100,!t){(h.KWXDefine.JUSHU==Number(h.KWXDefine.GAME_DATAS.juShu)||h.KWXDefine.GAME_OVER)&&(this.btn_start.active=!1,this.btn_share.active=!0,this.btn_alllist.active=!0);(new Date).getTime();this.time_num=h.KWXDefine.time_nums,this.schedule(this.onUpdateTimer,1,cc.macro.REPEAT_FOREVER,.01)}h.KWXDefine.GAME_DATAS.match&&(this.btn_huanzhuo.active=!0),this.scheduleOnce(function(){this.node.opacity=255},1),t&&(this.node_more.active=!0,this.btn_start.active=!1,this.btn_back.active=!0,this.btn_change.active=!1,this.btn_huanzhuo.active=!1)},t.prototype.showMoreDetail=function(){var e=this;this.node_one.active=!1,this.node_more.active=!0,h.KWXDefine.JUSHU=0;var t=[],n=[];h.KWXDefine.TOTAL_DATA.tji<=0&&m.LogWrap.err("\u5927\u7ed3\u7b97\u6d88\u606f\u4e3a\u7a7a\u9519\u8bef",h.KWXDefine.TOTAL_DATA),h.KWXDefine.TOTAL_DATA.tji.forEach(function(e,i){n.push(e.dianPaoTimes),t.push(e.winScore)});var i=this.getMax(n),r=this.getMax(t);h.KWXDefine.TOTAL_DATA.tji.forEach(function(t,n){var a=cc.instantiate(e.itemplayermore);e.big_result.addChild(a);var o=400;2==h.KWXDefine.TOTAL_DATA.tji.length?(o=200,a.x=0==n?-o:o):a.x=o*(n-1),a.getComponent("KWXBResultItem").initData(t,i,r)})},t.prototype.getMax=function(e){var t=e[0];return e.forEach(function(e,n){t=t>e?t:e}),t},t.prototype.onUpdateTimer=function(){if(this.time_num<0)if(this.unschedule(this.onUpdateTimer),h.KWXDefine.JUSHU==Number(h.KWXDefine.GAME_DATAS.juShu)||h.KWXDefine.GAME_OVER)this.showMoreDetail();else{f.EventManager.emit(d.EventKWXCmd.CLICK_CONTINUE,{ready:!1}),l.NetManager.protocolKWX.sendC2S_Contiue(),this.node.destroy()}else this.clock_times.string=this.time_num+"",this.time_num--},t.prototype.onEvenClickButton=function(e){return a(this,void 0,void 0,function(){var t,n,i,r;return o(this,function(a){switch(a.label){case 0:return"btn_start"!=(t=e.name)?[3,1]:(2==h.KWXDefine.GAME_PLAYER?v.MJData.leftCard=57:v.MJData.leftCard=44,n=!1,this.time_num>0&&(n=!0),console.log(this.time_num),f.EventManager.emit(d.EventKWXCmd.CLICK_CONTINUE,{ready:n}),l.NetManager.protocolKWX.sendC2S_Ready(),this.node.destroy(),[3,11]);case 1:return"btn_share"!=t?[3,2]:(c.UIManager.showTips("\u6682\u672a\u5f00\u53d1"),[3,11]);case 2:return"btn_change"!=t?[3,3]:(2==h.KWXDefine.GAME_PLAYER?v.MJData.leftCard=57:v.MJData.leftCard=44,n=!0,f.EventManager.emit(d.EventKWXCmd.CLICK_CONTINUE,{ready:n}),l.NetManager.protocolKWX.sendC2S_Continue(),this._gameView.isStartGame=!1,this.node.active=!1,[3,11]);case 3:return"btn_huanzhuo"!=t?[3,7]:this.ClickXianZhi?(this.ClickXianZhi=!1,l.NetManager.protocolKWX.sendC2S_ChangeDesk(),h.KWXDefine.PLAYER_DATAS=[],(i=[]).jushu=h.KWXDefine.GAME_DATAS.juShu,i.playerCount=h.KWXDefine.GAME_PLAYER,i.deskId=h.KWXDefine.GAME_DATAS.id,[4,c.UIManager.open("prefabs/club/ClubRoomMatch",i)]):[3,5];case 4:return(r=a.sent().getComponent("ClubRoomMatch")).showUserItem(u.DataManager.playerInfo,0),f.EventManager.emit(d.EventKWXCmd.CLICK_CHANGEDESK,{ts:r}),this._gameView.isStartGame=!1,this.node.active=!1,[3,6];case 5:return console.log("\u4e0d\u80fd\u591a\u6b21\u70b9\u51fb"),[2];case 6:return[3,11];case 7:return"btn_alllist"!=t?[3,8]:(this.showMoreDetail(),[3,11]);case 8:return"btn_back"!=t?[3,11]:this.huifang?(this.close(),[4,c.UIManager.close("game/kwx/KWXPlayback")]):[3,10];case 9:return a.sent(),_.AudioManager.playHallBGM(),[3,11];case 10:l.NetManager.protocolKWX.sendC2S_ExitRoom(),a.label=11;case 11:return[2]}})})},r([S(cc.Label)],t.prototype,"lab_roomid",void 0),r([S(cc.Label)],t.prototype,"lab_times",void 0),r([S(cc.Label)],t.prototype,"lab_jushu",void 0),r([S(cc.Node)],t.prototype,"node_one",void 0),r([S(cc.Node)],t.prototype,"btn_start",void 0),r([S(cc.Node)],t.prototype,"btn_share",void 0),r([S(cc.Node)],t.prototype,"btn_alllist",void 0),r([S(cc.Node)],t.prototype,"btn_change",void 0),r([S(cc.Node)],t.prototype,"btn_back",void 0),r([S(cc.Node)],t.prototype,"node_more",void 0),r([S(cc.Prefab)],t.prototype,"itemplayerone",void 0),r([S(cc.Prefab)],t.prototype,"itemplayermore",void 0),r([S(cc.Node)],t.prototype,"scrollone_list",void 0),r([S(cc.Node)],t.prototype,"scrollma_list",void 0),r([S(cc.Node)],t.prototype,"big_result",void 0),r([S(cc.Prefab)],t.prototype,"mamjong",void 0),r([S(cc.Node)],t.prototype,"btn_huanzhuo",void 0),t=r([M],t)}(g.default);n.default=w,cc._RF.pop()},{"../../../common/log/LogWrap":"LogWrap","../../../common/utils/Utils":"Utils","../../../manager/AudioManager":"AudioManager","../../../manager/DataManager":"DataManager","../../../manager/EventClubDef":"EventClubDef","../../../manager/EventManager":"EventManager","../../../manager/NetManager":"NetManager","../../../manager/UIManager":"UIManager","../../../view/base/BaseView":"BaseView","../KWXDefine":"KWXDefine","../KWXTool":"KWXTool","../MJData":"MJData","../MJDefine":"MJDefine","../protocol/KWXCmd":"KWXCmd"}],KWXSResultItem:[function(e,t,n){"use strict";cc._RF.push(t,"60035blHzlCiaAKXPv1cfsn","KWXSResultItem");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../KWXDefine"),c=e("../../../manager/ResManager"),l=e("../KWXTool"),u=e("./KWXOutArea"),h=e("./KWXCpgArea"),f=e("../MJDefine"),d=e("../MJData"),p=cc._decorator,g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_name=null,t.lab_tips=null,t.lab_allscore=null,t.lab_piao=null,t.lab_gang=null,t.lab_fan=null,t.lab_ma=null,t.node_icon=null,t.KWXOutArea=null,t.KWXCpgArea=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.initData=function(e){var t=this;this.lab_name.string=e.name;var n="",i=0;Number(e.gangTotalScore)>0?n="\u6760+"+Number(e.gangTotalScore):Number(e.gangTotalScore)<0&&(n="\u6760"+Number(e.gangTotalScore)),e.paiXing.forEach(function(e,t){n=n+" "+s.FanXingStr[e.paixing]+" x"+e.fan}),e.maPaiId&&e.maPaiId.length>0?i=e.mascore*(s.KWXDefine.GAME_PLAYER-1):e.mascore>0&&(i=-e.mascore),e.position==d.MJData.bankerPos&&(this.node.getChildByName("banker").active=!0),this.lab_tips.string=n,this.lab_allscore.string="\u603b\u5206"+Number(e.socreAdd)/100,this.lab_piao.string="\u6f02\uff1a "+(null==e.piaoScore?0:e.piaoScore),this.lab_gang.string="\u6760\uff1a "+Number(e.gangScore),this.lab_fan.string="\u756a\uff1a "+e.winTimes,this.lab_ma.string="\u9a6c\uff1a "+i,this.setSpirteValue(e.zimo,e.position),e.peng.forEach(function(e,n){var i={paiId:e};t.otherPengOper(i)}),e.anGange.forEach(function(e,n){var i={paiId:e};t.otherGangOper(i,1)}),e.mingGang.forEach(function(e,n){var i={paiId:e};t.otherGangOper(i,0)});var r=e.shouPaiInfo.indexOf(e.huPaiId);-1!=r&&e.shouPaiInfo.splice(r,1),l.default.sortOtherCardList(e.shouPaiInfo),this.scheduleOnce(function(){var t=this;console.log("\u521b\u5efa\u624b\u724c",e.shouPaiInfo),e.shouPaiInfo.forEach(function(e,n){t.KWXOutArea.createOutMJ(e,!0)}),e.huPaiId&&e.huPaiId>0&&this.KWXOutArea.createLastOutMJ(e.huPaiId)},.1)},t.prototype.otherPengOper=function(e){this.KWXCpgArea.createCPGMJ(f.MJOperType.Peng,[e.paiId,e.paiId,e.paiId],0)},t.prototype.otherGangOper=function(e,t){0==t?(3,this.KWXCpgArea.createCPGMJ(f.MJOperType.MingGang,[e.paiId,e.paiId,e.paiId,e.paiId],2)):1==t&&(4,this.KWXCpgArea.createCPGMJ(f.MJOperType.AnGang,[e.paiId,e.paiId,e.paiId,e.paiId],1))},t.prototype.setSpirteValue=function(e,t){return a(this,void 0,void 0,function(){var n;return o(this,function(i){switch(i.label){case 0:if(0==e||4==e)return this.node_icon.active=!1,[2];if(5==e){if(!(d.MJData.chooseMingList.length>0&&d.MJData.chooseMingList[0]==t))return this.node_icon.active=!1,[2];e=4}return[4,c.ResManager.loadResAsync("game/kwx/res/result/result"+e,cc.SpriteFrame)];case 1:return n=i.sent(),this.node_icon.getComponent(cc.Sprite).spriteFrame=n,[2]}})})},r([m(cc.Label)],t.prototype,"lab_name",void 0),r([m(cc.Label)],t.prototype,"lab_tips",void 0),r([m(cc.Label)],t.prototype,"lab_allscore",void 0),r([m(cc.Label)],t.prototype,"lab_piao",void 0),r([m(cc.Label)],t.prototype,"lab_gang",void 0),r([m(cc.Label)],t.prototype,"lab_fan",void 0),r([m(cc.Label)],t.prototype,"lab_ma",void 0),r([m(cc.Node)],t.prototype,"node_icon",void 0),r([m(u.default)],t.prototype,"KWXOutArea",void 0),r([m(h.default)],t.prototype,"KWXCpgArea",void 0),t=r([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../manager/ResManager":"ResManager","../KWXDefine":"KWXDefine","../KWXTool":"KWXTool","../MJData":"MJData","../MJDefine":"MJDefine","./KWXCpgArea":"KWXCpgArea","./KWXOutArea":"KWXOutArea"}],KWXTable:[function(e,t,n){"use strict";cc._RF.push(t,"eeb18R5KsJHmZDCbA5XUCvU","KWXTable");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../MJData"),c=e("./KWXOutArea"),l=e("../KWXDefine"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clock_num=null,t.clock_numsanren=null,t.left_num=null,t.KWXTingArea=[],t.ting_node=[],t.paiju_num=null,t.room_id=null,t.difen_num=null,t.fanshu_dec=null,t.ma_dec=null,t.ma_decSan=null,t.play_dec=null,t.play_decSan=null,t.oper_node=[],t.oper_nodesan=[],t.kuaishuchang=[],t.kuaishuchangs=null,t.GameView=null,t.time_num=null,t.overCall=null,t}return i(t,e),t.prototype.start=function(){},t.prototype.setRoomInfo=function(){if(console.log("\u8bbe\u7f6e\u623f\u95f4\u4fe1\u606f",l.KWXDefine.JUSHU),this.room_id.string=l.KWXDefine.ROOM_ID+"",this.paiju_num.string=l.KWXDefine.JUSHU+"/"+l.KWXDefine.GAME_DATAS.juShu,this.difen_num.string=Number(l.KWXDefine.GAME_DATAS.radix)/100+"",this.fanshu_dec.string=l.KWXDefine.GAME_DATAS.param[4]+"\u756a\u5c01\u9876",9==l.KWXDefine.GAME_DATAS.param[6]?this.kuaishuchangs.getComponent(cc.Sprite).spriteFrame=this.kuaishuchang[0]:12==l.KWXDefine.GAME_DATAS.param[6]?this.kuaishuchangs.getComponent(cc.Sprite).spriteFrame=this.kuaishuchang[1]:15==l.KWXDefine.GAME_DATAS.param[6]&&(this.kuaishuchangs.getComponent(cc.Sprite).spriteFrame=this.kuaishuchang[2]),0==l.KWXDefine.GAME_DATAS.param[5])var e="\u4e0d\u4e70\u9a6c";else e="\u4eae\u5012\u81ea\u6478\u4e70\u9a6c  \u4e70\u4e00\u9001\u4e00";if(1==l.KWXDefine.GAME_DATAS.param[7])var t="\u5361\u4e94\u661fX4  ";else t="\u5361\u4e94\u661fX2  ";if(1==l.KWXDefine.GAME_DATAS.param[8])var n="\u78b0\u78b0\u80e1X4  ";else n="\u78b0\u78b0\u80e1X2  ";if(1==l.KWXDefine.GAME_DATAS.param[10])var i="\u6570\u574e  ";else i="";if(1==l.KWXDefine.GAME_DATAS.param[12])var r="\u6d77\u5e95\u635e/\u70aeX2  ";else r="";if(1==l.KWXDefine.GAME_DATAS.param[11])var a="\u5c11\u4e8e12\u5f20\u4e0d\u53ef\u4eae  ";else a="";if(1==l.KWXDefine.GAME_DATAS.param[13])var o="\u90e8\u5206\u4eae  ";else o="\u5168\u90e8\u4eae  ";if(0==l.KWXDefine.GAME_DATAS.param[3])var s="\u4e0d\u6f02  ";else if(4==l.KWXDefine.GAME_DATAS.param[3])s="\u6bcf\u573a\u9009\u6f02  ";else if(1==l.KWXDefine.GAME_DATAS.param[3])s="\u5b9a\u6f02\u4e00  ";else s="\u5b9a\u6f02\u4e8c  ";if(1==l.KWXDefine.GAME_DATAS.param[9])var c="\u6760\u4e0a\u5f00\u82b1X4  ";else c="";this.play_dec.string=s+o+t+n+i+r+a+c,this.ma_dec.string=e,this.play_decSan.string=s+o+t+n+i+r+a+c,this.ma_decSan.string=e},t.prototype.setOperBilnk=function(e,t){void 0===t&&(t=!1),3==l.KWXDefine.GAME_PLAYER?t?this.oper_nodesan.forEach(function(t,n){t.active=e==n}):this.oper_nodesan.forEach(function(e,t){e.active=!1}):t?this.oper_node.forEach(function(t,n){t.active=e==n}):this.oper_node.forEach(function(e,t){e.active=!1})},t.prototype.showTing=function(e,t){var n=this;console.log("\u80e1\u724c\u63d0\u793a:"+t),this.KWXTingArea[e].removeAllOut(),this.ting_node[e].active=!0,t.forEach(function(t){n.KWXTingArea[e].createOutMJ(t,!0)})},t.prototype.hideTing=function(e){this.ting_node[e].active=!1},t.prototype.showClockDi=function(e){console.log("\u663e\u793a\u5012\u8ba1\u65f6\u5e95\u76d8:"+e),this.clock_num.node.active=e,this.clock_numsanren.node.active=e,0==e&&this.unschedule(this.onUpdateTimer)},t.prototype.setLeftCard=function(){this.left_num.string=s.MJData.leftCard+""},t.prototype.setWindPos=function(e){return a(this,void 0,void 0,function(){return o(this,function(e){return[2]})})},t.prototype.showArrowLight=function(e){},t.prototype.showStartTips=function(e){return a(this,void 0,void 0,function(){return o(this,function(e){return[2]})})},t.prototype.setClockTime=function(e,t){this.unschedule(this.onUpdateTimer);var n=(new Date).getTime(),i=Math.ceil((1e3*e-n)/1e3);if(console.log("\u8bbe\u7f6e\u5012\u8ba1\u65f6\u65f6\u95f4:",i),this.overCall=t,this.clock_num.node.active=!0,this.clock_numsanren.node.active=!0,e>1e3){n=(new Date).getTime();this.time_num=Math.ceil((1e3*e-n)/1e3)}else e>0&&(this.time_num=e);this.schedule(this.onUpdateTimer,1,cc.macro.REPEAT_FOREVER,.01)},t.prototype.onUpdateTimer=function(){if(this.time_num<0)return this.unschedule(this.onUpdateTimer),void(this.overCall&&this.overCall());this.clock_num.string=this.time_num+"",this.clock_numsanren.string=this.time_num+"",this.time_num--,l.KWXDefine.time_nums=this.time_num},t.prototype.closeClockTime=function(){this.clock_num.node.active=!1},t.prototype.openClockTime=function(){this.clock_num.node.active=!0},r([f(cc.Label)],t.prototype,"clock_num",void 0),r([f(cc.Label)],t.prototype,"clock_numsanren",void 0),r([f(cc.Label)],t.prototype,"left_num",void 0),r([f(c.default)],t.prototype,"KWXTingArea",void 0),r([f(cc.Node)],t.prototype,"ting_node",void 0),r([f(cc.Label)],t.prototype,"paiju_num",void 0),r([f(cc.Label)],t.prototype,"room_id",void 0),r([f(cc.Label)],t.prototype,"difen_num",void 0),r([f(cc.Label)],t.prototype,"fanshu_dec",void 0),r([f(cc.Label)],t.prototype,"ma_dec",void 0),r([f(cc.Label)],t.prototype,"ma_decSan",void 0),r([f(cc.Label)],t.prototype,"play_dec",void 0),r([f(cc.Label)],t.prototype,"play_decSan",void 0),r([f(cc.Node)],t.prototype,"oper_node",void 0),r([f(cc.Node)],t.prototype,"oper_nodesan",void 0),r([f(cc.SpriteFrame)],t.prototype,"kuaishuchang",void 0),r([f(cc.Node)],t.prototype,"kuaishuchangs",void 0),t=r([h],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../KWXDefine":"KWXDefine","../MJData":"MJData","./KWXOutArea":"KWXOutArea"}],KWXTips:[function(e,t,n){"use strict";cc._RF.push(t,"43ddcK32+FMwonoFsC4RZzN","KWXTips");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../common/utils/Utils"),o=e("../../../view/base/PopupView"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tips_lab=null,t.btn_cancel=null,t.btn_sure=null,t._callfunc=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){a.default.addClickEventEND(this.btn_sure,this.onClicEvent.bind(this)),a.default.addClickEventEND(this.btn_cancel,this.onClicEvent.bind(this))},t.prototype.initData=function(e){console.log("\u5f53\u524d\u4fe1\u606f",e),this.tips_lab.string=e.text,this._callfunc=e.callback,0==e.status?(this.btn_cancel.active=!0,this.btn_sure.active=!0):1==e.status?(this.btn_cancel.active=!1,this.btn_sure.active=!0,this.btn_sure.x=0):(this.btn_cancel.active=!0,this.btn_sure.active=!0)},t.prototype.onClicEvent=function(e){var t=e.name;"btn_sure"==t?(this._callfunc(),this.node.destroy()):"btn_cancel"==t&&this.node.destroy()},r([l(cc.Label)],t.prototype,"tips_lab",void 0),r([l(cc.Node)],t.prototype,"btn_cancel",void 0),r([l(cc.Node)],t.prototype,"btn_sure",void 0),t=r([c],t)}(o.default);n.default=u,cc._RF.pop()},{"../../../common/utils/Utils":"Utils","../../../view/base/PopupView":"PopupView"}],KWXTool:[function(e,t,n){"use strict";cc._RF.push(t,"c81b9WIMRlD3Yeqxvd7c0B1","KWXTool"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./KWXDefine"),r=function(){function e(){}return e.prototype.getLocalIndex=function(e){var t=e,n=i.KWXDefine.GAME_PLAYER;return(t-1+n)%n},e.prototype.getUserSexByID=function(e){return 1},e.prototype.getFilteredExcept=function(e,t){return e.filter(function(e){return-1==t.indexOf(e)})},e.prototype.sortCardList=function(e){var t=e.length;if(0==t)return e;for(var n=0;n<t;n++)for(var i=n+1;i<t;i++)if(e[n]<e[i]){var r=e[n];e[n]=e[i],e[i]=r}else e[n],e[i];console.log("\u6392\u5e8f\u540e",e)},e.prototype.sortOtherCardList=function(e){if(e&&e.length>0){var t=e.length;if(0==t)return e;for(var n=0;n<t;n++)for(var i=n+1;i<t;i++)if(e[n]>e[i]){var r=e[n];e[n]=e[i],e[i]=r}else e[n],e[i]}},e.prototype.sliceArray=function(e,t){var n=e.slice(t),i=e.slice(0,t);return n.concat(i)},e.prototype.getLocationID=function(e){if(2==i.KWXDefine.GAME_PLAYER)return i.KWXDefine.SEAT_ID==e?0:3;console.log("mySeat\u4f4d\u7f6e",i.KWXDefine.SEAT_ID);var t=i.KWXDefine.SEAT_ID,n=e,r=i.KWXDefine.GAME_PLAYER;return(n-t+r)%r},e.prototype.huifanggetLocationID=function(e){return 2==i.KWXDefine.GAME_PLAYER?0==e?0:3:0==e?0:1==e?1:2==e?2:void 0},e.instance=new e,e}();n.default=r.instance,cc._RF.pop()},{"./KWXDefine":"KWXDefine"}],KWXTopPanel:[function(e,t,n){"use strict";cc._RF.push(t,"7abd7nsm1BHd5/ELBNGV3hj","KWXTopPanel");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/utils/Utils"),c=e("../../../manager/UIManager"),l=e("../../../manager/NetManager"),u=e("../../../manager/DataManager"),h=e("../../../manager/ResManager"),f=e("../../../manager/AudioManager"),d=e("../KWXDefine"),p=cc._decorator,g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_menu=null,t.menuPanel=null,t.btn_back=null,t.btn_color=null,t.btn_set=null,t.btn_cancel=null,t.btn_shezhi=null,t.btn_huanfu=null,t.mSetting=null,t.mFangyan=null,t.mPuTongHua=null,t.mXiangYang=null,t.mshiyan=null,t.mxiaogan=null,t.mm_huanfu=[],t.mmj_huanfu=[],t._gameView=null,t._isShow=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=u.DataManager.storage.get("Music_switch"),t=u.DataManager.storage.get("Music_YinXiaoQuan"),n=this.mSetting.getChildByName("yinyueNode").getChildByName("Toggle");null==e?(n.getComponent(cc.Toggle).isChecked=!0,f.AudioManager.setBGMVolume(.3)):(e&&f.AudioManager.setBGMVolume(.3),n.getComponent(cc.Toggle).isChecked=e);var i=this.mSetting.getChildByName("yinxiaoNode").getChildByName("Toggle");i.getComponent(cc.Toggle).isChecked=null==t||t},t.prototype.isShow=function(e){this._isShow=e},t.prototype.initzation=function(e){this._gameView=e,this.addEvenListener()},t.prototype.addEvenListener=function(){s.default.addClickEventEND(this.btn_menu,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_back,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_color,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_set,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_cancel,this.onTouchHide.bind(this))},t.prototype.onTouchHide=function(e){this.menuPanel.active=!1},t.prototype.onEvenClickButton=function(e){var t=e.name;if(console.log("touch",t),!this._isShow)if("btn_back"==t)this._gameView.isStartGame?(c.UIManager.showKWXTipsPopup("\u786e\u5b9a\u89e3\u6563\u623f\u95f4\u5417\uff1f",function(){l.NetManager.protocolKWX.sendC2S_JieShanApply()},0),this.menuPanel.active=!this.menuPanel.active):c.UIManager.showKWXTipsPopup("\u786e\u5b9a\u9000\u51fa\u623f\u95f4\u5417\uff1f",function(){l.NetManager.protocolKWX.sendC2S_ExitRoom()},0);else if("btn_menu"==t)this.menuPanel.active=!this.menuPanel.active,this.menuPanel.active&&this.setBtnImg();else if("btn_color"==t){this.btn_huanfu.active=!0;var n=u.DataManager.storage.get("Setbackground");2==n?this.mm_huanfu[1].getComponent(cc.Toggle).isChecked=!0:3==n?this.mm_huanfu[2].getComponent(cc.Toggle).isChecked=!0:this.mm_huanfu[0].getComponent(cc.Toggle).isChecked=!0,u.DataManager.storage.get("brand")&&(d.KWXDefine.pifu=u.DataManager.storage.get("brand"));var i=d.KWXDefine.pifu;console.log("skin",i),1==i?this.mmj_huanfu[1].getComponent(cc.Toggle).isChecked=!0:2==i?this.mmj_huanfu[2].getComponent(cc.Toggle).isChecked=!0:this.mmj_huanfu[0].getComponent(cc.Toggle).isChecked=!0}else if("btn_set"==t){this.btn_shezhi.active=!0;var r=u.DataManager.storage.get("FangYan");console.log("\u65b9\u8a00",r),1==r||null==r?this.mXiangYang.getComponent(cc.Toggle).isChecked=!0:2==r?this.mPuTongHua.getComponent(cc.Toggle).isChecked=!0:3==r?this.mshiyan.getComponent(cc.Toggle).isChecked=!0:4==r&&(this.mxiaogan.getComponent(cc.Toggle).isChecked=!0)}},t.prototype.onClickMusic=function(e){e.isChecked?(u.DataManager.storage.set("Music_switch",!0),f.AudioManager.setBGMVolume(.3)):(f.AudioManager.setBGMVolume(0),u.DataManager.storage.set("Music_switch",!1))},t.prototype.onClickFangYan=function(e){var t=e.target.name;"toggle1"==t?u.DataManager.storage.set("FangYan",1):"toggle2"==t?u.DataManager.storage.set("FangYan",2):"toggle3"==t?u.DataManager.storage.set("FangYan",3):"toggle4"==t&&u.DataManager.storage.set("FangYan",4)},t.prototype.onClickEffect=function(e){e.isChecked?(f.AudioManager.setSFXVolume(1),u.DataManager.storage.set("Music_YinXiaoQuan",!0)):(f.AudioManager.setSFXVolume(0),u.DataManager.storage.set("Music_YinXiaoQuan",!1))},t.prototype.shezhiguanbi=function(e){this.btn_shezhi.active=!this.btn_shezhi.active},t.prototype.huanfu=function(e){this.btn_huanfu.active=!this.btn_huanfu.active},t.prototype.setBtnImg=function(){this._gameView.isStartGame?this.setSpirteValue(1):this.setSpirteValue(0)},t.prototype.setSpirteValue=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,h.ResManager.loadResAsync("game/kwx/view/acc/KWX_menu_back"+e,cc.SpriteFrame)];case 1:return t=n.sent(),this.btn_back.getChildByName("back").getComponent(cc.Sprite).spriteFrame=t,[2]}})})},r([m(cc.Node)],t.prototype,"btn_menu",void 0),r([m(cc.Node)],t.prototype,"menuPanel",void 0),r([m(cc.Node)],t.prototype,"btn_back",void 0),r([m(cc.Node)],t.prototype,"btn_color",void 0),r([m(cc.Node)],t.prototype,"btn_set",void 0),r([m(cc.Node)],t.prototype,"btn_cancel",void 0),r([m(cc.Node)],t.prototype,"btn_shezhi",void 0),r([m(cc.Node)],t.prototype,"btn_huanfu",void 0),r([m(cc.Node)],t.prototype,"mSetting",void 0),r([m(cc.Node)],t.prototype,"mFangyan",void 0),r([m(cc.Node)],t.prototype,"mPuTongHua",void 0),r([m(cc.Node)],t.prototype,"mXiangYang",void 0),r([m(cc.Node)],t.prototype,"mshiyan",void 0),r([m(cc.Node)],t.prototype,"mxiaogan",void 0),r([m(cc.Node)],t.prototype,"mm_huanfu",void 0),r([m(cc.Node)],t.prototype,"mmj_huanfu",void 0),t=r([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../../common/utils/Utils":"Utils","../../../manager/AudioManager":"AudioManager","../../../manager/DataManager":"DataManager","../../../manager/NetManager":"NetManager","../../../manager/ResManager":"ResManager","../../../manager/UIManager":"UIManager","../KWXDefine":"KWXDefine"}],Kefu:[function(e,t,n){"use strict";cc._RF.push(t,"ca3b81GPhBKc6TcEJ/vQMId","Kefu");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/BaseView"),o=e("../manager/DataManager"),s=e("../net/HttpUrl"),c=e("../manager/UIManager"),l=e("../manager/NetManager"),u=e("../net/NetCode"),h=e("../common/UIHelper"),f=cc._decorator,d=f.ccclass,p=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mkefuscroll=null,t.mWuKeFu=null,t}return i(t,e),t.prototype.onLoad=function(){this.mWuKeFu.active=!1,this.mkefuscroll.active=!0},t.prototype.start=function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1)),this.initListDetail()},t.prototype.initListDetail=function(){var e=this,t=o.DataManager.playerInfo.id,n=o.DataManager.storage.getItem("token"),i=s.HttpUrl.getHallCustomer.url+"?userId="+t+"&loginToken="+n+"&teamId=111";l.NetManager.requestGetUrl(i,function(t,n){c.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");var i=JSON.parse(n);if(i.status==u.HTTP_CODE.SUCCESS)if(i.data.length>0)for(var r=0;r<i.data.length;r++)h.default.loadHead(i.data[r].avatar,e.mkefuscroll.children[r]),e.mkefuscroll.children[r].active=!0;else e.mWuKeFu.active=!0;else c.UIManager.showTips(u.HTTP_CODE_MSG[i.status])})},r([p(cc.Node)],t.prototype,"mkefuscroll",void 0),r([p(cc.Node)],t.prototype,"mWuKeFu",void 0),t=r([d],t)}(a.default);n.default=g,cc._RF.pop()},{"../common/UIHelper":"UIHelper","../manager/DataManager":"DataManager","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","./base/BaseView":"BaseView"}],ListEx:[function(e,t,n){"use strict";cc._RF.push(t,"0a87bXyVDVL54UDTL/are2C","ListEx"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=i.property,o=i.menu,s=i.requireComponent,c=i.executionOrder,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemTemplete=[],t.renderEvent=new cc.Component.EventHandler,t.scrollView=null,t.content=null,t.view=null,t._datas=null,t.startIndex=0,t.endIndex=0,t.pool=[],t.fixed=.15,t}return __extends(t,e),t.prototype.onLoad=function(){this.scrollView=this.node.getComponent(cc.ScrollView),this.content=this.scrollView.content,this.view=this.content.parent,this.node.on("scrolling",this.onScrolling,this,!0)},Object.defineProperty(t.prototype,"datas",{get:function(){return this._datas},set:function(e){this._datas=e,this.init(),this.updateItems()},enumerable:!0,configurable:!0}),t.prototype.init=function(){if(this.content){for(var e=0,t=0;t<this.datas.length;t++){var n=this.datas[t];if(n){var i=n.templete||0;e+=this.itemTemplete[i].height}}this.content.height=e,this.content.removeAllChildren(),this.content.height>this.scrollView.node.height&&this.scrollView.scrollToBottom(0),this.initTemplete()}},t.prototype.getTemplete=function(e){for(var t=this.pool.length-1;t>=0;t--){if(this.pool[t].templete==e&&!this.pool[t].isBusy)return this.pool[t].isBusy=!0,this.pool[t].node}var n=cc.instantiate(this.itemTemplete[e]);return this.pool.push({templete:e,node:n,isBusy:!0}),n},t.prototype.putTemplete=function(e){for(var t=this.pool.length-1;t>=0;t--)if(this.pool[t].node==e&&this.pool[t].isBusy){this.pool[t].isBusy=!1,e.parent=null;break}},t.prototype.initTemplete=function(){for(var e=this.pool.length-1;e>=0;e--)this.pool[e].isBusy=!1,this.pool[e].node.parent=null},t.prototype.updateItems=function(){var e=this;if(this.datas&&this.content)for(var t=this.content.getPosition(),n=this.content.height,i=function(i){var a=r.datas[i];if(a){var o=a.templete||0;n-=r.itemTemplete[o].height;var s=!1;if(r.content.children.forEach(function(i){(Math.abs(i.y)-i.height/2<t.y-e.scrollView.node.height*e.fixed||Math.abs(i.y)+i.height/2>t.y+e.scrollView.node.height*(1+e.fixed))&&e.putTemplete(i);var r=-n-i.height/2;Math.abs(i.y-r)<=.1&&(s=!0)}),!s&&n>=t.y-r.scrollView.node.height*r.fixed&&n+r.itemTemplete[o].height<=t.y+r.scrollView.node.height*(1+r.fixed)){var c=r.getTemplete(o);cc.Component.EventHandler.emitEvents([r.renderEvent],c,i,a),r.content.addChild(c),c.y=-n-c.height/2}}},r=this,a=this.datas.length-1;a>=0;a--)i(a)},t.prototype.onScrolling=function(){this.updateItems()},t.prototype.onDestroy=function(){if(this.node.off("scrolling",this.onScrolling,this,!0),this.pool)for(var e=this.pool.length-1;e>=0;e--)!this.pool[e].isBusy&&cc.isValid(this.pool[e].node)&&this.pool[e].node.destroy();if(this.pool=null,this.itemTemplete)for(e=this.itemTemplete.length;e>=0;e--)cc.isValid(this.itemTemplete[e])&&this.itemTemplete[e].destroy();this.itemTemplete=null},__decorate([a([cc.Node])],t.prototype,"itemTemplete",void 0),__decorate([a(cc.Component.EventHandler)],t.prototype,"renderEvent",void 0),t=__decorate([r,o("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ListEx"),s(cc.ScrollView),c(-5e3)],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],ListItem:[function(e,t,n){"use strict";cc._RF.push(t,"6516eKknP5AIrR3/uwymVjV","ListItem"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=cc._decorator,a=r.ccclass,o=r.property,s=r.disallowMultiple,c=r.menu,l=r.executionOrder;(function(e){e[e.NONE=0]="NONE",e[e.TOGGLE=1]="TOGGLE",e[e.SWITCH=2]="SWITCH"})(i||(i={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.title=null,t.selectedMode=i.NONE,t.selectedFlag=null,t.selectedSpriteFrame=null,t._unselectedSpriteFrame=null,t.adaptiveSize=!1,t._selected=!1,t._eventReg=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){if(this._selected=e,this.selectedFlag)switch(this.selectedMode){case i.TOGGLE:this.selectedFlag.active=e;break;case i.SWITCH:var t=this.selectedFlag.getComponent(cc.Sprite);t&&(t.spriteFrame=e?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){if(this.selectedMode==i.SWITCH){var e=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=e.spriteFrame}},t.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},t.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},t.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},t.prototype.createEvt=function(e,t,n){if(void 0===n&&(n=null),e.isValid){e.comName=e.comName||e.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var i=new cc.Component.EventHandler;return i.target=n||e.node,i.component=e.comName,i.handler=t,i}},t.prototype.showAni=function(e,t,n){var i,r=this;switch(e){case 0:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:i=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:i=[cc.scaleTo(.3,.1)]}(t||n)&&i.push(cc.callFunc(function(){if(n){r.list._delSingleItem(r.node);for(var e=r.list.displayData.length-1;e>=0;e--)if(r.list.displayData[e].id==r.listId){r.list.displayData.splice(e,1);break}}t()})),this.node.runAction(cc.sequence(i))},t.prototype.onClickThis=function(){this.list.selectedId=this.listId},__decorate([o({type:cc.Sprite,tooltip:!1})],t.prototype,"icon",void 0),__decorate([o({type:cc.Node,tooltip:!1})],t.prototype,"title",void 0),__decorate([o({type:cc.Enum(i),tooltip:!1})],t.prototype,"selectedMode",void 0),__decorate([o({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>i.NONE}})],t.prototype,"selectedFlag",void 0),__decorate([o({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==i.SWITCH}})],t.prototype,"selectedSpriteFrame",void 0),__decorate([o({tooltip:!1})],t.prototype,"adaptiveSize",void 0),t=__decorate([a,s(),c("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),l(-5001)],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],List:[function(e,t,n){"use strict";cc._RF.push(t,"f1f3fjmlZhPxqJFvUFCcbpe","List");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a,o,s,c=cc._decorator,l=c.ccclass,u=c.property,h=c.disallowMultiple,f=c.menu,d=c.executionOrder,p=c.requireComponent,g=e("./ListItem");(function(e){e[e.NODE=1]="NODE",e[e.PREFAB=2]="PREFAB"})(a||(a={})),function(e){e[e.NORMAL=1]="NORMAL",e[e.ADHERING=2]="ADHERING",e[e.PAGE=3]="PAGE"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.SINGLE=1]="SINGLE",e[e.MULT=2]="MULT"}(s||(s={}));var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateType=a.NODE,t.tmpNode=null,t.tmpPrefab=null,t._slideMode=o.NORMAL,t.pageDistance=.3,t.pageChangeEvent=new cc.Component.EventHandler,t._virtual=!0,t.cyclic=!1,t.lackCenter=!1,t.lackSlide=!1,t._updateRate=0,t.isInitItem=!1,t.frameByFrameRenderNum=0,t.renderEvent=new cc.Component.EventHandler,t.selectedMode=s.NONE,t.repeatEventSingle=!1,t.selectedEvent=null,t._selectedId=-1,t._forceUpdate=!1,t._updateDone=!0,t._numItems=0,t._inited=!1,t._needUpdateWidget=!1,t._aniDelRuning=!1,t._doneAfterUpdate=!1,t.adhering=!1,t._adheringBarrier=!1,t.curPageNum=0,t}return i(t,e),Object.defineProperty(t.prototype,"slideMode",{get:function(){return this._slideMode},set:function(e){this._slideMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtual",{get:function(){return this._virtual},set:function(e){null!=e&&(this._virtual=e),0!=this._numItems&&this._onScrolling()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateRate",{get:function(){return this._updateRate},set:function(e){e>=0&&e<=6&&(this._updateRate=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedId",{get:function(){return this._selectedId},set:function(e){var t,n=this;switch(n.selectedMode){case s.SINGLE:if(!n.repeatEventSingle&&e==n._selectedId)return;t=n.getItemByListId(e);var i=void 0;if(n._selectedId>=0?n._lastSelectedId=n._selectedId:n._lastSelectedId=null,n._selectedId=e,t&&((i=t.getComponent(g.default)).selected=!0),n._lastSelectedId>=0&&n._lastSelectedId!=n._selectedId){var r=n.getItemByListId(n._lastSelectedId);r&&(r.getComponent(g.default).selected=!1)}n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],t,e%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems);break;case s.MULT:if(!(t=n.getItemByListId(e)))return;i=t.getComponent(g.default);n._selectedId>=0&&(n._lastSelectedId=n._selectedId),n._selectedId=e;var a=!i.selected;i.selected=a;var o=n.multSelected.indexOf(e);a&&o<0?n.multSelected.push(e):!a&&o>=0&&n.multSelected.splice(o,1),n.selectedEvent&&cc.Component.EventHandler.emitEvents([n.selectedEvent],t,e%this._actualNumItems,null==n._lastSelectedId?null:n._lastSelectedId%this._actualNumItems,a)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(e){var t=this;if(t.checkInited(!1))if(null==e||e<0)cc.error("numItems set the wrong::",e);else if(t._actualNumItems=t._numItems=e,t._forceUpdate=!0,t._virtual)t._resizeContent(),t.cyclic&&(t._numItems=t._cyclicNum*t._numItems),t._onScrolling(),t.frameByFrameRenderNum||t.slideMode!=o.PAGE||(t.curPageNum=t.nearestListId);else{var n=t.content.getComponent(cc.Layout);if(n&&(n.enabled=!0),t._delRedundantItem(),t.firstListId=0,t.frameByFrameRenderNum>0){for(var i=t.frameByFrameRenderNum>t._numItems?t._numItems:t.frameByFrameRenderNum,r=0;r<i;r++)t._createOrUpdateItem2(r);t.frameByFrameRenderNum<t._numItems&&(t._updateCounter=t.frameByFrameRenderNum,t._updateDone=!1)}else{for(r=0;r<e;r++)t._createOrUpdateItem2(r);t.displayItemNum=e}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!0,configurable:!0}),t.prototype.onLoad=function(){this._init()},t.prototype.onDestroy=function(){var e=this;for(e._itemTmp&&e._itemTmp.isValid&&e._itemTmp.destroy(),e.tmpNode&&e.tmpNode.isValid&&e.tmpNode.destroy();e._pool.size();){e._pool.get().destroy()}},t.prototype.onEnable=function(){this._registerEvent(),this._init()},t.prototype.onDisable=function(){this._unregisterEvent()},t.prototype._registerEvent=function(){var e=this;e.node.on(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.on("touch-up",e._onTouchUp,e),e.node.on(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.on("scroll-began",e._onScrollBegan,e,!0),e.node.on("scroll-ended",e._onScrollEnded,e,!0),e.node.on("scrolling",e._onScrolling,e,!0),e.node.on(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._unregisterEvent=function(){var e=this;e.node.off(cc.Node.EventType.TOUCH_START,e._onTouchStart,e,!0),e.node.off("touch-up",e._onTouchUp,e),e.node.off(cc.Node.EventType.TOUCH_CANCEL,e._onTouchCancelled,e,!0),e.node.off("scroll-began",e._onScrollBegan,e,!0),e.node.off("scroll-ended",e._onScrollEnded,e,!0),e.node.off("scrolling",e._onScrolling,e,!0),e.node.off(cc.Node.EventType.SIZE_CHANGED,e._onSizeChanged,e)},t.prototype._init=function(){var e=this;if(!e._inited)if(e._scrollView=e.node.getComponent(cc.ScrollView),e.content=e._scrollView.content,e.content){switch(e._layout=e.content.getComponent(cc.Layout),e._align=e._layout.type,e._resizeMode=e._layout.resizeMode,e._startAxis=e._layout.startAxis,e._topGap=e._layout.paddingTop,e._rightGap=e._layout.paddingRight,e._bottomGap=e._layout.paddingBottom,e._leftGap=e._layout.paddingLeft,e._columnGap=e._layout.spacingX,e._lineGap=e._layout.spacingY,e._colLineNum,e._verticalDir=e._layout.verticalDirection,e._horizontalDir=e._layout.horizontalDirection,e.setTemplateItem(cc.instantiate(e.templateType==a.PREFAB?e.tmpPrefab:e.tmpNode)),e._slideMode!=o.ADHERING&&e._slideMode!=o.PAGE||(e._scrollView.inertia=!1,e._scrollView._onMouseWheel=function(){}),e.virtual||(e.lackCenter=!1),e._lastDisplayData=[],e.displayData=[],e._pool=new cc.NodePool,e._forceUpdate=!1,e._updateCounter=0,e._updateDone=!0,e.curPageNum=0,e.cyclic&&(e._scrollView._processAutoScrolling=this._processAutoScrolling.bind(e),e._scrollView._startBounceBackIfNeeded=function(){return!1}),e._align){case cc.Layout.Type.HORIZONTAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(e._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:e._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:e._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(e._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:e._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:e._alignCalcType=2}}}this.isInitItem&&e.content.children.forEach(function(t){e._pool.put(t)}),e.content.removeAllChildren(),e._inited=!0}else cc.error(e.node.name+"'s cc.ScrollView unset content!")},t.prototype._processAutoScrolling=function(e){this._scrollView._autoScrollAccumulatedTime+=1*e;var t=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var n=t-1;t=n*n*n*n*n+1}var i=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(t)),r=this._scrollView.getScrollEndedEventTiming(),a=Math.abs(t-1)<=r;Math.abs(t-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),a&&(this._scrollView._autoScrolling=!1);var o=i.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(o),a),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},t.prototype.setTemplateItem=function(e){if(e){var t=this;t._itemTmp=e,t._resizeMode==cc.Layout.ResizeMode.CHILDREN?t._itemSize=t._layout.cellSize:t._itemSize=cc.size(e.width,e.height);var n=e.getComponent(g.default),i=!1;switch(n||(i=!0),i&&(t.selectedMode=s.NONE),(n=e.getComponent(cc.Widget))&&n.enabled&&(t._needUpdateWidget=!0),t.selectedMode==s.MULT&&(t.multSelected=[]),t._align){case cc.Layout.Type.HORIZONTAL:t._colLineNum=1,t._sizeType=!1;break;case cc.Layout.Type.VERTICAL:t._colLineNum=1,t._sizeType=!0;break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var r=t.content.width-t._leftGap-t._rightGap;t._colLineNum=Math.floor((r+t._columnGap)/(t._itemSize.width+t._columnGap)),t._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var a=t.content.height-t._topGap-t._bottomGap;t._colLineNum=Math.floor((a+t._lineGap)/(t._itemSize.height+t._lineGap)),t._sizeType=!1}}}},t.prototype.checkInited=function(e){return void 0===e&&(e=!0),!!this._inited||(e&&cc.error("List initialization not completed!"),!1)},t.prototype._resizeContent=function(){var e,t=this;switch(t._align){case cc.Layout.Type.HORIZONTAL:if(t._customSize){var n=t._getFixedSize(null);e=t._leftGap+n.val+t._itemSize.width*(t._numItems-n.count)+t._columnGap*(t._numItems-1)+t._rightGap}else e=t._leftGap+t._itemSize.width*t._numItems+t._columnGap*(t._numItems-1)+t._rightGap;break;case cc.Layout.Type.VERTICAL:if(t._customSize){n=t._getFixedSize(null);e=t._topGap+n.val+t._itemSize.height*(t._numItems-n.count)+t._lineGap*(t._numItems-1)+t._bottomGap}else e=t._topGap+t._itemSize.height*t._numItems+t._lineGap*(t._numItems-1)+t._bottomGap;break;case cc.Layout.Type.GRID:switch(t.lackCenter&&(t.lackCenter=!1),t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=Math.ceil(t._numItems/t._colLineNum);e=t._topGap+t._itemSize.height*i+t._lineGap*(i-1)+t._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var r=Math.ceil(t._numItems/t._colLineNum);e=t._leftGap+t._itemSize.width*r+t._columnGap*(r-1)+t._rightGap}}var a=t.content.getComponent(cc.Layout);if(a&&(a.enabled=!1),t._allItemSize=e,t._allItemSizeNoEdge=t._allItemSize-(t._sizeType?t._topGap+t._bottomGap:t._leftGap+t._rightGap),t.cyclic){var o=t._sizeType?t.node.height:t.node.width;t._cyclicPos1=0,o-=t._cyclicPos1,t._cyclicNum=Math.ceil(o/t._allItemSizeNoEdge)+1;var s=t._sizeType?t._lineGap:t._columnGap;t._cyclicPos2=t._cyclicPos1+t._allItemSizeNoEdge+s,t._cyclicAllItemSize=t._allItemSize+t._allItemSizeNoEdge*(t._cyclicNum-1)+s*(t._cyclicNum-1),t._cycilcAllItemSizeNoEdge=t._allItemSizeNoEdge*t._cyclicNum,t._cycilcAllItemSizeNoEdge+=s*(t._cyclicNum-1)}t._lack=!t.cyclic&&t._allItemSize<(t._sizeType?t.node.height:t.node.width);var c=t._lack&&t.lackCenter||!t.lackSlide?.1:0,l=t._lack?(t._sizeType?t.node.height:t.node.width)-c:t.cyclic?t._cyclicAllItemSize:t._allItemSize;l<0&&(l=0),t._sizeType?t.content.height=l:t.content.width=l},t.prototype._onScrolling=function(e){if(void 0===e&&(e=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&e&&"scroll-ended"!=e.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var t=this.content.getPosition();t=this._sizeType?t.y:t.x;var n=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),i=this._sizeType?cc.v2(0,n):cc.v2(n,0);switch(this._alignCalcType){case 1:t>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):t<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)));break;case 2:t<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):t>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 3:t<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):t>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 4:t>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):t<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)))}}var r,a,o,s;if(this._calcViewPos(),this._sizeType?(r=this.viewTop,o=this.viewBottom):(a=this.viewRight,s=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,l=0,u=this._numItems-1;if(this._customSize)for(var h=!1;l<=u&&!h;l++)switch(c=this._calcItemPos(l),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=s&&c.left<=a?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=r&&c.top>=o?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=r&&c.top>=o?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=s&&c.left<=a?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0)}}else{var f=this._itemSize.width+this._columnGap,d=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(s+this._leftGap)/f,u=(a+this._rightGap)/f;break;case 2:l=(-a-this._rightGap)/f,u=(-s-this._leftGap)/f;break;case 3:l=(-r-this._topGap)/d,u=(-o-this._bottomGap)/d;break;case 4:l=(o+this._bottomGap)/d,u=(r+this._topGap)/d}for(l=Math.floor(l)*this._colLineNum,u=Math.ceil(u)*this._colLineNum,u--,l<0&&(l=0),u>=this._numItems&&(u=this._numItems-1);l<=u;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var p=this._lastDisplayData.length,g=this.displayItemNum!=p;if(g&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(e,t){return e-t}),g=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[p-1]),this._forceUpdate||g)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var m=0;m<this.displayItemNum;m++)this._createOrUpdateItem(this.displayData[m]);this._forceUpdate=!1}this._calcNearestItem()}}},t.prototype._calcViewPos=function(){var e=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=e.x>0?e.x:0,this.viewLeft=(e.x<0?-e.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=e.x<0?-e.x:0,this.viewRight=(e.x>0?-e.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=e.y<0?Math.abs(e.y):0,this.viewTop=(e.y>0?-e.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=e.y>0?Math.abs(e.y):0,this.viewBottom=(e.y<0?-e.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},t.prototype._calcItemPos=function(e){var t,n,i,r,a,o,s,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(e);a=this._leftGap+(this._itemSize.width+this._columnGap)*(e-l.count)+(l.val+this._columnGap*l.count),t=(u=this._customSize[e])>0?u:this._itemSize.width}else a=this._leftGap+(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;if(o=a+t,this.lackCenter)a+=h=this.content.width/2-this._allItemSizeNoEdge/2,o+=h;return{id:e,left:a,right:o,x:a+this._itemTmp.anchorX*t,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:if(this._customSize){l=this._getFixedSize(e);o=-this._rightGap-(this._itemSize.width+this._columnGap)*(e-l.count)-(l.val+this._columnGap*l.count),t=(u=this._customSize[e])>0?u:this._itemSize.width}else o=-this._rightGap-(this._itemSize.width+this._columnGap)*e,t=this._itemSize.width;if(a=o-t,this.lackCenter)a-=h=this.content.width/2-this._allItemSizeNoEdge/2,o-=h;return{id:e,right:o,left:a,x:a+this._itemTmp.anchorX*t,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:if(this._customSize){l=this._getFixedSize(e);i=-this._topGap-(this._itemSize.height+this._lineGap)*(e-l.count)-(l.val+this._lineGap*l.count),n=(u=this._customSize[e])>0?u:this._itemSize.height}else i=-this._topGap-(this._itemSize.height+this._lineGap)*e,n=this._itemSize.height;if(r=i-n,this.lackCenter)i-=h=this.content.height/2-this._allItemSizeNoEdge/2,r-=h;return{id:e,top:i,bottom:r,x:this._itemTmp.x,y:r+this._itemTmp.anchorY*n};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:if(this._customSize){var u;l=this._getFixedSize(e);r=this._bottomGap+(this._itemSize.height+this._lineGap)*(e-l.count)+(l.val+this._lineGap*l.count),n=(u=this._customSize[e])>0?u:this._itemSize.height}else r=this._bottomGap+(this._itemSize.height+this._lineGap)*e,n=this._itemSize.height;var h;if(i=r+n,this.lackCenter)i+=h=this.content.height/2-this._allItemSizeNoEdge/2,r+=h;return{id:e,top:i,bottom:r,x:this._itemTmp.x,y:r+this._itemTmp.anchorY*n}}case cc.Layout.Type.GRID:var f=Math.floor(e/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(r=(i=-this._topGap-(this._itemSize.height+this._lineGap)*f)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:i=(r=this._bottomGap+(this._itemSize.height+this._lineGap)*f)+this._itemSize.height,c=r+this._itemTmp.anchorY*this._itemSize.height}switch(s=this._leftGap+e%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s+=this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s+=(1-this._itemTmp.anchorX)*this._itemSize.width,s-=(1-this.content.anchorX)*this.content.width,s*=-1}return{id:e,top:i,bottom:r,x:s,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:o=(a=this._leftGap+(this._itemSize.width+this._columnGap)*f)+this._itemSize.width,s=a+this._itemTmp.anchorX*this._itemSize.width,s-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:s=(a=(o=-this._rightGap-(this._itemSize.width+this._columnGap)*f)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,s+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-e%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:e,left:a,right:o,x:s,y:c}}}},t.prototype._calcExistItemPos=function(e){var t=this.getItemByListId(e);if(!t)return null;var n={id:e,x:t.x,y:t.y};return this._sizeType?(n.top=t.y+t.height*(1-t.anchorY),n.bottom=t.y-t.height*t.anchorY):(n.left=t.x-t.width*t.anchorX,n.right=t.x+t.width*(1-t.anchorX)),n},t.prototype.getItemPos=function(e){return this._virtual?this._calcItemPos(e):this.frameByFrameRenderNum?this._calcItemPos(e):this._calcExistItemPos(e)},t.prototype._getFixedSize=function(e){if(!this._customSize)return null;null==e&&(e=this._numItems);var t=0,n=0;for(var i in this._customSize)parseInt(i)<e&&(t+=this._customSize[i],n++);return{val:t,count:n}},t.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},t.prototype._onScrollEnded=function(){var e=this;if(null!=e.scrollToListId){var t=e.getItemByListId(e.scrollToListId);e.scrollToListId=null,t&&t.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))}e._onScrolling(),e._slideMode!=o.ADHERING||e.adhering?e._slideMode==o.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()):e.adhere()},t.prototype._onTouchStart=function(e,t){if(!this._scrollView._hasNestedViewGroup(e,t)&&!(e.eventPhase===cc.Event.AT_TARGET&&e.target===this.node)){for(var n=e.target;null==n._listId&&n.parent;)n=n.parent;this._scrollItem=null!=n._listId?n:e.target}},t.prototype._onTouchUp=function(){var e=this;e._scrollPos=null,e._slideMode==o.ADHERING?(this.adhering&&(this._adheringBarrier=!0),e.adhere()):e._slideMode==o.PAGE&&(null!=e._beganPos?this._pageAdhere():e.adhere()),this._scrollItem=null},t.prototype._onTouchCancelled=function(e,t){var n=this;n._scrollView._hasNestedViewGroup(e,t)||e.simulate||(n._scrollPos=null,n._slideMode==o.ADHERING?(n.adhering&&(n._adheringBarrier=!0),n.adhere()):n._slideMode==o.PAGE&&(null!=n._beganPos?n._pageAdhere():n.adhere()),this._scrollItem=null)},t.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},t.prototype._onItemAdaptive=function(e){if(this.checkInited(!1)&&(!this._sizeType&&e.width!=this._itemSize.width||this._sizeType&&e.height!=this._itemSize.height)){this._customSize||(this._customSize={});var t=this._sizeType?e.height:e.width;this._customSize[e._listId]!=t&&(this._customSize[e._listId]=t,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},t.prototype._pageAdhere=function(){var e=this;if(e.cyclic||!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){var t=e._sizeType?e.viewTop:e.viewLeft,n=(e._sizeType?e.node.height:e.node.width)*e.pageDistance;if(Math.abs(e._beganPos-t)>n){switch(e._alignCalcType){case 1:case 4:e._beganPos>t?e.prePage(.5):e.nextPage(.5);break;case 2:case 3:e._beganPos<t?e.prePage(.5):e.nextPage(.5)}}else e.elasticTop<=0&&e.elasticRight<=0&&e.elasticBottom<=0&&e.elasticLeft<=0&&e.adhere();e._beganPos=null}},t.prototype.adhere=function(){var e=this;if(e.checkInited()&&!(e.elasticTop>0||e.elasticRight>0||e.elasticBottom>0||e.elasticLeft>0)){e.adhering=!0,e._calcNearestItem();var t=(e._sizeType?e._topGap:e._leftGap)/(e._sizeType?e.node.height:e.node.width);e.scrollTo(e.nearestListId,.7,t)}},t.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var e=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++){var n=this.displayData[t];n&&this._createOrUpdateItem(n)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==o.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(e=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,t=this._updateCounter;t<e;t++)this._createOrUpdateItem2(t);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==o.PAGE&&(this.curPageNum=this.nearestListId)},t.prototype._createOrUpdateItem=function(e){var t=this.getItemByListId(e.id);if(t)this._forceUpdate&&this.renderEvent&&(t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems));else{var n=this._pool.size()>0;if((t=n?this._pool.get():cc.instantiate(this._itemTmp))._listId!=e.id&&(t._listId=e.id,t.setContentSize(this._itemSize)),t.setPosition(cc.v2(e.x,e.y)),this._resetItemSize(t),this.content.addChild(t),n&&this._needUpdateWidget){var i=t.getComponent(cc.Widget);i&&i.updateAlignment()}t.setSiblingIndex(this.content.childrenCount-1);var r=t.getComponent(g.default);t.listItem=r,r&&(r.listId=e.id,r.list=this,r._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],t,e.id%this._actualNumItems)}this._resetItemSize(t),this._updateListItem(t.listItem),this._lastDisplayData.indexOf(e.id)<0&&this._lastDisplayData.push(e.id)},t.prototype._createOrUpdateItem2=function(e){var t,n=this.content.children[e];n?this._forceUpdate&&this.renderEvent&&(n._listId=e,t&&(t.listId=e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,e)):((n=cc.instantiate(this._itemTmp))._listId=e,this.content.addChild(n),t=n.getComponent(g.default),n.listItem=t,t&&(t.listId=e,t.list=this,t._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,e)),this._updateListItem(t),this._lastDisplayData.indexOf(e)<0&&this._lastDisplayData.push(e)},t.prototype._updateListItem=function(e){if(e&&this.selectedMode>s.NONE){var t=e.node;switch(this.selectedMode){case s.SINGLE:e.selected=this.selectedId==t._listId;break;case s.MULT:e.selected=this.multSelected.indexOf(t._listId)>=0}}},t.prototype._resetItemSize=function(e){},t.prototype._updateItemPos=function(e){var t=isNaN(e)?e:this.getItemByListId(e),n=this.getItemPos(t._listId);t.setPosition(n.x,n.y)},t.prototype.setMultSelected=function(e,t){var n=this;if(n.checkInited()){if(Array.isArray(e)||(e=[e]),null==t)n.multSelected=e;else{var i=void 0,r=void 0;if(t)for(var a=e.length-1;a>=0;a--)i=e[a],(r=n.multSelected.indexOf(i))<0&&n.multSelected.push(i);else for(a=e.length-1;a>=0;a--)i=e[a],(r=n.multSelected.indexOf(i))>=0&&n.multSelected.splice(r,1)}n._forceUpdate=!0,n._onScrolling()}},t.prototype.updateItem=function(e){if(this.checkInited()){Array.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++){var i=e[t],r=this.getItemByListId(i);r&&cc.Component.EventHandler.emitEvents([this.renderEvent],r,i%this._actualNumItems)}}},t.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},t.prototype.getItemByListId=function(e){for(var t=this.content.childrenCount-1;t>=0;t--){var n=this.content.children[t];if(n._listId==e)return n}},t.prototype._getOutsideItem=function(){for(var e,t=[],n=this.content.childrenCount-1;n>=0;n--)e=this.content.children[n],this.displayData.find(function(t){return t.id==e._listId})||t.push(e);return t},t.prototype._delRedundantItem=function(){if(this._virtual)for(var e=this._getOutsideItem(),t=e.length-1;t>=0;t--){var n=e[t];if(!this._scrollItem||n._listId!=this._scrollItem._listId){n.height=this._itemSize.height,this._pool.put(n);for(var i=this._lastDisplayData.length-1;i>=0;i--)if(this._lastDisplayData[i]==n._listId){this._lastDisplayData.splice(i,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},t.prototype._delSingleItem=function(e){e.removeFromParent(),e.destroy&&e.destroy(),e=null},t.prototype.aniDelItem=function(e,t,n){var i=this;if(!i.checkInited()||i.cyclic||!i._virtual)return cc.error("This function is not allowed to be called!");if(i._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var r,a=i.getItemByListId(e);if(a){r=a.getComponent(g.default),i._aniDelRuning=!0;var o=i.displayData[i.displayData.length-1].id,c=r.selected;r.showAni(n,function(){var n;if(o<i._numItems-2&&(n=o+1),null!=n){var r=i._calcItemPos(n);i.displayData.push(r),i._virtual?i._createOrUpdateItem(r):i._createOrUpdateItem2(n)}else i._numItems--;if(i.selectedMode==s.SINGLE)c?i._selectedId=-1:i._selectedId-1>=0&&i._selectedId--;else if(i.selectedMode==s.MULT&&i.multSelected.length){var l=i.multSelected.indexOf(e);l>=0&&i.multSelected.splice(l,1);for(var u=i.multSelected.length-1;u>=0;u--){(d=i.multSelected[u])>=e&&i.multSelected[u]--}}if(i._customSize){i._customSize[e]&&delete i._customSize[e];var h={},f=void 0;for(var d in i._customSize){f=i._customSize[d];var p=parseInt(d);h[p-(p>=e?1:0)]=f}i._customSize=h}var g,m;for(u=null!=n?n:o;u>=e+1;u--)if(a=i.getItemByListId(u)){var y=i._calcItemPos(u-1);g=[cc.moveTo(.2333,cc.v2(y.x,y.y))],u<=e+1&&(m=!0,g.push(cc.callFunc(function(){i._aniDelRuning=!1,t(e)}))),g.length>1?a.runAction(cc.sequence(g)):a.runAction(g[0])}m||(i._aniDelRuning=!1,t(e))},!0)}else t(e)},t.prototype.scrollTo=function(e,t,n,i){void 0===t&&(t=.5),void 0===n&&(n=null),void 0===i&&(i=!1);var r=this;if(r.checkInited(!1)){null==t?t=.5:t<0&&(t=0),e<0?e=0:e>=r._numItems&&(e=r._numItems-1),!r._virtual&&r._layout&&r._layout.enabled&&r._layout.updateLayout();var a,o,s=r.getItemPos(e);switch(r._alignCalcType){case 1:a=s.left,a-=null!=n?r.node.width*n:r._leftGap,s=cc.v2(a,0);break;case 2:a=s.right-r.node.width,a+=null!=n?r.node.width*n:r._rightGap,s=cc.v2(a+r.content.width,0);break;case 3:o=s.top,o+=null!=n?r.node.height*n:r._topGap,s=cc.v2(0,-o);break;case 4:o=s.bottom+r.node.height,o-=null!=n?r.node.height*n:r._bottomGap,s=cc.v2(0,-o+r.content.height)}var c=r.content.getPosition();c=Math.abs(r._sizeType?c.y:c.x);var l=r._sizeType?s.y:s.x;Math.abs((null!=r._scrollPos?r._scrollPos:c)-l)>.5&&(r._scrollView.scrollToOffset(s,t),r._scrollToListId=e,r._scrollToEndTime=(new Date).getTime()/1e3+t,r._scrollToSo=r.scheduleOnce(function(){if(r._adheringBarrier||(r.adhering=r._adheringBarrier=!1),r._scrollPos=r._scrollToListId=r._scrollToEndTime=r._scrollToSo=null,i){var t=r.getItemByListId(e);t&&t.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))}},t+.1),t<=0&&r._onScrolling())}},t.prototype._calcNearestItem=function(){var e,t,n,i,r,a,o=this;o.nearestListId=null,o._virtual&&o._calcViewPos(),n=o.viewTop,i=o.viewRight,r=o.viewBottom,a=o.viewLeft;for(var s=!1,c=0;c<o.content.childrenCount&&!s;c+=o._colLineNum)if(e=o._virtual?o.displayData[c]:o._calcExistItemPos(c))switch(t=o._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,o._alignCalcType){case 1:e.right>=a&&(o.nearestListId=e.id,a>t&&(o.nearestListId+=o._colLineNum),s=!0);break;case 2:e.left<=i&&(o.nearestListId=e.id,i<t&&(o.nearestListId+=o._colLineNum),s=!0);break;case 3:e.bottom<=n&&(o.nearestListId=e.id,n<t&&(o.nearestListId+=o._colLineNum),s=!0);break;case 4:e.top>=r&&(o.nearestListId=e.id,r>t&&(o.nearestListId+=o._colLineNum),s=!0)}if((e=o._virtual?o.displayData[o.displayItemNum-1]:o._calcExistItemPos(o._numItems-1))&&e.id==o._numItems-1)switch(t=o._sizeType?(e.top+e.bottom)/2:t=(e.left+e.right)/2,o._alignCalcType){case 1:i>t&&(o.nearestListId=e.id);break;case 2:a<t&&(o.nearestListId=e.id);break;case 3:r<t&&(o.nearestListId=e.id);break;case 4:n>t&&(o.nearestListId=e.id)}},t.prototype.prePage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,e)},t.prototype.nextPage=function(e){void 0===e&&(e=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,e)},t.prototype.skipPage=function(e,t){var n=this;if(n.checkInited())return n._slideMode!=o.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(e<0||e>=n._numItems||n.curPageNum!=e&&(n.curPageNum=e,n.pageChangeEvent&&cc.Component.EventHandler.emitEvents([n.pageChangeEvent],e),n.scrollTo(e,t)))},t.prototype.calcCustomSize=function(e){var t=this;if(t.checkInited()){if(!t._itemTmp)return cc.error("Unset template item!");if(!t.renderEvent)return cc.error("Unset Render-Event!");t._customSize={};var n=cc.instantiate(t._itemTmp);t.content.addChild(n);for(var i=0;i<e;i++)cc.Component.EventHandler.emitEvents([t.renderEvent],n,i),n.height==t._itemSize.height&&n.width==t._itemSize.width||(t._customSize[i]=t._sizeType?n.height:n.width);return Object.keys(t._customSize).length||(t._customSize=null),n.removeFromParent(),n.destroy&&n.destroy(),t._customSize}},r([u({type:cc.Enum(a),tooltip:!1})],t.prototype,"templateType",void 0),r([u({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==a.NODE}})],t.prototype,"tmpNode",void 0),r([u({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==a.PREFAB}})],t.prototype,"tmpPrefab",void 0),r([u()],t.prototype,"_slideMode",void 0),r([u({type:cc.Enum(o),tooltip:!1})],t.prototype,"slideMode",null),r([u({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==o.PAGE}})],t.prototype,"pageDistance",void 0),r([u({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==o.PAGE}})],t.prototype,"pageChangeEvent",void 0),r([u()],t.prototype,"_virtual",void 0),r([u({type:cc.Boolean,tooltip:!1})],t.prototype,"virtual",null),r([u({tooltip:!1,visible:function(){var e=this.virtual&&this.slideMode==o.NORMAL;return e||(this.cyclic=!1),e}})],t.prototype,"cyclic",void 0),r([u({tooltip:!1,visible:function(){return this.virtual}})],t.prototype,"lackCenter",void 0),r([u({tooltip:!1,visible:function(){var e=this.virtual&&!this.lackCenter;return e||(this.lackSlide=!1),e}})],t.prototype,"lackSlide",void 0),r([u({type:cc.Integer})],t.prototype,"_updateRate",void 0),r([u({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],t.prototype,"updateRate",null),r([u(cc.Boolean)],t.prototype,"isInitItem",void 0),r([u({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],t.prototype,"frameByFrameRenderNum",void 0),r([u({type:cc.Component.EventHandler,tooltip:!1})],t.prototype,"renderEvent",void 0),r([u({type:cc.Enum(s),tooltip:!1})],t.prototype,"selectedMode",void 0),r([u({tooltip:!1,visible:function(){return this.selectedMode==s.SINGLE}})],t.prototype,"repeatEventSingle",void 0),r([u({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>s.NONE}})],t.prototype,"selectedEvent",void 0),r([u({serializable:!1})],t.prototype,"_numItems",void 0),t=r([l,h(),f("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),p(cc.ScrollView),d(-5e3)],t)}(cc.Component);n.default=m,cc._RF.pop()},{"./ListItem":"ListItem"}],LocalStorage:[function(e,t,n){"use strict";cc._RF.push(t,"2a4fbjrn3hMVZdsGMsyROUH","LocalStorage"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function e(){this.storage=cc.sys.isNative?cc.sys.localStorage:window&&window.sessionStorage||cc.sys.localStorage}return e.prototype.set=function(e,t){this.storage.setItem(e,JSON.stringify(t))},e.prototype.get=function(e){var t=this.storage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return null}return null},e.prototype.remove=function(e){this.storage.removeItem(e)},e.prototype.setItem=function(e,t){this.storage.setItem(e,t)},e.prototype.getItem=function(e,t){return void 0===t&&(t=null),null==this.storage.getItem(e)?t:this.storage.getItem(e)},e=__decorate([r],e)}());n.default=a,cc._RF.pop()},{}],LogWrap:[function(e,t,n){"use strict";cc._RF.push(t,"4b4b8uVDBVKzIF+8HGekXer","LogWrap");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../manager/FileManager"),a=(e("../../net/HttpUrl"),cc._decorator),o=a.ccclass,s=(a.property,function(){function e(){this.logContent="",this.uid=0,this.userid=null,this.clubid=null,this.argss=null,this.argg=null}var t;return t=e,e.prototype.getDateString=function(){var e=new Date,t=e.getHours().toString(),n="";return n+=(1==t.length?"0"+t:t)+":",n+=(1==(t=e.getMinutes().toString()).length?"0"+t:t)+":",n+=(1==(t=e.getSeconds().toString()).length?"0"+t:t)+":",1==(t=e.getMilliseconds().toString()).length&&(t="00"+t),2==t.length&&(t="0"+t),n="["+(n+=t)+"]"},e.prototype.stack=function(e){var t=(new Error).stack.split("\n");t.shift();var n=[];t.forEach(function(e){var t,i=(e=e.substring(7)).split(" ");i.length<2?n.push(i[0]):n.push(((t={})[i[0]]=i[1],t))});var i=[];if(e<n.length-1)for(var r in n[e])i.push(r);var a=i[0].split(".");return a[0]+".js->"+a[1]+": "},e.prototype.useridclubid=function(e,t){this.userid=e,this.clubid=t},e.prototype.C2Sargs=function(e,t){this.argss=e,this.argg=t},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];console.log.apply(console,[e].concat(t));var i=cc.js.formatStr.apply(cc,arguments);this.writeLog(i)},e.prototype.postLog=function(e,t){var n=cc.loader.getXMLHttpRequest();n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),null!=t&&"object"==typeof t&&(t=JSON.stringify(t)),n.send(t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];cc.warn.apply(cc,[e].concat(t));var i=cc.js.formatStr.apply(cc,arguments);this.writeLog(i)},e.prototype.err=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];cc.error.apply(cc,[this.stack(2),e].concat(t));var i=cc.js.formatStr.apply(cc,arguments);this.writeLog(i)},e.prototype.writeLog=function(e,t){if(void 0===t&&(t=!1),cc.sys.isNative){var n=new Date(cc.sys.now());if(this.logContent+=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+" "+e+" \n",this.logContent.length>=1e5||t){var i="log/"+cc.sys.now()+".log";console.log("writeLog:",i),r.FileManager.createFolder("log"),r.FileManager.writeStringFile(i,this.logContent),this.checkLog(),this.logContent=""}}},e.prototype.checkLog=function(){var e=jsb.fileUtils.getWritablePath()+"log",t=jsb.fileUtils.listFiles(e);if(!(t.length<=10)){t.sort(function(e,t){var n=r.FileManager.baseName(e),i=r.FileManager.baseName(t),a=n.lastIndexOf(".log"),o=i.lastIndexOf(".log");return a>=0&&o>=0?parseInt(n.substr(0,a))-parseInt(i.substr(0,o)):a>=0&&o<0?1:-1});for(var n=t.length>10?t.length-10:t.length,i=0;i<n;i++){var a=t[i];a.lastIndexOf(".log")>0&&jsb.fileUtils.removeFile(a)}}},e.prototype.submitLog=function(){if(!cc.sys.isNative)return!1;this.writeLog("submitLog",!0);var e=jsb.fileUtils.getWritablePath()+"log",t=new Zlib.Zip,n=jsb.fileUtils.listFiles(e);if(0==n.length)return!1;n.forEach(function(e){e.lastIndexOf(".log")});t.compress();return!1},e.instance=new t,e=t=i([o],e)}());n.default=s,n.LogWrap=s.instance;var c="";window.__errorHandler=function(e,t,i,r){var a=e+" "+t+" errMsg: "+(i||"")+"\nerror: "+r||"";console.log("\u9519\u8bef\u65e5\u5fd7"),c!=a&&(c=a,n.LogWrap.err(a))},cc._RF.pop()},{"../../manager/FileManager":"FileManager","../../manager/UIManager":"UIManager","../../net/HttpUrl":"HttpUrl"}],LoginView:[function(e,t,n){"use strict";cc._RF.push(t,"6420aS+n7xOwYIaNS8hoIHC","LoginView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/BaseView"),o=e("../manager/EventManager"),s=e("../manager/UIManager"),c=e("../manager/NetManager"),l=e("../Define"),u=e("../manager/DataManager"),h=e("../common/Device"),f=e("../manager/AudioManager"),d=e("../manager/SoundEffect"),p=(e("../libs/pbkiller/src/pbkiller"),cc._decorator),g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkBox=null,t.node_btn=null,t.labtisp=null,t.version=null,t._pb=null,t}return i(t,e),t.prototype.start=function(){this.version.string="V "+u.DataManager.getHallVersion(),this.onSocketOpen(),f.AudioManager.playHallBGM(),f.AudioManager.setBGMVolume(.3)},t.prototype.onLoad=function(){o.EventManager.on(this,l.EventDef.UpdateUserAgree,this.updateAgreeState.bind(this)),o.EventManager.on(this,l.EventDef.ReViewLoginBnt,this.ShowLoginBtn.bind(this)),o.EventManager.on(this,"webChatLoginSuccess",this.webChatLoginSuccess.bind(this))},t.prototype.onSocketInitSuccess=function(){console.log("login success")},t.prototype.onSocketOpen=function(){console.log("login onSocketOpen");u.DataManager.storage.get("phone_number");var e=u.DataManager.storage.getItem("token"),t=u.DataManager.storage.getItem("loginType");if(console.log("token:"+e),e){if(4!=t)return this.labtisp.active=!0,this.node_btn.active=!1,void this.connectWebSocket();if(u.DataManager.loginInfo.refresh_Token)return this.labtisp.active=!0,this.node_btn.active=!1,void h.default.refreshToken(u.DataManager.loginInfo.refresh_Token);this.node_btn.active=!0,this.labtisp.active=!1}else this.node_btn.active=!0,this.labtisp.active=!1;this.connectWebSocket()},t.prototype.ShowLoginBtn=function(e){this.labtisp.active=!1,this.node_btn.active=!0},t.prototype.onBtnWx=function(){f.AudioManager.playSFX(d.SoundEffect.button),this.checkBox.isChecked?(u.DataManager.storage.set("agreement_state",!0),h.default.onWXLogin()):s.UIManager.showTips("\u8bf7\u52fe\u9009\u7528\u6237\u534f\u8bae")},t.prototype.webChatLoginSuccess=function(){this.connectWebSocket()},t.prototype.onBtnUserAgree=function(){f.AudioManager.playSFX(d.SoundEffect.button),s.UIManager.popup("prefabs/AgreementView")},t.prototype.onBtnPhone=function(){f.AudioManager.playSFX(d.SoundEffect.button),this.checkBox.isChecked?(u.DataManager.storage.set("agreement_state",!0),s.UIManager.popup("prefabs/PhoneView")):s.UIManager.showTips("\u8bf7\u52fe\u9009\u7528\u6237\u534f\u8bae")},t.prototype.updateAgreeState=function(){this.checkBox.isChecked=!0},t.prototype.connectWebSocket=function(){s.UIManager.hideMarquee();var e=l.wsUrl;c.NetManager.connect(e,l.SocketType.Hall),u.DataManager.storage.get("agreement_state")&&this.updateAgreeState()},r([m(cc.Toggle)],t.prototype,"checkBox",void 0),r([m(cc.Node)],t.prototype,"node_btn",void 0),r([m(cc.Node)],t.prototype,"labtisp",void 0),r([m(cc.Label)],t.prototype,"version",void 0),t=r([g],t)}(a.default);n.default=y,cc._RF.pop()},{"../Define":"Define","../common/Device":"Device","../libs/pbkiller/src/pbkiller":"pbkiller","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","./base/BaseView":"BaseView"}],LogoView:[function(e,t,n){"use strict";cc._RF.push(t,"3b5baRp9v5KgYOuoHHa0plE","LogoView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/BaseView"),o=e("../manager/UIManager"),s=e("../manager/HotUpdate"),c=e("../manager/DataManager"),l=e("../net/HttpUrl"),u=e("../manager/NetManager"),h=e("../net/NetCode"),f=e("../common/Device"),d=cc._decorator,p=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.version=null,t.laodingBar=null,t.qinggengxin=null,t.getversion=null,t.urlxiasz=null,t}return i(t,e),t.prototype.start=function(){this.version.string="V"+c.DataManager.getHallVersion(),this.getForceVersion()},t.prototype.getForceVersion=function(){var e=this,t=l.HttpUrl.getHallRQCode.url;u.NetManager.requestGetUrl(t,function(t,n){if(n){var i=JSON.parse(n);if(i.status==h.HTTP_CODE.SUCCESS){e.getversion=i.data.version,e.urlxiasz=i.data.url;for(var r=c.DataManager.getHallVersion().split("."),a=e.getversion.split("."),s=0,l=0,u=0;u<r.length;u++)s+=r[u];for(u=0;u<a.length;u++)l+=a[u];s=Math.floor(Number(s)),l=Math.floor(Number(l)),console.log("\u5f53\u524d\u7248\u672c\u53f7\uff1a"+r,"\u5f53\u524d\u7248\u672c\u53f7\uff1a"+a),l>s&&!cc.sys.isBrowser?e.qinggengxin.active=!0:e.checkUpdata()}else o.UIManager.showTips(h.HTTP_CODE_MSG[i.status])}else e.checkUpdata()})},t.prototype.onxiazai=function(){f.default.openUrl(this.urlxiasz)},t.prototype.checkUpdata=function(){var e=this;this.label.string="\u6b63\u5728\u68c0\u67e5\u66f4\u65b0...",this.laodingBar.node.active=!1,s.HotUpdate.checkUpdate(function(t,n){switch(t){case s.AssetManagerCode.NEW_VERSION_FOUND:console.log("\u63d0\u793a\u66f4\u65b0"),e.hotUpdata();break;case s.AssetManagerCode.ALREADY_UP_TO_DATE:console.log("\u5df2\u7ecf\u662f\u6700\u65b0\u7248\u672c"),e.gotoLogin();break;case s.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST:console.log("\u8fdc\u7a0b\u7248\u672c\u6587\u4ef6\u4e0b\u8f7d\u5931\u8d25,\u8bf7\u70b9\u51fb\u91cd\u8bd5"),o.UIManager.showTips("\u68c0\u67e5\u7248\u672c\u5931\u8d25,\u8bf7\u70b9\u51fb\u5c4f\u5e55\u91cd\u8bd5");break;case s.AssetManagerCode.ERROR_PARSE_MANIFEST:console.log("\u672c\u5730\u7248\u672c\u63a7\u5236\u6587\u4ef6\u635f\u574f\u76f4\u63a5\u8df3\u8fc7"),e.gotoLogin();break;case s.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST:console.log("\u672c\u5730\u6ca1\u6709\u7248\u672c\u63a7\u5236\u6587\u4ef6\u76f4\u63a5\u8df3\u8fc7"),e.gotoLogin();break;case s.AssetManagerCode.CHECKING:console.log("\u6b63\u5728\u68c0\u6d4b\u66f4\u65b0!!"),o.UIManager.showTips("\u6b63\u5728\u68c0\u67e5\u66f4\u65b0,\u8bf7\u7a0d\u7b49")}})},t.prototype.hotUpdata=function(){var e=this;this.laodingBar.node.active=!0,this.laodingBar.progress=0,s.HotUpdate.hotUpdateGo(function(t,n){switch(console.log("\u68c0\u6d4b\u66f4\u65b0\u5f53\u524d\u72b6\u6001 code : "+t),t){case s.AssetManagerCode.UPDATE_PROGRESSION:var i=100*n.getPercent(),r=Math.floor(i);e.label.string=r?"\u6b63\u5728\u4e0b\u8f7d\u8d44\u6e90"+r+"%":"\u6b63\u5728\u4e0b\u8f7d\u8d44\u6e90...",e.laodingBar.progress=n.getPercent();break;case s.AssetManagerCode.ERROR_DOWNLOAD_MANIFEST:case s.AssetManagerCode.ERROR_PARSE_MANIFEST:case s.AssetManagerCode.ERROR_NO_LOCAL_MANIFEST:case s.AssetManagerCode.ALREADY_UP_TO_DATE:console.log("Fail to download manifest file, hot update skipped."),e.laodingBar.progress=1,e.gotoLogin();break;case s.AssetManagerCode.UPDATE_FINISHED:console.log("\u66f4\u65b0\u5b8c\u6210"),e.label.string="\u66f4\u65b0\u5b8c\u6210";break;case s.AssetManagerCode.UPDATE_FAILED:console.log("\u66f4\u65b0\u5931\u8d25"),e.laodingBar.progress=0,e.checkUpdata();break;case s.AssetManagerCode.ERROR_UPDATING:case s.AssetManagerCode.ERROR_DECOMPRESS:}})},t.prototype.gotoLogin=function(){o.UIManager.open("prefabs/LoginView")},r([g(cc.Label)],t.prototype,"label",void 0),r([g(cc.Label)],t.prototype,"version",void 0),r([g(cc.ProgressBar)],t.prototype,"laodingBar",void 0),r([g(cc.Node)],t.prototype,"qinggengxin",void 0),t=r([p],t)}(a.default);n.default=m,cc._RF.pop()},{"../common/Device":"Device","../manager/DataManager":"DataManager","../manager/HotUpdate":"HotUpdate","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","./base/BaseView":"BaseView"}],MD5:[function(e,t,n){"use strict";cc._RF.push(t,"091039+lwRMrIO/kWvmqIKl","MD5");cc.Class({extends:cc.Component,hex_md5:function(e){return this.binl2hex(this.core_md5(this.str2binl(e),8*e.length))},b64_md5:function(e){return this.binl2b64(this.core_md5(this.str2binl(e),8*e.length))},str_md5:function(e){return this.binl2str(this.core_md5(this.str2binl(e),8*e.length))},hex_hmac_md5:function(e,t){return this.binl2hex(this.core_hmac_md5(e,t))},b64_hmac_md5:function(e,t){return this.binl2b64(this.core_hmac_md5(e,t))},str_hmac_md5:function(e,t){return this.binl2str(this.core_hmac_md5(e,t))},md5_vm_test:function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc")},core_md5:function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,i=-271733879,r=-1732584194,a=271733878,o=0;o<e.length;o+=16){var s=n,c=i,l=r,u=a;n=this.md5_ff(n,i,r,a,e[o+0],7,-680876936),a=this.md5_ff(a,n,i,r,e[o+1],12,-389564586),r=this.md5_ff(r,a,n,i,e[o+2],17,606105819),i=this.md5_ff(i,r,a,n,e[o+3],22,-1044525330),n=this.md5_ff(n,i,r,a,e[o+4],7,-176418897),a=this.md5_ff(a,n,i,r,e[o+5],12,1200080426),r=this.md5_ff(r,a,n,i,e[o+6],17,-1473231341),i=this.md5_ff(i,r,a,n,e[o+7],22,-45705983),n=this.md5_ff(n,i,r,a,e[o+8],7,1770035416),a=this.md5_ff(a,n,i,r,e[o+9],12,-1958414417),r=this.md5_ff(r,a,n,i,e[o+10],17,-42063),i=this.md5_ff(i,r,a,n,e[o+11],22,-1990404162),n=this.md5_ff(n,i,r,a,e[o+12],7,1804603682),a=this.md5_ff(a,n,i,r,e[o+13],12,-40341101),r=this.md5_ff(r,a,n,i,e[o+14],17,-1502002290),i=this.md5_ff(i,r,a,n,e[o+15],22,1236535329),n=this.md5_gg(n,i,r,a,e[o+1],5,-165796510),a=this.md5_gg(a,n,i,r,e[o+6],9,-1069501632),r=this.md5_gg(r,a,n,i,e[o+11],14,643717713),i=this.md5_gg(i,r,a,n,e[o+0],20,-373897302),n=this.md5_gg(n,i,r,a,e[o+5],5,-701558691),a=this.md5_gg(a,n,i,r,e[o+10],9,38016083),r=this.md5_gg(r,a,n,i,e[o+15],14,-660478335),i=this.md5_gg(i,r,a,n,e[o+4],20,-405537848),n=this.md5_gg(n,i,r,a,e[o+9],5,568446438),a=this.md5_gg(a,n,i,r,e[o+14],9,-1019803690),r=this.md5_gg(r,a,n,i,e[o+3],14,-187363961),i=this.md5_gg(i,r,a,n,e[o+8],20,1163531501),n=this.md5_gg(n,i,r,a,e[o+13],5,-1444681467),a=this.md5_gg(a,n,i,r,e[o+2],9,-51403784),r=this.md5_gg(r,a,n,i,e[o+7],14,1735328473),i=this.md5_gg(i,r,a,n,e[o+12],20,-1926607734),n=this.md5_hh(n,i,r,a,e[o+5],4,-378558),a=this.md5_hh(a,n,i,r,e[o+8],11,-2022574463),r=this.md5_hh(r,a,n,i,e[o+11],16,1839030562),i=this.md5_hh(i,r,a,n,e[o+14],23,-35309556),n=this.md5_hh(n,i,r,a,e[o+1],4,-1530992060),a=this.md5_hh(a,n,i,r,e[o+4],11,1272893353),r=this.md5_hh(r,a,n,i,e[o+7],16,-155497632),i=this.md5_hh(i,r,a,n,e[o+10],23,-1094730640),n=this.md5_hh(n,i,r,a,e[o+13],4,681279174),a=this.md5_hh(a,n,i,r,e[o+0],11,-358537222),r=this.md5_hh(r,a,n,i,e[o+3],16,-722521979),i=this.md5_hh(i,r,a,n,e[o+6],23,76029189),n=this.md5_hh(n,i,r,a,e[o+9],4,-640364487),a=this.md5_hh(a,n,i,r,e[o+12],11,-421815835),r=this.md5_hh(r,a,n,i,e[o+15],16,530742520),i=this.md5_hh(i,r,a,n,e[o+2],23,-995338651),n=this.md5_ii(n,i,r,a,e[o+0],6,-198630844),a=this.md5_ii(a,n,i,r,e[o+7],10,1126891415),r=this.md5_ii(r,a,n,i,e[o+14],15,-1416354905),i=this.md5_ii(i,r,a,n,e[o+5],21,-57434055),n=this.md5_ii(n,i,r,a,e[o+12],6,1700485571),a=this.md5_ii(a,n,i,r,e[o+3],10,-1894986606),r=this.md5_ii(r,a,n,i,e[o+10],15,-1051523),i=this.md5_ii(i,r,a,n,e[o+1],21,-2054922799),n=this.md5_ii(n,i,r,a,e[o+8],6,1873313359),a=this.md5_ii(a,n,i,r,e[o+15],10,-30611744),r=this.md5_ii(r,a,n,i,e[o+6],15,-1560198380),i=this.md5_ii(i,r,a,n,e[o+13],21,1309151649),n=this.md5_ii(n,i,r,a,e[o+4],6,-145523070),a=this.md5_ii(a,n,i,r,e[o+11],10,-1120210379),r=this.md5_ii(r,a,n,i,e[o+2],15,718787259),i=this.md5_ii(i,r,a,n,e[o+9],21,-343485551),n=this.safe_add(n,s),i=this.safe_add(i,c),r=this.safe_add(r,l),a=this.safe_add(a,u)}return Array(n,i,r,a)},md5_cmn:function(e,t,n,i,r,a){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(i,a)),r),n)},md5_ff:function(e,t,n,i,r,a,o){return this.md5_cmn(t&n|~t&i,e,t,r,a,o)},md5_gg:function(e,t,n,i,r,a,o){return this.md5_cmn(t&i|n&~i,e,t,r,a,o)},md5_hh:function(e,t,n,i,r,a,o){return this.md5_cmn(t^n^i,e,t,r,a,o)},md5_ii:function(e,t,n,i,r,a,o){return this.md5_cmn(n^(t|~i),e,t,r,a,o)},core_hmac_md5:function(e,t){var n=this.str2binl(e);n.length>16&&(n=this.core_md5(n,8*e.length));for(var i=Array(16),r=Array(16),a=0;a<16;a++)i[a]=909522486^n[a],r[a]=1549556828^n[a];var o=this.core_md5(i.concat(str2binl(t)),512+8*t.length);return this.core_md5(r.concat(o),640)},safe_add:function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},bit_rol:function(e,t){return e<<t|e>>>32-t},str2binl:function(e){for(var t=Array(),n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},binl2str:function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},binl2hex:function(e){for(var t="0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n},binl2b64:function(e){for(var t="",n=0;n<4*e.length;n+=3)for(var i=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255,r=0;r<4;r++)8*n+6*r>32*e.length?t+="":t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-r)&63);return t}}),cc._RF.pop()},{}],MJBool:[function(e,t,n){"use strict";cc._RF.push(t,"e0330sJBuVJ7Lk1+ytxVLhu","MJBool");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./KWXTool"));e("./MJData");cc.Class({extends:cc.Component,sortNumber:function(e,t){return e-t},isPeng:function(e,t){e.sort(this.sortNumber);for(var n=0,i=0;i<e.length;i++)e[i]==t&&(n+=1);if(n>1)return!0},isGang:function(e,t){e.sort(this.sortNumber);for(var n=0,i=0;i<e.length;i++)e[i]==t&&(n+=1);return n>2},getAnGang:function(e){for(var t=new Array,n=0;n<e.length;n++){4==this.frequency(e,e[n])&&-1==t.indexOf(e[n])&&(t[t.length]=e[n])}return t},getBaGang:function(e,t){var n=new Array;if(!t)return n;for(var i=0;i<=e.length;i++)t.indexOf(e[i])>-1&&(n[n.length]=e[i]);return n},isAnOrBaGang:function(e,t){var n=this.getAnGang(e),i=this.getBaGang(e,t);return n.length+i.length>0},getByAnGang:function(e){return this.getAnGang(e).length>0},getByBaGang:function(e,t){var n=this.getBaGang(e,t);return!!(n.length>0&&n[0])},frequency:function(e,t){for(var n=0,i=0;i<e.length;i++)e[i]==t&&(n+=1);return n},isHu:function(e){var t=new Array;t=t.concat(e);var n=this.getPairs(t);t=t.concat(e);for(var i=0;i<n.length;i++){var r=n[i],a=t.indexOf(r);if(t.splice(a,2),0==t.length)return!0;var o=!0;if(12==t.length)for(var s=0;s<t.length-1;s+=2){t[s]!=t[s+1]&&(o=!1)}else o=!1;if(o)return console.log("7 \u5bf9\uff01"),!0;if(this.isAAAorABC(t))return!0;t=(t=new Array).concat(e)}return!1},isTing:function(e,t){i.default.sortOtherCardList(e);var n=new Array;return(n=n.concat(e))[n.length]=t,n.sort(this.sortNumber),this.isHu(n)},getAllTing:function(e){for(var t=new Array,n=0;n<9;n++)t[t.length]=1+n,t[t.length]=101+n;t[t.length]=1003,t[t.length]=1007,t[t.length]=1009;var i=new Array;for(n=0;n<t.length;n++){var r=e.concat(t[n]);this.isTing(e,t[n])&&this.boolHave5(r)&&(i[i.length]=t[n])}return i},boolHave5:function(e){for(var t=0;t<e.length;t++){if(this.frequency(e,e[t])>4)return!1}return!0},getObjByTing:function(e){var t=new Array,n=new Array;n=n.concat(e);var i=this.getPairs(n);new Set(e);if(n=n.concat(e),6==i.length){var r=i.filter(function(t){return!e.cardSet.has(t)});t.push(r)}else if(0==i.length){var a=this.getAAAorABC(n);t.push(a)}this.HUcardList=[];for(var o=0;o<i.length;o++){var s=i[o],c=n.indexOf(s);if(n.splice(c,2),0==n.length)return[s,s];this.getAAAorABC(n),n=(n=new Array).concat(e)}},getAAAorABC:function(e){var t,n=new Array;if((n=n.concat(e)).sort(this.sortNumber),t=n.shift(),n.shift(),t==n.shift())n.length<=2&&(this.HUcardList=this.HUcardList.concat(n)),this.getAAAorABC(n);else{var i=(n=(n=new Array).concat(e))[0],r=i+1,a=i+2;n.remove(i);var o=n.remove(r),s=n.remove(a);o&&s?(n.length<=2&&(this.HUcardList=this.HUcardList.concat(n)),this.getAAAorABC(n)):n.length<=2&&(this.HUcardList=this.HUcardList.concat(n))}},getPairs:function(e){for(var t=new Array,n=0;n<e.length;n++){var i=e.shift();n--,e.indexOf(i)>-1&&t.indexOf(i)<0&&t.push(i)}return t},isAAAorABC:function(e){var t=new Array;(t=t.concat(e)).sort(this.sortNumber);var n,i,r,a=!1;if(0==t.length)return!0;if(n=t.shift(),i=t.shift(),n==(r=t.shift()))a=this.isAAAorABC(t),this.TestList&&this.TestList.push([n,i,r]);else{var o=(t=(t=new Array).concat(e))[0],s=o+1,c=o+2;t.remove(o);var l=t.remove(s),u=t.remove(c);if(!l||!u)return!1;this.TestList&&this.TestList.push([o,s,c]),this.ABCList&&(this.ABCList[this.ABCList.length]=[o,s,c]),a=this.isAAAorABC(t)}return a},isAAA:function(e){var t=new Array;(t=t.concat(e)).sort(this.sortNumber);var n,i=!1;return 0==t.length||(n=t.shift(),t.shift(),n==t.shift()&&(i=this.isAAA(t)),i)},isPengPengHu:function(e){var t=new Array;t=t.concat(e);var n=this.getPairs(t);t=t.concat(e);for(var i=0;i<n.length;i++){var r=n[i],a=t.indexOf(r);if(t.splice(a,2),this.isAAA(t))return!0;t=(t=new Array).concat(e)}return!1},isMingSiGui:function(e,t){if(e.length<=0)return!1;for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},isAnSiGui:function(e){if(this.isSevenDouble(e))return!1;if(e.length<4)return!1;for(var t=0;t<e.length;t++){if(4==this.frequency(e,e[t]))return!0}return!1},isSevenDouble:function(e){var t=new Array;t=t.concat(e);var n=this.getPairs(t);t=t.concat(e);for(var i=0;i<n.length;i++){var r=n[i],a=t.indexOf(r);t.splice(a,2);var o=!0;if(12==t.length)for(var s=0;s<t.length-1;s+=2){t[s]!=t[s+1]&&(o=!1)}else o=!1;if(o)return!0}return!1},isSevenDouble1:function(e){if(this.isSevenDouble(e)){for(var t=0;t<e.length;t++){if(4==this.frequency(e,e[t]))return!0}return!1}return!1},isSevenDouble2:function(e){if(this.isSevenDouble(e)){for(var t=0,n=0;n<e.length;n++){4==this.frequency(e,e[n])&&t++}return 8==t}return!1},isSevenDouble3:function(e){if(this.isSevenDouble(e)){for(var t=0,n=0;n<e.length;n++){4==this.frequency(e,e[n])&&t++}return 12==t}return!1},isDaSanYuan:function(e){if(this.isSevenDouble(e))return!1;var t=this.frequency(e,1003),n=this.frequency(e,1007),i=this.frequency(e,1009);return t>=3&&n>=3&&i>=3},isXiaoSanYuan:function(e){if(this.isSevenDouble(e))return!1;var t=this.frequency(e,1003),n=this.frequency(e,1007),i=this.frequency(e,1009);return t>=3&&n>=3&&2==i||t>=3&&2==n&&i>=3||2==t&&n>=3&&i>=3},isQingYiSe:function(e){var t=new Array;return e.forEach(function(e,n){t.push(Math.ceil(e/10))}),this.isAllEqual(t)},isAllEqual:function(e){return!(e.length>0)||!e.some(function(t,n){return t!==e[0]})},isShouZhuaYi:function(e){return 1==e.length},isKWX:function(e,t){if(5!=t&&105!==t)return!1;var n=new Array;if((n=e.concat(t)).sort(this.sortNumber),this.isPengPengHu(n))return!1;var i=new Array;i=i.concat(n);var r=this.getPairs(i);i=(i=[]).concat(n);for(var a=0;a<r.length;a++){var o=r[a],s=i.indexOf(o);if(i.splice(s,2),this.ABCList=[],this.isAAAorABC(i))for(var c=0;c<this.ABCList.length;c++){if(this.ABCList[c][0]+1==t)return!0}else i=(i=new Array).concat(n)}return!1},TingTips:function(e){var t=new Array;console.log("\u542c\u724c\u68c0\u67e5",e);for(var n=0;n<e.length;n++){var i=new Array;(i=i.concat(e)).splice(n,1),this.TingBool(i)&&t.push(e[n])}return t},TingBool:function(e){return this.getAllTing(e).length>0},kouBoolState:function(e,t){for(var n=this,i=new Array,r=new Array,a=0;a<e.length;a++){this.frequency(e,e[a])>=3&&-1==i.indexOf(e[a])&&i.push(e[a])}return console.log("arrKou",i),console.log("arrCanKou",r),i.forEach(function(i,a){var o=new Array,s=i,c=(o=o.concat(e)).indexOf(s);console.log("\u5220\u9664\u5bf9\u724c",c),o.splice(c,3),console.log("\u5220\u9664\u4e09\u4e2a\u4e00\u6837\u7684\u724c\u540e\u6570\u7ec4",o);var l=n.TingTips(o);t.forEach(function(e,t){var n=l.indexOf(e);-1!=n&&l.splice(n,1)}),l.length>0&&r.push(i)}),console.log("\u542c\u724c\u5217\u88683",r),r},huCardList:function(e,t){var n=e.concat(t);n.sort(this.sortNumber);var i=new Array;i=i.concat(n);var r=this.getPairs(i);i=i.concat(n);for(var a=[],o=0;o<r.length;o++){this.TestList=[];var s=r[o],c=i.indexOf(s);i.splice(c,2);var l=[s,s];if(this.TestList.push(l),0==i.length)break;var u=!0;if(12==i.length)for(var h=0;h<i.length-1;h+=2){i[h]!=i[h+1]&&(u=!1)}else u=!1;if(u){console.log("7 \u5bf9\uff01");for(h=0;h<i.length-1;h+=2){var f=[i[h],i[h+1]];this.TestList.push(f)}a.push(this.TestList);break}if(this.isAAAorABC(i)){a.push(this.TestList);break}i=(i=new Array).concat(n)}return a},getKWXList:function(e,t){if(5!=t&&105!==t)return!1;var n=new Array;if((n=e.concat(t)).sort(this.sortNumber),this.isPengPengHu(n))return!1;var i=new Array;i=i.concat(n);var r=this.getPairs(i);i=(i=[]).concat(n);for(var a=0;a<r.length;a++){this.TestList=[];var o=r[a],s=i.indexOf(o);i.splice(s,2);var c=[o,o];if(this.TestList.push(c),this.ABCList=[],this.isAAAorABC(i))for(var l=0;l<this.ABCList.length;l++){if(this.ABCList[l][0]+1==t)return this.TestList}else i=(i=new Array).concat(n)}return[]}}),cc._RF.pop()},{"./KWXTool":"KWXTool","./MJData":"MJData"}],MJCPGAreaBase:[function(e,t,n){"use strict";cc._RF.push(t,"7c2b3kYZNdLbotOg76UJnoy","MJCPGAreaBase");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./MJDefine"),o=e("./MJCPGBase"),s=e("./MJCardBase"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_area=null,t.mj_combo=null,t.viewIdx=0,t.lastNum=0,t.lastPos=cc.v2(0,0),t}return i(t,e),t.prototype.createCPGMJ=function(e,t,n,i){void 0===i&&(i=0);var r=null;r=cc.instantiate(this.mj_combo),e==a.MJOperType.Chi||e==a.MJOperType.Peng?(0==this.viewIdx&&(a.MJCPGCards[a.MJOperType.Peng]=a.MJCPGCards[a.MJOperType.Peng].concat(t)),r.getComponent(o.default).createChiPengCard(e,t,n,i)):e==a.MJOperType.MingGang?(0==this.viewIdx&&(a.MJCPGCards[a.MJOperType.MingGang]=a.MJCPGCards[a.MJOperType.MingGang].concat(t)),r.getComponent(o.default).createMingGangCard(t,n,i)):e==a.MJOperType.AnGang?(0==this.viewIdx&&(a.MJCPGCards[a.MJOperType.AnGang]=a.MJCPGCards[a.MJOperType.AnGang].concat(t)),r.getComponent(o.default).createAnGangCard(t)):e==a.MJOperType.BuGang&&r.getComponent(o.default).createBuGangCard(t,n),r.setPosition(cc.v2(0,0)),1!=this.viewIdx&&3!=this.viewIdx||(r.x=this.lastPos.x+10*this.lastNum,this.lastNum=e==a.MJOperType.AnGang?4:3,this.lastPos=r.position),this.node_area.addChild(r),this.setbrand()},t.prototype.pengToBuGangCard=function(e,t){for(var n=e[0],i=0;i<this.node_area.childrenCount;i++){console.log("wtf");var r=this.node_area.children[i];if(r.getComponent(o.default).getCardValue()==n){if(r.getComponent(o.default).transferPengToGang(e,t),0==this.viewIdx){var s=a.MJCPGCards[a.MJOperType.Peng].indexOf(e[0]);a.MJCPGCards[a.MJOperType.Peng].splice(s,1);var c=a.MJCPGCards[a.MJOperType.Peng].indexOf(e[0]);a.MJCPGCards[a.MJOperType.Peng].splice(c,1);var l=a.MJCPGCards[a.MJOperType.Peng].indexOf(e[0]);a.MJCPGCards[a.MJOperType.Peng].splice(l,1),a.MJCPGCards[a.MJOperType.BuGang]=a.MJCPGCards[a.MJOperType.BuGang].concat(e)}break}this.setbrand()}},t.prototype.clearCPGMJ=function(){this.node_area.removeAllChildren(),this.node_area.width=0,this.node_area.height=0},t.prototype.clearOutMJ=function(e,t){void 0===t&&(t=0),console.log("\u64cd\u4f5c\u4eba\u4f4d\u7f6e:",t);var n=e||this.node_area.children[0];0==t||3==t?(console.log("\u78b0\u8282\u70b9",this.node_area.width),console.log("\u78b0\u8282\u70b9",this.node_area.children.length),1==this.node_area.children.length?this.node_area.width=0:this.node_area.children.length>1&&(this.node_area.width-=this.node_area.width/this.node_area.children.length)):1==t?(console.log("\u5de6\u8fb9\u4e00\u5bb6\u78b0\u8282\u70b9",this.node_area.height),console.log("\u5de6\u8fb9\u4e00\u5bb6\u78b0\u8282\u70b9",this.node_area.children.length),1==this.node_area.children.length?this.node_area.height=0:this.node_area.children.length>1&&(this.node_area.height-=this.node_area.height/this.node_area.children.length)):2==t&&(1==this.node_area.children.length?this.node_area.height=0:this.node_area.children.length>1&&(this.node_area.height-=this.node_area.height/this.node_area.children.length)),n.stopAllActions(),n.removeFromParent()},t.prototype.getCPGValue=function(){for(var e=new Array,t=0;t<this.node_area.childrenCount;t++){var n=this.node_area.children[t].getComponent(o.default).getCardValue();e.push(n)}return e},t.prototype.setbrand=function(){for(var e=0;e<this.node_area.childrenCount;e++)for(var t=0;t<this.node_area.children[e].childrenCount;t++){this.node_area.children[e].children[t].getComponent(s.default).brand()}},r([u(cc.Node)],t.prototype,"node_area",void 0),r([u(cc.Prefab)],t.prototype,"mj_combo",void 0),r([u({tooltip:"\u89c6\u89d2\u4e0b\u6807 0\u4e3a\u81ea\u5df1\u89c6\u89d2"})],t.prototype,"viewIdx",void 0),t=r([l],t)}(cc.Component);n.default=h,cc._RF.pop()},{"./MJCPGBase":"MJCPGBase","./MJCardBase":"MJCardBase","./MJDefine":"MJDefine"}],MJCPGBase:[function(e,t,n){"use strict";cc._RF.push(t,"fcbcaMX50FNa7aHRoGEaoU4","MJCPGBase");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./MJCardBase"),c=e("./MJDefine"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MJCard=null,t.backFrame=null,t.CardSize=cc.size(0,0),t.disPos=cc.v2(),t.exOffset=cc.v2(),t.increase=!0,t.cpgIdx=0,t.cardValue=null,t}return i(t,e),t.prototype.onLoad=function(){cc.winSize.width<=1334?this.node.scale=1:this.node.scale=1.1},t.prototype.createChiPengCard=function(e,t,n,i){return a(this,void 0,void 0,function(){var r,a,l,u,h,f,d;return o(this,function(o){switch(o.label){case 0:r=3,a=0,o.label=1;case 1:return a<t.length?[4,(l=cc.instantiate(this.MJCard)).getComponent(s.default).setSpirteValue(t[a])]:[3,4];case 2:o.sent(),u=this.getCardPos(r,a),l.setPosition(u.x,u.y),h=1==this.cpgIdx?n-1:3-n,e==c.MJOperType.Peng&&a==h&&l.getComponent(s.default).setSpirteCardBack(this.backFrame),this.node.addChild(l),l.zIndex=this.increase?a:t.length-a,1==a&&(f=l.getChildByName("arrow"))&&(f.active=!0,f.angle=i),l.getComponent(s.default).brand(),o.label=3;case 3:return a++,[3,1];case 4:return d=this.getContentSize(r),this.node.setContentSize(d),this.cardValue=t[0],[2]}})})},t.prototype.createMingGangCard=function(e,t,n){return void 0===n&&(n=0),a(this,void 0,void 0,function(){var i,r,a,c,l,u,h,f;return o(this,function(o){switch(o.label){case 0:i=3,r=this.exOffset,a=0,o.label=1;case 1:return a<e.length?[4,(c=cc.instantiate(this.MJCard)).getComponent(s.default).setSpirteValue(e[a])]:[3,4];case 2:o.sent(),this.node.addChild(c),l=cc.v2(),a<3?(l=this.getCardPos(i,a),c.setPosition(l.x,l.y),c.zIndex=this.increase?a+1:e.length-a):(u=1==this.cpgIdx?t-1:3-t,l=this.getCardPos(i,u),c.setPosition(l.x+r.x,l.y+r.y),c.zIndex=999,(h=c.getChildByName("arrow"))&&(h.active=!0,h.angle=n)),c.getComponent(s.default).brand(),o.label=3;case 3:return a++,[3,1];case 4:return f=this.getContentSize(i),this.node.setContentSize(f),this.cardValue=e[0],[2]}})})},t.prototype.brand=function(){cc.instantiate(this.MJCard).getComponent(s.default).brand()},t.prototype.createBuGangCard=function(e,t){return a(this,void 0,void 0,function(){var n,i,r,a,c,l,u;return o(this,function(o){switch(o.label){case 0:n=3,i=0,o.label=1;case 1:return i<e.length?[4,(r=cc.instantiate(this.MJCard)).getComponent(s.default).setSpirteValue(e[i])]:[3,4];case 2:o.sent(),this.node.addChild(r),a=cc.v2(),i<3?(a=this.getCardPos(n,i),r.setPosition(a.x,a.y),r.zIndex=this.increase?i+1:e.length-i):(a=this.getCardPos(n,1),r.setPosition(a.x+this.exOffset.x,a.y+this.exOffset.y),r.zIndex=999,(c=r.getChildByName("first"))&&(c.active=!0)),o.label=3;case 3:return i++,[3,1];case 4:return l=this.getContentSize(n),this.node.setContentSize(l),u=1==this.cpgIdx?t-1:3-t,this.node.children[u],this.cardValue=e[0],[2]}})})},t.prototype.createAnGangCard=function(e){return a(this,void 0,void 0,function(){var t,n,i,r,a,c;return o(this,function(o){switch(o.label){case 0:t=3,n=0,o.label=1;case 1:return n<e.length?(i=cc.instantiate(this.MJCard),3!=n?[3,3]:[4,i.getComponent(s.default).setSpirteValue(e[n])]):[3,6];case 2:return o.sent(),[3,4];case 3:i.getComponent(s.default).setSpirteCardBack(this.backFrame),o.label=4;case 4:this.node.addChild(i),r=cc.v2(),n<3?(r=this.getCardPos(t,n),i.setPosition(r.x,r.y),i.zIndex=this.increase?n+1:e.length-n):(r=this.getCardPos(t,1),i.setPosition(r.x+this.exOffset.x,r.y+this.exOffset.y),i.zIndex=999,(a=i.getChildByName("first"))&&(a.active=!0)),i.getComponent(s.default).brand(),o.label=5;case 5:return n++,[3,1];case 6:return c=this.getContentSize(t),this.node.setContentSize(c),this.cardValue=e[0],[2]}})})},t.prototype.transferPengToGang=function(e,t){this.node.removeAllChildren(),this.createBuGangCard(e,t)},t.prototype.getCardPos=function(e,t){var n=this.disPos;return cc.v2(-(e-1)/2*n.x+t*n.x,-(e-1)/2*n.y+t*n.y)},t.prototype.getContentSize=function(e){var t=this.CardSize,n=this.disPos;return cc.size(t.width+(e-1)*Math.abs(n.x),t.height+(e-1)*Math.abs(n.y))},t.prototype.getCardValue=function(){return this.cardValue},t.prototype.setIncrease=function(e){return a(this,void 0,void 0,function(){return o(this,function(t){return console.log("setIncrease",e),[2]})})},r([h(cc.Prefab)],t.prototype,"MJCard",void 0),r([h(cc.SpriteFrame)],t.prototype,"backFrame",void 0),r([h({tooltip:"\u9ebb\u5c06\u5bbd\u9ad8"})],t.prototype,"CardSize",void 0),r([h({tooltip:"\u95f4\u9694\u8ddd\u79bb"})],t.prototype,"disPos",void 0),r([h({tooltip:"\u7279\u6b8a\u9ebb\u5c06\u504f\u79fb\u91cf"})],t.prototype,"exOffset",void 0),r([h({tooltip:"\u5c42\u7ea7\u9012\u589e\u6216\u8005\u9012\u51cf"})],t.prototype,"increase",void 0),r([h({tooltip:"\u5403\u78b0\u6760\u724c\u7ec4\u4e0b\u6807"})],t.prototype,"cpgIdx",void 0),t=r([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"./MJCardBase":"MJCardBase","./MJDefine":"MJDefine"}],MJCardBase:[function(e,t,n){"use strict";cc._RF.push(t,"136c9FEYYZLv7IQl2ABy5Qn","MJCardBase");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../manager/ResManager"),c=e("../../manager/DataManager"),l=e("./MJData"),u=e("./KWXDefine"),h=cc._decorator,f=h.ccclass,d=h.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cardBack=null,t.cardBackt=null,t.cardBackc=null,t.cardValue=null,t.greyBack=null,t.tingIcon=null,t.kouIcon=null,t.maIcon=null,t.extraPath="",t.MahJongValue=null,t.GreyState=!1,t}return i(t,e),t.prototype.setSpirteValue=function(e,t){return void 0===t&&(t=function(){}),a(this,void 0,void 0,function(){var n;return o(this,function(i){return this.MahJongValue=e,c.DataManager.getGameName(c.DataManager.gameType),n=l.MJData.getSprite(this.extraPath+e),this.MahJongValue==parseInt(e)&&(this.cardValue.spriteFrame=n,this.cardValue.node.active=!0,t()),this.brand(),[2]})})},t.prototype.brand=function(){var e=u.KWXDefine.pifu;this.cardBack.node.active=!1,this.cardBackt.node.active=!1,this.cardBackc.node.active=!1,0==e?this.cardBack.node.active=!0:1==e?this.cardBackc.node.active=!0:2==e&&(this.cardBackt.node.active=!0)},t.prototype.setSpirteCardBack=function(e){return a(this,void 0,void 0,function(){var t,n,i,r,a,c;return o(this,function(o){switch(o.label){case 0:return this.cardValue.spriteFrame=null,t="",n="",i="",1==e||2==e?(t="game/kwx/cardOther/west_kou_board_0",n="game/kwx/cardOther/west_kou_board_2",i="game/kwx/cardOther/west_kou_board_1"):(t="game/kwx/cardMy/out/hz_south_discard_cover_board_0",n="game/kwx/cardMy/out/hz_south_discard_cover_board_2",i="game/kwx/cardMy/out/hz_south_discard_cover_board_1"),[4,s.ResManager.loadResAsync(t,cc.SpriteFrame)];case 1:return r=o.sent(),this.cardBack.spriteFrame=r,[4,s.ResManager.loadResAsync(n,cc.SpriteFrame)];case 2:return a=o.sent(),this.cardBackc.spriteFrame=a,[4,s.ResManager.loadResAsync(i,cc.SpriteFrame)];case 3:return c=o.sent(),this.cardBackt.spriteFrame=c,[2]}})})},t.prototype.setbufenSpirteCardBack=function(e){return a(this,void 0,void 0,function(){var t,n,i,r,a,l,u;return o(this,function(o){switch(o.label){case 0:return console.log("setbufenSpirteCardBack"),this.cardValue.spriteFrame=null,t="",n="",i="",1==e||2==e?(t="game/kwx/cardOther/west_kou_board_0",n="game/kwx/cardOther/west_kou_board_2",i="game/kwx/cardOther/west_kou_board_1"):(t="game/kwx/cardMy/out/hz_south_discard_cover_board_0",n="game/kwx/cardMy/out/hz_south_discard_cover_board_2",i="game/kwx/cardMy/out/hz_south_discard_cover_board_1"),0!=(r=c.DataManager.storage.get("Setbackground"))?[3,2]:[4,s.ResManager.loadResAsync(t,cc.SpriteFrame)];case 1:return a=o.sent(),this.cardBack.spriteFrame=a,[3,6];case 2:return 1!=r?[3,4]:[4,s.ResManager.loadResAsync(n,cc.SpriteFrame)];case 3:return l=o.sent(),this.cardBackc.spriteFrame=l,[3,6];case 4:return 2!=r?[3,6]:[4,s.ResManager.loadResAsync(i,cc.SpriteFrame)];case 5:u=o.sent(),this.cardBackt.spriteFrame=u,o.label=6;case 6:return[2]}})})},t.prototype.removeSprite=function(){this.cardValue&&(this.cardValue.node.active=!1)},t.prototype.getCardBackNode=function(){var e=u.KWXDefine.pifu;return 0==e||null==e?this.cardBack.node:1==e?this.cardBackt.node:this.cardBackc.node},t.prototype.getCardValue=function(){return this.MahJongValue},t.prototype.setGreyBack=function(e){this.greyBack.active=e,this.GreyState=e},t.prototype.getGreyState=function(){return this.GreyState},t.prototype.getKouState=function(){return this.kouIcon.active},t.prototype.setTingState=function(e){this.tingIcon&&(this.tingIcon.active=e)},t.prototype.setKouState=function(e){this.kouIcon&&(this.kouIcon.active=e)},t.prototype.setMaState=function(e){this.maIcon&&(this.maIcon.active=e)},r([d(cc.Sprite)],t.prototype,"cardBack",void 0),r([d(cc.Sprite)],t.prototype,"cardBackt",void 0),r([d(cc.Sprite)],t.prototype,"cardBackc",void 0),r([d(cc.Sprite)],t.prototype,"cardValue",void 0),r([d(cc.Node)],t.prototype,"greyBack",void 0),r([d(cc.Node)],t.prototype,"tingIcon",void 0),r([d(cc.Node)],t.prototype,"kouIcon",void 0),r([d(cc.Node)],t.prototype,"maIcon",void 0),r([d(cc.String)],t.prototype,"extraPath",void 0),t=r([f],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../manager/DataManager":"DataManager","../../manager/ResManager":"ResManager","./KWXDefine":"KWXDefine","./MJData":"MJData"}],MJData:[function(e,t,n){"use strict";cc._RF.push(t,"ef7e6qJcmBF9qvShEOlaafD","MJData"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.OperState={hu:!1,peng:!1,gang:!1,ming:!1,qi:!1},this.handCardNum=[14,14,14,14],this.bankerPos=-1,this.turnMeOperate=!1,this.DisableDragAndDrop=!1,this.hasOperAction=!1,this.userCardArr=[],this.pengCards=null,this.huCombo=null,this.chiCombo=[],this.gangCombo=[],this.tingCombo=null,this.HuCardList=[],this.MultipleHandClick=!1,this.KouHandClick=!1,this.GangHandClick=!1,this.RoomInfo=null,this.leftCard=56,this.handCardLiangState=[!1,!1,!1,!1],this.UsergangState=[!1,!1,!1,!1],this.kouList=[],this.lightList=[],this.PartiallyLit=[0,0,0,0],this.chooseMingState=!1,this.chooseMingTime=0,this.chooseMingList=[],this.gangList=[],this.tingList=[],this.spriteCache=[]}return e.prototype.ResetData=function(){this.handCardNum=[14,14,14,14],this.handCardLiangState=[!1,!1,!1,!1],this.UsergangState=[!1,!1,!1,!1],this.bankerPos=-1,this.turnMeOperate=!1,this.hasOperAction=!1,this.userCardArr=[],this.pengCards=null,this.huCombo=null,this.chiCombo=[],this.gangCombo=[],this.kouList=[],this.lightList=[],this.tingCombo=null,this.PartiallyLit=[],this.HuCardList=[],this.chooseMingState=!1,this.GangHandClick=!1,this.MultipleHandClick=!1,this.KouHandClick=!1,this.RoomInfo=null,this.leftCard=84,this.chooseMingList=[],this.gangList=[],this.tingList=[],this.PartiallyLit=[]},e.prototype.setSprite=function(e,t){this.spriteCache[e]=t},e.prototype.getSprite=function(e){if(null!=this.spriteCache[e])return this.spriteCache[e];console.error("mjdata getSprite is null")},e.instance=new e,e}();n.MJData=i.instance,cc._RF.pop()},{}],MJDefine:[function(e,t,n){"use strict";var i,r,a;cc._RF.push(t,"49dd3frPO9A5acKWpk6zM4U","MJDefine"),Object.defineProperty(n,"__esModule",{value:!0});var o,s=e("../../common/utils/Utils");n.MJEventDef={MjShootEvent:"mj_shoot_event",MjSelectEvent:"mj_select_event",MjChiEvent:"mj_chi_event",MjPengEvent:"mj_peng_event",MjGangEvent:"mj_gang_event",MjHuEvent:"mj_hu_event",MjTingEvent:"mj_ting_event",MjCheckEvent:"mj_check_event",OpenMulOperView:"open_mul_oper_view",MjBrightEvent:"mj_bright_event",TingTipsEvent:"ting_tips_event",KouMjEvent:"kou_mj_event",gangMjEvent:"gangMjEvent",coordinates:"coordinates",CloseSettlement:"close_settlement"},n.XLCHEventDef={PushChangeCard:"push_change_card"},function(e){e[e.NoStatus=0]="NoStatus",e[e.Check=1]="Check",e[e.Shoot=2]="Shoot",e[e.Chi=3]="Chi",e[e.Peng=4]="Peng",e[e.MingGang=5]="MingGang",e[e.AnGang=6]="AnGang",e[e.BuGang=7]="BuGang",e[e.Zimo=8]="Zimo",e[e.DianPao=9]="DianPao",e[e.Ting=10]="Ting",e[e.Hu=10]="Hu",e[e.BuHua=99]="BuHua"}(o=n.MJOperType||(n.MJOperType={})),n.MJCPGCards=((i={})[o.Peng]=new Array,i[o.BuGang]=new Array,i[o.MingGang]=new Array,i[o.AnGang]=new Array,i),function(e){e[e.PS_NotInRoom=0]="PS_NotInRoom",e[e.PS_Matching=1]="PS_Matching",e[e.PSMJ_Wait=101]="PSMJ_Wait",e[e.PSMJ_READY=102]="PSMJ_READY",e[e.PSMJ_XuanPiao=103]="PSMJ_XuanPiao",e[e.PSMJ_Play=104]="PSMJ_Play",e[e.PSMJ_ChuPai=105]="PSMJ_ChuPai",e[e.PSMJ_JieSuan=106]="PSMJ_JieSuan",e[e.PSRF_Wait=201]="PSRF_Wait",e[e.PSRF_READY=202]="PSRF_READY",e[e.PSRF_XuanPiao=203]="PSRF_XuanPiao",e[e.PSRF_Play=204]="PSRF_Play",e[e.PSRF_ChuPai=205]="PSRF_ChuPai"}(n.MJOperState||(n.MJOperState={})),n.MJEffectUrl="game/mahjong/effect/",n.MJEffect=((r={})[o.Chi]=n.MJEffectUrl+"chi/chi",r[o.Peng]=n.MJEffectUrl+"peng/peng",r[o.MingGang]=n.MJEffectUrl+"gang/gang",r[o.AnGang]=n.MJEffectUrl+"gang/gang",r[o.BuGang]=n.MJEffectUrl+"gang/gang",r[o.Zimo]=n.MJEffectUrl+"zimo/zm",r[o.DianPao]=n.MJEffectUrl+"dianpao/dianpao",r[o.Ting]=n.MJEffectUrl+"ting/ting",r[o.BuHua]=n.MJEffectUrl+"buhua/buhua",r),n.MJSound=((a={})[o.Chi]="chi",a[o.Peng]="peng",a[o.MingGang]="gang",a[o.AnGang]="gang",a[o.BuGang]="gang",a[o.Zimo]="hu"+s.default.getRandomInt(1,3),a[o.DianPao]="hu"+s.default.getRandomInt(1,3),a[o.Ting]="ting",a[o.BuHua]="flower",a),cc._RF.pop()},{"../../common/utils/Utils":"Utils"}],MJHandAreaBase:[function(e,t,n){"use strict";cc._RF.push(t,"1e813uDKQdM5bqujemLlTxj","MJHandAreaBase");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./MJCardBase"),o=e("./MJData"),s=e("../../manager/EventManager"),c=e("./MJDefine"),l=e("../../common/log/LogWrap"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mj_hand=null,t.mj_prefab=null,t.mj_mingprefab=null,t.handCardIdx=0,t.cancel_select=null,t._enableDrag=!1,t.DragCard=null,t.StartPos=cc.v2(),t.DisX=0,t.DisY=0,t.LastDisX=0,t.LastDisY=0,t.increase=!0,t._selectedMJ=null,t._bekDirX=0,t._bekDirY=0,t.bufenliang=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=this.DisX,t=this.DisY;null!=this.cancel_select&&this.cancel_select.on(cc.Node.EventType.TOUCH_END,this.onMJCancelClick.bind(this)),this._bekDirX=e,this._bekDirY=t},t.prototype.createHandMJ=function(e,t){this._selectedMJ=null,e!=this.mj_hand.children.length&&this.removeAllHand(t);var n=this.StartPos,i=0,r=0;if(e%3==2&&(i=this.LastDisX,r=this.LastDisY),2==t&&o.MJData.handCardLiangState[2])for(var a=0,s=this.mj_hand.childrenCount-1;s>=this.mj_hand.childrenCount-e;s--){var c=null;this.mj_hand.children[s]?c=this.mj_hand.children[s]:(c=cc.instantiate(this.mj_prefab),this.mj_hand.addChild(c),c.zIndex=this.increase?a:e-a,c.position=cc.v2(n.x+a*this.DisX,n.y+a*this.DisY)),this.mj_hand.childrenCount-e<2&&(c.zIndex=this.increase?a:e-a,c.position=cc.v2(n.x+a*this.DisX,n.y+a*this.DisY)),c.active=!0,a==e-1&&(c.position=cc.v2(n.x+a*this.DisX,n.y+a*this.DisY),c.x+=i,c.y+=r),a++,this.setbrand(c)}else for(s=0;s<e;s++){c=null;this.mj_hand.children[s]?c=this.mj_hand.children[s]:(c=cc.instantiate(this.mj_prefab),this.mj_hand.addChild(c)),0==t&&(c.opacity=0),c.active=!0,c.zIndex=this.increase?s:e-s,c.position=cc.v3(n.x+s*this.DisX,n.y+s*this.DisY,0),s==e-1&&(c.x+=i,c.y+=r),0===this.handCardIdx&&(this.initClick(c),!0===this._enableDrag&&this.initDragStuffs(c)),this.setbrand(c)}},t.prototype.createHandLiangMJ=function(e,t,n,i){e%3!=2||n||(e-=1),this._selectedMJ=null,this.clearAllHand();var r=this.StartPos;this.DisX=t.x,this.DisY=t.y;var o=0,s=0;e%3==2&&(o=this.LastDisX,s=this.LastDisY);for(var c=0;c<e;c++){var l=null;this.mj_hand.children[c]?l=this.mj_hand.children[c]:(l=cc.instantiate(this.mj_mingprefab),this.mj_hand.addChild(l)),0==i&&(l.opacity=0),l.active=!0,l.zIndex=this.increase?c:e-c,l.position=cc.v3(r.x+c*this.DisX,r.y+c*this.DisY,0),c==e-1&&(l.x+=o,l.y+=s),0===this.handCardIdx&&(l.getComponent(a.default).setGreyBack(!1),this.initClick(l),!0===this._enableDrag&&this.initDragStuffs(l)),this.setbrand(l)}},t.prototype.createHandBufenLiangMJ=function(e,t,n,i){e%3!=2||n||(e-=1),this.DisX=t.x,this.DisY=t.y,this._selectedMJ=null,this.removeAllHand(i);var r=this.StartPos,o=0,s=0;e%3==2&&(o=this.LastDisX,s=this.LastDisY);for(var c=0;c<e;c++){var l=null;this.mj_hand.children[c]?(l=this.mj_hand.children[c],console.log("\u4e0d\u662f\u4eae\u7684\u724c",c)):(l=cc.instantiate(this.mj_mingprefab),this.mj_hand.addChild(l),console.log("\u662f\u4eae\u7684\u724c",c)),0==i&&(l.opacity=0),l.active=!0,l.zIndex=this.increase?c:e-c,l.position=cc.v3(r.x+c*this.DisX,r.y+c*this.DisY,0),c==e-1&&(l.x+=o,l.y+=s),0===this.handCardIdx&&(l.getComponent(a.default).setGreyBack(!1),this.initClick(l),!0===this._enableDrag&&this.initDragStuffs(l)),this.setbrand(l)}},t.prototype.removeAllHand=function(e){void 0===e&&(e=0);for(var t=this.mj_hand.childrenCount,n=0;n<t;n++){var i=this.mj_hand.children[n];0==e&&i.getComponent(a.default).removeSprite(),i.active=!1}},t.prototype.clearAllHand=function(){this.DisX=this._bekDirX,this.DisY=this._bekDirY;for(var e=this.mj_hand.childrenCount,t=0;t<e;t++){this.mj_hand.children[t].destroy()}this.mj_hand.removeAllChildren()},t.prototype.setHandValue=function(e,t){var n=this;void 0===e&&(e=!1),void 0===t&&(t=!1);var i=0;e&&(i=1);var r=0;if(t)for(var s=function(e){c.scheduleOnce(function(){var t=n.mj_hand.children[e];t&&!0===t.active&&(t.opacity=0,t.getComponent(a.default).setSpirteValue(o.MJData.userCardArr[r],function(){t.opacity=255}),r++)},.03*(c.mj_hand.childrenCount-e))},c=this,l=this.mj_hand.childrenCount-1;l>=0;l--)s(l);else{var u=function(e){var t=h.mj_hand.children[e];!0===t.active&&(t.getComponent(a.default).setSpirteValue(o.MJData.userCardArr[r],function(){t.opacity=255}),r++)},h=this;for(l=i;l<this.mj_hand.childrenCount;l++)u(l)}},t.prototype.sethuifangHandValue=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=!1);var r=0;t&&(r=1);var o=0;if(n)for(var s=function(t){c.scheduleOnce(function(){var n=i.mj_hand.children[t];n&&!0===n.active&&(n.opacity=0,n.getComponent(a.default).setSpirteValue(e[o],function(){n.opacity=255}),o++)},.03*(c.mj_hand.childrenCount-t))},c=this,l=this.mj_hand.childrenCount-1;l>=0;l--)s(l);else{var u=function(t){var n=h.mj_hand.children[t];!0===n.active&&(n.getComponent(a.default).setSpirteValue(e[o],function(){n.opacity=255}),o++)},h=this;for(l=r;l<this.mj_hand.childrenCount;l++)u(l)}},t.prototype.setOtheresHandValue=function(e,t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=!1),console.log("\u5176\u4ed6\u73a9\u5bb6\u90e8\u5206\u4eae\u8bbe\u7f6e\u624b\u724c",o.MJData.PartiallyLit[e]);var r=0;t&&(r=1);var s=0;if(console.log("\u724c\u7684\u6570\u91cf:",this.mj_hand.childrenCount),n)for(var c=function(t){l.scheduleOnce(function(){var n=i.mj_hand.children[t];n&&!0===n.active&&(n.opacity=0,n.getComponent(a.default).setSpirteValue(o.MJData.PartiallyLit[e][s],function(){n.opacity=255}),s++)},.03*(l.mj_hand.childrenCount-t))},l=this,u=this.mj_hand.childrenCount-1;u>=0;u--)c(u);else{var h=function(t){var n=f.mj_hand.children[t];!0===n.active&&(n.opacity=0,n.getComponent(a.default).setSpirteValue(o.MJData.PartiallyLit[e][s],function(){n.opacity=255}),s++)},f=this;for(u=r;u<this.mj_hand.childrenCount;u++)h(u)}},t.prototype.setHandLastValue=function(e){var t=this.mj_hand.children[0];!0===t.active&&t.getComponent(a.default).setSpirteValue(e)},t.prototype.GetHandValue=function(){for(var e=this.mj_hand.childrenCount,t=0;t<e;t++){this.mj_hand.children[t].getComponent(a.default).getCardValue()}},t.prototype.setbrand=function(e){if(e)e.getComponent(a.default).brand();else for(var t=0;t<this.mj_hand.childrenCount;t++){this.mj_hand.children[t].getComponent(a.default).brand()}},t.prototype.setbufenOtherHandValue=function(e,t){e.length,o.MJData.lightList.length;for(var n=0;n<this.mj_hand.childrenCount;n++){var i=this.mj_hand.children[n];i.getComponent(a.default).setbufenSpirteCardBack(t),0}},t.prototype.setOtherHandValue=function(e,t){for(var n=0,i=0;i<this.mj_hand.childrenCount;i++){var r=this.mj_hand.children[i];!0===r.active&&e[n]?(r.getComponent(a.default).setSpirteValue(e[n]),n++):r.getComponent(a.default).setSpirteCardBack(t)}},t.prototype.setOtherHandValues=function(e,t){for(var n=this.mj_hand.childrenCount-e.length,i=0,r=this.mj_hand.childrenCount-1;r>=0;r--){var o=this.mj_hand.children[r];n<=r?!0===o.active&&e[i]&&(o.getComponent(a.default).setSpirteValue(e[i]),i++):o.getComponent(a.default).setSpirteCardBack(t)}},t.prototype.setHandTingValue=function(e,t){if(void 0===t&&(t=null),e)for(var n=0;n<this.mj_hand.childrenCount;n++){if(!0===(s=this.mj_hand.children[n]).active)for(var i=0;i<t.length;i++){var r=s.getComponent(a.default).getCardValue();if(t[i]==r&&!s.getComponent(a.default).getKouState()){s.getComponent(a.default).setTingState(e),o.MJData.tingCombo=!0;break}}}else for(n=0;n<this.mj_hand.childrenCount;n++){var s;!0===(s=this.mj_hand.children[n]).active&&(s.getComponent(a.default).setTingState(e),0)}},t.prototype.setHandKouValue=function(e,t){void 0===t&&(t=null);var n=0;if(e)for(var i=0;i<this.mj_hand.childrenCount;i++){if(!0===(r=this.mj_hand.children[i]).active)if(t==r.getComponent(a.default).getCardValue()&&(r.getComponent(a.default).setKouState(e),++n),n>=3)return}else for(i=0;i<this.mj_hand.childrenCount;i++){var r;!0===(r=this.mj_hand.children[i]).active&&r.getComponent(a.default).setKouState(e)}},t.prototype.initDragStuffs=function(e){var t=this;if(!o.MJData.handCardLiangState[0]){var n=[];n=n.concat(e.position);e.on(cc.Node.EventType.TOUCH_START,function(n){if(o.MJData.turnMeOperate){e.active=!0;t.node.convertToNodeSpaceAR(n.touch.getLocation());l.LogWrap.log("\u89e6\u6478\u5230\u5c4f\u5e55")}}),e.on(cc.Node.EventType.TOUCH_MOVE,function(n){if(o.MJData.turnMeOperate&&!o.MJData.DisableDragAndDrop){l.LogWrap.log("\u89e6\u6478\u5f00\u59cb",Math.abs(n.getDeltaX())+Math.abs(n.getDeltaY()));var i=t.node.convertToNodeSpaceAR(n.touch.getLocation());e.active=!0,e.x=i.x,e.y=i.y}}),e.on(cc.Node.EventType.TOUCH_END,function(i){o.MJData.turnMeOperate&&(o.MJData.DisableDragAndDrop||(e.active=!0,i.getLocationY()>=cc.view.getVisibleSize().height/8?(!1,t.shootEvent(e)):(e.position=n[0],e.y+=10)))}),e.on(cc.Node.EventType.TOUCH_CANCEL,function(i){o.MJData.turnMeOperate&&(o.MJData.DisableDragAndDrop||(e.active=!0,i.getLocationY()>=cc.view.getVisibleSize().height/8?(!1,t.shootEvent(e)):(e.position=n[0],e.y+=10)))})}},t.prototype.initClick=function(e){var t=this;e.off(cc.Node.EventType.TOUCH_END),e.on(cc.Node.EventType.TOUCH_END,function(e){t.MJClickEvent(e.target),s.EventManager.emit(c.MJEventDef.coordinates,e)})},t.prototype.MJClickEvent=function(e){if(!o.MJData.handCardLiangState[0])if(o.MJData.MultipleHandClick){var t=e.getComponent(a.default).getCardValue();0==e.y?(s.EventManager.emit(c.XLCHEventDef.PushChangeCard,{card:e,cardValue:t,is_increase:!0}),e.y+=10):(s.EventManager.emit(c.XLCHEventDef.PushChangeCard,{card:e,cardValue:t,is_increase:!1}),e.y=0)}else if(o.MJData.KouHandClick){var n=e.getComponent(a.default).getCardValue();s.EventManager.emit(c.MJEventDef.KouMjEvent,{cardValue:n})}else{if(e==this._selectedMJ)return s.EventManager.emit(c.MJEventDef.MjBrightEvent),this.shootEvent(this._selectedMJ),o.MJData.GangHandClick&&(this._selectedMJ.y-=10),void(this._selectedMJ=null);null!=this._selectedMJ&&(this._selectedMJ.y-=10);var i=e.getComponent(a.default).getCardValue(),r=e.parent.convertToWorldSpaceAR(e.position);s.EventManager.emit(c.MJEventDef.MjBrightEvent,{cardValue:i,startPos:r}),null!=o.MJData.tingCombo&&s.EventManager.emit(c.MJEventDef.TingTipsEvent,{cardValue:i}),o.MJData.GangHandClick||(e.y+=10),this._selectedMJ=e}},t.prototype.onMJCancelClick=function(){this._selectedMJ&&(this._selectedMJ.y-=10,s.EventManager.emit(c.MJEventDef.MjBrightEvent),this._selectedMJ=null),s.EventManager.emit(c.MJEventDef.TingTipsEvent)},t.prototype.shootEvent=function(e){if(o.MJData.GangHandClick){var t=e.getComponent(a.default).getCardValue();s.EventManager.emit(c.MJEventDef.gangMjEvent,{cardValue:t})}else{if(!o.MJData.turnMeOperate)return this._selectedMJ.y-=10,s.EventManager.emit(c.MJEventDef.MjBrightEvent),void(this._selectedMJ=null);o.MJData.hasOperAction,this.setHandTingValue(!1);var n=e.getComponent(a.default).getCardValue(),i=e.parent.convertToWorldSpaceAR(e.position);s.EventManager.emit(c.MJEventDef.MjShootEvent,{cardDatas:n,startPos:i})}},r([f({type:cc.Node,tooltip:"\u624b\u724c\u8282\u70b9"})],t.prototype,"mj_hand",void 0),r([f({type:cc.Prefab,tooltip:"\u624b\u724c\u9884\u5236\u4f53"})],t.prototype,"mj_prefab",void 0),r([f({type:cc.Prefab,tooltip:"\u624b\u724c\u4eae\u5012\u9884\u5236\u4f53"})],t.prototype,"mj_mingprefab",void 0),r([f({tooltip:"\u624b\u724c\u89c6\u89d2\u4e0b\u6807 0\u4e3a\u81ea\u5df1\u89c6\u89d2"})],t.prototype,"handCardIdx",void 0),r([f({type:cc.Node,tooltip:"\u53d6\u6d88\u9009\u4e2d\u9ebb\u5c06\u8282\u70b9",visible:function(){return 0==this.handCardIdx}})],t.prototype,"cancel_select",void 0),r([f({tooltip:"\u662f\u5426\u5f00\u542f\u62d6\u62fd\u6a21\u5f0f",visible:function(){return 0==this.handCardIdx}})],t.prototype,"_enableDrag",void 0),r([f({type:cc.Node,tooltip:"\u62d6\u62fd\u7684\u6251\u514b\u724c\u8282\u70b9",visible:function(){return this._enableDrag&&0==this.handCardIdx}})],t.prototype,"DragCard",void 0),r([f({tooltip:"\u8d77\u59cb\u4f4d\u7f6e"})],t.prototype,"StartPos",void 0),r([f({tooltip:"\u9ebb\u5c06\u95f4\u9694"})],t.prototype,"DisX",void 0),r([f({tooltip:"\u9ebb\u5c06\u95f4\u9694"})],t.prototype,"DisY",void 0),r([f({tooltip:"\u6700\u540e\u4e00\u5f20\u9ebb\u5c06\u95f4\u9694"})],t.prototype,"LastDisX",void 0),r([f({tooltip:"\u6700\u540e\u4e00\u5f20\u9ebb\u5c06\u95f4\u9694"})],t.prototype,"LastDisY",void 0),r([f({tooltip:"\u5c42\u7ea7\u9012\u589e\u6216\u8005\u9012\u51cf"})],t.prototype,"increase",void 0),t=r([h],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../common/log/LogWrap":"LogWrap","../../manager/EventManager":"EventManager","./MJCardBase":"MJCardBase","./MJData":"MJData","./MJDefine":"MJDefine"}],MJOperBase:[function(e,t,n){"use strict";cc._RF.push(t,"b688a2Ts+5FGIumDd8yyYgz","MJOperBase");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/utils/Utils"),o=e("../../manager/EventManager"),s=e("./MJDefine"),c=e("./MJData"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_oper=null,t.oper_list=null,t.btn_chi=null,t.btn_peng=null,t.btn_gang=null,t.btn_ting=null,t.btn_hu=null,t.btn_guo=null,t}return i(t,e),t.prototype.onLoad=function(){a.default.addClickEventEND(this.btn_chi,this.onClickOperEvent.bind(this)),a.default.addClickEventEND(this.btn_peng,this.onClickOperEvent.bind(this)),a.default.addClickEventEND(this.btn_gang,this.onClickOperEvent.bind(this)),a.default.addClickEventEND(this.btn_ting,this.onClickOperEvent.bind(this)),a.default.addClickEventEND(this.btn_hu,this.onClickOperEvent.bind(this)),a.default.addClickEventEND(this.btn_guo,this.onClickOperEvent.bind(this)),this.hideOption()},t.prototype.hideOption=function(){this.btn_chi.active=!1,this.btn_peng.active=!1,this.btn_gang.active=!1,this.btn_ting.active=!1,this.btn_hu.active=!1,this.btn_guo.active=!0,this.oper_list.active=!1,this.node_oper.active=!1},t.prototype.onClickOperEvent=function(e){console.log("onClickOperEvent",e.name);var t=e.name;if("btn_chi"==t){if(c.MJData.chiCombo.length>1)return o.EventManager.emit(s.MJEventDef.OpenMulOperView,c.MJData.chiCombo),void(this.oper_list.active=!1);o.EventManager.emit(s.MJEventDef.MjChiEvent,c.MJData.chiCombo[0])}else if("btn_peng"==t)o.EventManager.emit(s.MJEventDef.MjPengEvent,c.MJData.pengCards);else if("btn_gang"==t){if(console.log("MJOperBase btn_gang"),c.MJData.gangCombo.length>1)return o.EventManager.emit(s.MJEventDef.OpenMulOperView,c.MJData.gangCombo),void(this.oper_list.active=!1);o.EventManager.emit(s.MJEventDef.MjGangEvent,c.MJData.gangCombo[0])}else"btn_ting"==t?o.EventManager.emit(s.MJEventDef.MjTingEvent):"btn_hu"==t?o.EventManager.emit(s.MJEventDef.MjHuEvent,c.MJData.huCombo):"btn_guo"==t&&o.EventManager.emit(s.MJEventDef.MjCheckEvent);this.node_oper.active=!1},t.prototype.showOption=function(e){"guo"==e?this.btn_guo.active=!0:(this.oper_list.getChildByName("btn_"+e).active=!0,this.oper_list.active=!0);this.node_oper.active=!0},r([h(cc.Node)],t.prototype,"node_oper",void 0),r([h(cc.Node)],t.prototype,"oper_list",void 0),r([h(cc.Node)],t.prototype,"btn_chi",void 0),r([h(cc.Node)],t.prototype,"btn_peng",void 0),r([h(cc.Node)],t.prototype,"btn_gang",void 0),r([h(cc.Node)],t.prototype,"btn_ting",void 0),r([h(cc.Node)],t.prototype,"btn_hu",void 0),r([h(cc.Node)],t.prototype,"btn_guo",void 0),t=r([u],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../common/utils/Utils":"Utils","../../manager/EventManager":"EventManager","./MJData":"MJData","./MJDefine":"MJDefine"}],MJOutAreaBase:[function(e,t,n){"use strict";cc._RF.push(t,"3b2c4eF5+hDKZ9m+/wCdkIf","MJOutAreaBase");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./MJCardBase"),o=cc._decorator,s=o.ccclass,c=o.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_outArea=null,t.mj_prefab=null,t.startPos=cc.v2(),t.offset=cc.v2(),t.lineOffset=cc.v2(),t.increase=!0,t.lineNumArr=[],t.maxIndex=100,t.nodePool=null,t.sumNum=0,t.line=0,t.lineIdx=0,t.lastAddCard=null,t}return i(t,e),t.prototype.onLoad=function(){this.nodePool=new cc.NodePool},t.prototype.onDestroy=function(){this.nodePool.clear()},t.prototype.onchongz=function(){this.lineIdx=0,this.line=0},t.prototype.createOutMJ=function(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===i&&(i=0);var r=null;r=this.nodePool.size()>0?this.nodePool.get():cc.instantiate(this.mj_prefab),this.lineIdx||(this.lineIdx=0),(this.line<0||!this.line)&&(this.line=0);var o=this.startPos.x+this.offset.x*this.lineIdx+this.line*this.lineOffset.x,s=this.startPos.y+this.offset.y*this.lineIdx+this.line*this.lineOffset.y;if(t=!0,r.active=t,this.lastAddCard=r,this.node_outArea.addChild(r,this.increase?this.sumNum+this.line:this.maxIndex-this.sumNum),n&&0==i){var c=this.node_outArea.convertToNodeSpaceAR(n);r.x=c.x,r.y=c.y,cc.tween(r).to(.05,{position:cc.v2(o,s),scale:1},{easing:"cubicIn"}).start()}else r.setPosition(cc.v2(o,s));r.opacity=0,r.getComponent(a.default).setSpirteValue(e,function(){r.opacity=255}).then(function(e){console.log("\u51fa\u724c\u9ebb\u5c06\u663e\u793a\u5b8c\u6210")}),this.sumNum++,this.lineIdx++,this.lineIdx>this.lineNumArr[this.line]&&(this.line++,this.lineIdx=0),this.setbrand()},t.prototype.delEndOutMJ=function(){this.clearOutMJ(this.lastAddCard)},t.prototype.delEndOutMJs=function(e){this.clearOutMJ(e)},t.prototype.clearOutMJ=function(e){var t=e||this.node_outArea.children[0];t&&(t.stopAllActions(),this.nodePool.put(t),t.removeFromParent(),this.lineIdx--,this.lineIdx<0&&(this.line--,this.lineIdx=this.lineNumArr[this.line]))},t.prototype.setbrand=function(){for(var e=0;e<this.node_outArea.childrenCount;e++){this.node_outArea.children[e].getComponent(a.default).brand()}},t.prototype.removeAllOut=function(){for(var e=this.node_outArea.childrenCount,t=0;t<e;t++)this.clearOutMJ()},t.prototype.getLastAddCard=function(){return this.lastAddCard},t.prototype.setStartPos=function(e){this.startPos=e},t.prototype.createLastOutMJ=function(e){var t=null;t=this.nodePool.size()>0?this.nodePool.get():cc.instantiate(this.mj_prefab);var n=this.startPos.x+this.offset.x*this.lineIdx+this.line*this.lineOffset.x+20,i=this.startPos.y+this.offset.y*this.lineIdx+this.line*this.lineOffset.y;t.setPosition(cc.v2(n,i)),t.active=!0,this.lastAddCard=t,this.node_outArea.addChild(t,this.increase?this.sumNum+this.line:this.maxIndex-this.sumNum),this.sumNum++,this.lineIdx++,this.lineIdx>this.lineNumArr[this.line]&&(this.line++,this.lineIdx=0),t.getComponent(a.default).setSpirteValue(e)},t.prototype.setOutGreyBack=function(e,t){if(void 0===t&&(t=null),e)for(var n=0;n<this.node_outArea.childrenCount;n++){if(!0===(i=this.node_outArea.children[n]).active)t==i.getComponent(a.default).getCardValue()&&i.getComponent(a.default).setGreyBack(e)}else for(n=0;n<this.node_outArea.childrenCount;n++){var i;!0===(i=this.node_outArea.children[n]).active&&i.getComponent(a.default).setGreyBack(e)}},r([c(cc.Node)],t.prototype,"node_outArea",void 0),r([c(cc.Prefab)],t.prototype,"mj_prefab",void 0),r([c({tooltip:"\u8d77\u59cb\u4f4d\u7f6e"})],t.prototype,"startPos",void 0),r([c({tooltip:"\u9ebb\u5c06\u504f\u79fb\u91cf"})],t.prototype,"offset",void 0),r([c({tooltip:"\u6362\u884c\u504f\u79fb\u91cf"})],t.prototype,"lineOffset",void 0),r([c({tooltip:"\u5c42\u6b21\u9012\u589e\u6216\u8005\u9012\u51cf"})],t.prototype,"increase",void 0),r([c(cc.Float)],t.prototype,"lineNumArr",void 0),t=r([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./MJCardBase":"MJCardBase"}],MJPengBase:[function(e,t,n){"use strict";cc._RF.push(t,"77a658yxf1MA6Rzfh+WMaPY","MJPengBase");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./MJCardBase"),o=cc._decorator,s=o.ccclass,c=o.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_outArea=null,t.mj_prefab=null,t.startPos=cc.v2(),t.offset=cc.v2(),t.increase=!0,t.gangPos=cc.v2(),t.lineNumArr=[],t.maxIndex=100,t.nodePool=null,t.sumNum=0,t.line=0,t.lineIdx=0,t.lastAddCard=null,t.pengIdx=0,t}return i(t,e),t.prototype.onLoad=function(){this.nodePool=new cc.NodePool},t.prototype.onDestroy=function(){this.nodePool.clear()},t.prototype.createPengMJ=function(e,t){void 0===t&&(t=!0);for(var n=0;n<3;n++)this.createMJ(e[n]);if(e.length>3){var i=null;i=this.nodePool.size()>0?this.nodePool.get():cc.instantiate(this.mj_prefab);var r=this.startPos.x+this.offset.x*(this.lineIdx-2)+this.offset.x*this.pengIdx/2+this.gangPos.x,o=this.startPos.y+this.offset.y*(this.lineIdx-2)+this.offset.y*this.pengIdx/2+this.gangPos.y;i.setPosition(cc.v2(r,o)),i.active=t,this.lastAddCard=i,this.node_outArea.addChild(i,9999),this.sumNum++,i.getComponent(a.default).setSpirteValue(e[0])}this.pengIdx++},t.prototype.createMJ=function(e,t){void 0===t&&(t=!0);var n=null;n=this.nodePool.size()>0?this.nodePool.get():cc.instantiate(this.mj_prefab);var i=this.startPos.x+this.offset.x*this.lineIdx+this.offset.x*this.pengIdx/2,r=this.startPos.y+this.offset.y*this.lineIdx+this.offset.y*this.pengIdx/2;n.setPosition(cc.v2(i,r)),n.active=t,this.lastAddCard=n,this.node_outArea.addChild(n,this.increase?this.sumNum+this.line:this.maxIndex-this.sumNum),this.sumNum++,this.lineIdx++,n.getComponent(a.default).setSpirteValue(e)},t.prototype.clearOutMJ=function(e){var t=e||this.node_outArea.children[0];t.stopAllActions(),this.nodePool.put(t),t.removeFromParent(),this.lineIdx--,this.lineIdx<0&&(this.line--,this.lineIdx=this.lineNumArr[this.line])},t.prototype.removeAllOut=function(){for(var e=this.node_outArea.childrenCount,t=0;t<e;t++)this.clearOutMJ(e[t])},r([c(cc.Node)],t.prototype,"node_outArea",void 0),r([c(cc.Prefab)],t.prototype,"mj_prefab",void 0),r([c({tooltip:"\u8d77\u59cb\u4f4d\u7f6e"})],t.prototype,"startPos",void 0),r([c({tooltip:"\u9ebb\u5c06\u504f\u79fb\u91cf"})],t.prototype,"offset",void 0),r([c({tooltip:"\u5c42\u6b21\u9012\u589e\u6216\u8005\u9012\u51cf"})],t.prototype,"increase",void 0),r([c({tooltip:"\u6760\u5b50\u7a81\u51fa\u591a\u5c11"})],t.prototype,"gangPos",void 0),r([c(cc.Float)],t.prototype,"lineNumArr",void 0),t=r([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./MJCardBase":"MJCardBase"}],MaimaView:[function(e,t,n){"use strict";cc._RF.push(t,"624d9mZMFBHipUU4k4jLxhP","MaimaView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../manager/ResManager"),c=e("../MJCardBase"),l=e("../../../manager/EventManager"),u=e("../../../Define"),h=e("../KWXDefine"),f=cc._decorator,d=f.ccclass,p=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ma_node=null,t.mj_prefab=null,t._gameView=null,t.madata=[],t.maindex=0,t}return i(t,e),t.prototype.onLoad=function(){l.EventManager.on(this,u.EventDef.GameShow,this.maimaon.bind(this))},t.prototype.initData=function(e){this.madata=e,this.showAni(this.maindex)},t.prototype.showAni=function(e){return a(this,void 0,void 0,function(){var t,n,i,r,a,c;return o(this,function(o){switch(o.label){case 0:return this.madata[e]?(t=this,(n=new cc.Node).addComponent(sp.Skeleton),this.ma_node.addChild(n),[4,s.ResManager.loadResAsync("game/kwx/spine/mjanimation",sp.SkeletonData)]):(this.scheduleOnce(function(){this.node.destroy()},3),[2]);case 1:return i=o.sent(),(r=n.getComponent(sp.Skeleton)).skeletonData=i,r.timeScale=.5,r.node.scale=1.5,a=h.KWXDefine.pifu,console.log("card",a),0==a||null==a?c="Green":1==a?c="Blue":2==a&&(c="Yellow"),r.animation=c,r.setAnimation(0,c,!0)&&r.setCompleteListener(function(e,i){n.destroy(),t.createMj(t.madata[t.maindex]),++t.maindex,t.showAni(t.maindex)}),[2]}})})},t.prototype.createMj=function(e){var t=cc.instantiate(this.mj_prefab);t.scale=1.1,this.ma_node.addChild(t),t.getComponent(c.default).setSpirteValue(e)},t.prototype.maimaon=function(){this.node&&this.node.destroy()},r([p(cc.Node)],t.prototype,"ma_node",void 0),r([p({type:cc.Prefab,tooltip:"\u9a6c\u724c\u9884\u5236\u4f53"})],t.prototype,"mj_prefab",void 0),t=r([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../Define":"Define","../../../manager/EventManager":"EventManager","../../../manager/ResManager":"ResManager","../KWXDefine":"KWXDefine","../MJCardBase":"MJCardBase"}],Marquee:[function(e,t,n){"use strict";var i;cc._RF.push(t,"c8a56fyvbxIGZ4qzYPrVf1U","Marquee"),Object.defineProperty(n,"__esModule",{value:!0});var r=e("../base/BaseView"),a=e("../../manager/DataManager"),o=e("../../manager/UIManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=((i={})[1]="HallView",i[2]="RoomView",i[3]="GameView",i),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label_info=null,t.isNext=!0,t}return __extends(t,e),t.prototype.initComponent=function(){},t.prototype.onMarqueeInfoNotify=function(){},t.prototype.update=function(){if(this.isNext){var e=a.DataManager.marquee.pop();if(null!=e){for(var t=!1,n=0;n<e.play_where.length;n++){var i=e.play_where[n];switch(i){case 3:-1!==o.UIManager.viewName.indexOf(u[i])&&(t=!0);break;default:u[i]==o.UIManager.viewName&&(t=!0)}}t&&(this.isNext=!1,this.play(e))}}},t.prototype.play=function(e){var t=this;this.node.opacity=255,this.label_info.string=e.content_msg;var n=this.label_info.node.getContentSize(),i=(this.node.width+n.width)/2,r=-i;this.label_info.node.x=i;var a=(this.node.width+n.width+100)/100,o=cc.moveTo(a,cc.v2(r,0)),s=cc.sequence(o,cc.callFunc(function(){t.node.opacity=0,t.isNext=!0}));this.label_info.node.runAction(s)},__decorate([l(cc.Label)],t.prototype,"label_info",void 0),t=__decorate([c],t)}(r.default);n.default=h,cc._RF.pop()},{"../../manager/DataManager":"DataManager","../../manager/UIManager":"UIManager","../base/BaseView":"BaseView"}],MessageQueue:[function(e,t,n){"use strict";cc._RF.push(t,"0f7daBJwJVN04Wg9/zQ4PTh","MessageQueue");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../manager/EventManager"),o=function(){return function(e,t,n){this.cmd="",this.callFunc=null,this.spaceTime=0,this.cmd=e,this.spaceTime=n,this.callFunc=t}}(),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=e.call(this)||this;return t._bStart=!1,t._tableID=0,t._messages=[],t._cache=[],t._curTime=0,t._isPause=!1,t._timeScale=1,t._schedulecallBack=null,a.EventManager.on(t,"MESSAGEQUEUE_PAUSE",t.onPause.bind(t)),a.EventManager.on(t,"MESSAGEQUEUE_RESET",t.onReset.bind(t)),a.EventManager.on(t,"MESSAGEQUEUE_TIMESCALE",t.onTimeScale.bind(t)),t}var n;return i(t,e),n=t,t.prototype.begin=function(){0!=this._schedulecallBack&&this.unschedule(this._schedulecallBack),this._schedulecallBack=this.schedule(this.scheduleFunc.bind(this))},t.prototype.scheduleFunc=function(e){if(this._bStart&&!(this._messages.length<=0)&&!this._isPause&&(this._curTime-=e*this._timeScale,this._curTime<0)){var t=this._messages.shift();null!=t.info.callFunc&&t.info.callFunc(t.msg),console.log("scheduleFunc\u534f\u8bae: "+t.name+" \u534f\u8bae\u7b49\u5f85\u65f6\u95f4-----\x3e"+t.info.spaceTime),this._curTime=t.info.spaceTime}},t.prototype.onPause=function(e){this._isPause=e},t.prototype.onReset=function(e){this.reset()},t.prototype.onTimeScale=function(e){this._timeScale=e},t.prototype.onExitdestroy=function(){return console.log("\u9500\u6bc1\u6d88\u606f\u961f\u5217"),a.EventManager.off(this),this._messages=[],this._cache=[],0!=this._schedulecallBack&&this.unschedule(this._schedulecallBack),!0},t.prototype.reset=function(){console.log("\u91cd\u7f6e\u6d88\u606f\u961f\u5217"),this._messages=[],this._curTime=0,this._isPause=!1,this._timeScale=1},t.prototype.pause=function(){console.log("\u6682\u505c\u6d88\u606f\u961f\u5217"),this.onPause(!0)},t.prototype.resume=function(){console.log("\u7ee7\u7eed\u6d88\u606f\u961f\u5217"),this.onPause(!1)},t.prototype.addMessage=function(e,t,n){void 0===n&&(n=0);var i=new o(e,t,n);this._cache[e]=i,console.log("\u6dfb\u52a0\u534f\u8bae: "+e+" \u534f\u8bae\u7b49\u5f85\u65f6\u95f4-----\x3e"+n),a.EventManager.on(this,e,this.onMessage.bind(this))},t.prototype.onMessage=function(e,t){var n=this._cache[t];null!=n&&this._messages.push({name:t,msg:e,info:n}),console.log("\u6536\u5230\u534f\u8bae: "+t+" \u534f\u8bae\u7b49\u5f85\u65f6\u95f4-----\x3e"+n.spaceTime)},t.prototype.start=function(){console.log("\u5f00\u59cb\u76d1\u542c\u6d88\u606f\u961f\u5217"),this._bStart=!0,this.begin()},t.prototype.stop=function(){this._bStart=!1},t.instance=new n,t=n=r([c],t)}(cc.Component));n.default=l,n.MessageQueueInst=l.instance,cc._RF.pop()},{"../../../manager/EventManager":"EventManager"}],NNCmd:[function(e,t,n){"use strict";cc._RF.push(t,"b747fC41iFEOKKJPOswz9DT","NNCmd"),Object.defineProperty(n,"__esModule",{value:!0}),n.NNCmd="rpc",n.ProtocolNNCmd={S2C_NNRoomInfo:n.NNCmd+".S2C_NNRoomInfo",S2C_NewNNPlayerEnter:n.NNCmd+".S2C_NewNNPlayerEnter",S2C_Shangzhuang:n.NNCmd+".S2C_Shangzhuang",S2C_xiazhu:n.NNCmd+".S2C_xiazhu",S2C_NNSendCard:n.NNCmd+".S2C_NNSendCard",S2C_NNPlayCars:n.NNCmd+".S2C_NNPlayCars",S2C_NNEnd:n.NNCmd+".S2C_NNEnd",S2C_PlayerExitRoom:n.NNCmd+".S2C_PlayerExitRoom",S2C_UpdatePlayerInfo:n.NNCmd+".S2C_UpdatePlayerInfo",S2C2S_Magic:n.NNCmd+".S2C2S_Magic"},n.EventNNCmd={INITRoom_EVENTS:"INITRoom_EVENTS",SETTIMEOUT_USERINFO:"SETTIMEOUT_USERINFO",CLICK_CONTINUE:"CLICK_CONTINUE",CLICK_CHANGEDESK:"CLICK_CHANGEDESK"},cc._RF.pop()},{}],NNData:[function(e,t,n){"use strict";cc._RF.push(t,"74bd6Zc1DVPG4a7Z1gTsIJ7","NNData"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.OperState={hu:!1,peng:!1,gang:!1,ming:!1,qi:!1},this.preparation=!1,this.FlopCard=[],this.handCardNum=[14,14,14,14],this.bankerPos=-1,this.turnMeOperate=!1,this.DisableDragAndDrop=!1,this.hasOperAction=!1,this.userCardArr=[],this.pengCards=null,this.huCombo=null,this.chiCombo=[],this.gangCombo=[],this.tingCombo=null,this.HuCardList=[],this.MultipleHandClick=!1,this.KouHandClick=!1,this.GangHandClick=!1,this.RoomInfo=null,this.leftCard=56,this.handCardLiangState=[!1,!1,!1,!1],this.UsergangState=[!1,!1,!1,!1],this.kouList=[],this.lightList=[],this.PartiallyLit=[],this.chooseMingState=!1,this.chooseMingTime=0,this.chooseMingList=[],this.gangList=[],this.tingList=[]}return e.prototype.ResetData=function(){this.handCardNum=[14,14,14,14],this.handCardLiangState=[!1,!1,!1,!1],this.UsergangState=[!1,!1,!1,!1],this.bankerPos=-1,this.turnMeOperate=!1,this.hasOperAction=!1,this.userCardArr=[],this.pengCards=null,this.huCombo=null,this.chiCombo=[],this.gangCombo=[],this.kouList=[],this.lightList=[],this.tingCombo=null,this.PartiallyLit=[],this.HuCardList=[],this.chooseMingState=!1,this.GangHandClick=!1,this.MultipleHandClick=!1,this.KouHandClick=!1,this.RoomInfo=null,this.leftCard=84,this.chooseMingList=[],this.gangList=[],this.tingList=[],this.PartiallyLit=[]},e.instance=new e,e}();n.NNData=i.instance,cc._RF.pop()},{}],NNDefine:[function(e,t,n){"use strict";cc._RF.push(t,"f0db7dA20pD0ZL0UhvIbFci","NNDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.NNDefine={GAME_PLAYER:8,SEAT_ID:0,PLAYER_DATAS:[],PlaybackRoomInfo:null,GAME_DATAS:{id:Number,clubId:Number,gameType:Number,name:String,radix:Number,joinLimit:Number,leavelimit:Number,juShu:Number,playerCount:Number,param:Number,match:Boolean},TOTAL_DATA:null,JUSHU:null,MY_DATA:null,ROOM_ID:1,GAME_OVER:!1,Chat_Tag:1001,Expression_Tag:1002,time_nums:0},n.FanXingType||(n.FanXingType={}),n.FanXingStr={},n.FanXingRateStr={},n.FanXingAniName={},n.FanXingPlaySFX={},n.FanXingPuTongPlaySFX={},n.CHAT_TEXT=["\u641e\u5feb\u70b9\u51fa\u724c\u6492","\u6253\u6ee1\u7684\u724c\u5466","\u7ed9\u4f60\u4eec\u4e00\u4e2a\u6ee1\u8d2f","\u4e0d\u641e\u95f9\uff0c\u6211\u8fd8\u6709\u4e8b","\u4ec5\u5728\u90a3\u78b0\u8fd8\u8ba9\u6211\u8d77\u724c\u5427\u6492","\u6211\u6655\u6253\u9519\u6c42\u4e86","\u5feb\u70b9\u554a\u90fd\u7b49\u7684\u6211\u82b1\u90fd\u8c22\u4e86","\u4e0d\u8981\u8d70\u51b3\u6218\u5012\u5929\u4eae","\u4f60\u7684\u724c\u6253\u7684\u4e5f\u592a\u597d\u4e86\u5427","\u4f60\u662fMM\u8fd8\u662fGG","\u548c\u4f60\u5408\u4f5c\u771f\u7684\u592a\u6109\u5feb\u4e86","\u5927\u5bb6\u597d\u5f88\u9ad8\u5174\u89c1\u5230\u5404\u4f4d","\u6253\u724c\u600e\u4e48\u90a3\u4e48\u6162\u4e86"],n.CHAT_Mp3=["kwx_sound/yinxiao/QuYu/Chat_0","kwx_sound/yinxiao/QuYu/Chat_1","kwx_sound/yinxiao/QuYu/Chat_2","kwx_sound/yinxiao/QuYu/Chat_3","kwx_sound/yinxiao/QuYu/Chat_4","kwx_sound/yinxiao/QuYu/Chat_5","yuying/v1","yuying/v3","yuying/v4","yuying/v5","yuying/v6","yuying/v7","yuying/v11"],n.SKE_ANIM=["hd_bingtong01_ske","hd_cangyingpai01_ske","hd_daocha01_ske","hd_ganbei01_ske","hd_jidan01_ske","hd_maobi01_ske","hd_meigui01_ske","hd_woshou01_ske","hd_xianbing01_ske","hd_zhuaji01_ske"],n.SKE_Mp3=["emo/hd_bingtong01","emo/hd_cangyingpai01","emo/hd_daocha01","emo/hd_ganbei01","emo/hd_jidan01","emo/hd_maobi01","emo/hd_meigui01","emo/hd_woshou01","emo/hd_xianbing01","emo/hd_zhuaji01"],cc._RF.pop()},{}],NNGameScene:[function(e,t,n){"use strict";cc._RF.push(t,"b6ed1GpFqpAbIv68qa2xu3G","NNGameScene");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./NNGameView"),o=e("../../manager/EventManager"),s=e("./protocol/NNCmd"),c=e("../../manager/UIManager"),l=e("./NNDefine"),u=e("../../manager/DataManager"),h=e("./NNTool"),f=e("../../manager/AudioManager"),d=cc._decorator,p=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameView=null,t.shengli=[],t}return i(t,e),t.prototype.onLoad=function(){this.GameView.GameScene=this,this.initEvent(),c.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...")},t.prototype.initEvent=function(){o.EventManager.on(this,s.EventNNCmd.INITRoom_EVENTS,this.S2C_NNRoomInfo.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_NewNNPlayerEnter,this.S2C_NewNNPlayerEnter.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_Shangzhuang,this.S2C_Shangzhuang.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_xiazhu,this.S2C_xiazhu.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_NNSendCard,this.S2C_NNSendCard.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_NNPlayCars,this.S2C_NNPlayCars.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_NNEnd,this.S2C_NNEnd.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_PlayerExitRoom,this.S2C_PlayerExitRoom.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C_UpdatePlayerInfo,this.S2C_UpdatePlayerInfo.bind(this)),o.EventManager.on(this,s.ProtocolNNCmd.S2C2S_Magic,this.S2C2S_Magic.bind(this))},t.prototype.S2C_NNRoomInfo=function(e){var t=this;console.log("S2C_NNRoomInfo",e),this.GameView.resetGameView(),l.NNDefine.PLAYER_DATAS=e.playerInfos,l.NNDefine.GAME_PLAYER=e.param.playerCount,l.NNDefine.GAME_DATAS=e.param,l.NNDefine.JUSHU=e.pan,l.NNDefine.PLAYER_DATAS.forEach(function(e,n){var i=h.default.getLocationID(e.position);t.GameView.NNPlayer[i].setOnlineState(e.online),e.playerId==u.DataManager.playerInfo.accountId&&(l.NNDefine.MY_DATA=e,l.NNDefine.SEAT_ID=e.position,console.log("\u6211\u7684\u7528\u6237\u4fe1\u606f======>",e))}),this.GameView.onGameStart(e,!0)},t.prototype.S2C_NewNNPlayerEnter=function(e){for(var t=!0,n=e.pi,i=0;i<l.NNDefine.PLAYER_DATAS.length;i++)l.NNDefine.PLAYER_DATAS[i].playerId==n.playerId&&(l.NNDefine.PLAYER_DATAS[i]=n,t=!1);t&&l.NNDefine.PLAYER_DATAS.push(n);var r=h.default.getLocationID(n.position);this.GameView.NNPlayer[r].setUserInfo(n)},t.prototype.S2C_Shangzhuang=function(e){this.GameView.SetBanker(e)},t.prototype.S2C_xiazhu=function(e){this.GameView.SetXiazhu(e)},t.prototype.S2C_NNSendCard=function(e){l.NNDefine.JUSHU=e.playTimes,this.GameView.resetGameView();for(var t=0;t<e.changeInfos.length;t++)for(var n=0;n<l.NNDefine.PLAYER_DATAS.length;n++)e.changeInfos[t].playerId==l.NNDefine.PLAYER_DATAS[n].playerId&&(l.NNDefine.PLAYER_DATAS[n].state=e.changeInfos[t].state,l.NNDefine.PLAYER_DATAS[n].score=e.changeInfos[t].score);this.GameView.onGameStart(e),f.AudioManager.playSFX("nn_sound/yinxiao/start.mp3"),this.GameView.mDeskGameTypeAnim.active=!0;var i=this;this.GameView.mDeskGameTypeAnim.getComponent(sp.Skeleton).setAnimation(0,"start",!1),this.GameView.mDeskGameTypeAnim.getComponent(sp.Skeleton).setCompleteListener(function(){i.GameView.mDeskGameTypeAnim.active=!1})},t.prototype.S2C_NNPlayCars=function(e){this.GameView.FlopCards(e)},t.prototype.S2C_NNEnd=function(e){this.GameView.onResult(e.endInfo)},t.prototype.S2C_PlayerExitRoom=function(e){if(e.playerId==u.DataManager.playerInfo.accountId)u.DataManager.gameLinkType=!1,c.UIManager.open("prefabs/club/ClubHall",!0);else for(var t=l.NNDefine.PLAYER_DATAS.length-1;t>=0;t--)if(l.NNDefine.PLAYER_DATAS[t].playerId==e.playerId){var n=h.default.getLocationID(l.NNDefine.PLAYER_DATAS[t].position);this.GameView.NNPlayer[n].initUser(n),l.NNDefine.PLAYER_DATAS.splice(t,1)}},t.prototype.S2C_UpdatePlayerInfo=function(e){var t=this;e.infos.forEach(function(e,n){var i=h.default.getLocationID(e.position);e.endTime,null!=e.score&&t.GameView.NNPlayer[i].setScore(e.score),402==e.state?t.GameView.NNPlayer[i].setReadyIcon(!0):t.GameView.NNPlayer[i].setReadyIcon(!1)})},t.prototype.S2C2S_Magic=function(e){e.p5==l.NNDefine.Chat_Tag||e.p5==l.NNDefine.Expression_Tag&&this.GameView.playExpression(e.p1,e.p2,e.p3)},t.prototype.onDestroy=function(){o.EventManager.off(this)},r([g(a.default)],t.prototype,"GameView",void 0),r([g(sp.Skeleton)],t.prototype,"shengli",void 0),t=r([p],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/EventManager":"EventManager","../../manager/UIManager":"UIManager","./NNDefine":"NNDefine","./NNGameView":"NNGameView","./NNTool":"NNTool","./protocol/NNCmd":"NNCmd"}],NNGameView:[function(e,t,n){"use strict";cc._RF.push(t,"09ac3dhy2lNVpTUcWK/QvKy","NNGameView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/utils/Utils"),o=e("../../manager/DataManager"),s=e("../../manager/EventManager"),c=e("../../manager/NetManager"),l=e("../../manager/UIManager"),u=e("./ui/NNPlayer"),h=e("./NNTool"),f=e("./NNDefine"),d=e("../../manager/EventClubDef"),p=e("../../Define"),g=e("../../net/NetCmd"),m=e("../../manager/DataManagerClub"),y=e("../../view/base/BaseView"),b=e("../../manager/AudioManager"),v=e("./ui/NNTopPanel"),_=e("./ui/NNHandArea"),C=e("./NNData"),M=cc._decorator,S=M.ccclass,w=M.property,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topPanel=null,t.NNPlayer=[],t.NNHandArea=[],t.NetworkType=[],t.powers=null,t.powers1=null,t.Timedata=null,t.mNetworkzt=null,t.mbj=[],t.ready=null,t.kais=null,t.mDeskGameTypeAnim=null,t.ShangZhuang=null,t.coinsPrentprefab=null,t.xiazhufenshu=null,t.mSlider=null,t.monslider=null,t.mguodi=null,t.mdijiju=null,t.clock_num=null,t.CloseSet=null,t.skin=null,t.GameScene=null,t.step=1,t.range=[0,100],t.xianzhi=0,t.fenNum=0,t.MAXfenshu=0,t.cards=[],t.isStartGame=!1,t.time_num=0,t}return i(t,e),t.prototype.start=function(){this.topPanel.initzation(this),console.log("\u725b\u725b\u91cd\u8fde\u4e0a\u67652====",this.GameScene)},t.prototype.washCards=function(){this.cards=[1,2,3,4,5,6,7,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,27,28,29,33,34,35,36,37,38,39,40,41,42,43,44,45,49,50,51,52,53,54,55,56,57,58,59,60,61];for(var e=0;e<this.cards.length;++e){var t=this.cards[e];this.cards[e]=this.cards[e],this.cards[e]=t}console.log("\u6d17\u724c\u540e\u7684\u724c\uff1a",this.cards)},t.prototype.onLoad=function(){s.EventManager.on(this,g.ProtocolRpcCmd.S2C_Ping,this.timedata.bind(this)),s.EventManager.on(this,p.EventDef.GameShow,this.onGameShow.bind(this)),s.EventManager.on(this,p.EventDef.GameHide,this.onGameHide.bind(this)),s.EventManager.on(this,d.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this));cc.winSize;var e=o.DataManager.storage.get("SetNnbackground"),t=e-1;null!=e?this.mbj[t].active=!0:this.mbj[0].active=!0;var n=o.DataManager.storage.get("Music_switch"),i=o.DataManager.storage.get("Music_YinXiaoQuan");0==n?b.AudioManager.setBGMVolume(0):b.AudioManager.setBGMVolume(.3),0==i&&b.AudioManager.setSFXVolume(0),b.AudioManager.playBGM("nn_sound/bg.mp3");var r=cc.sys.getNetworkType(),a=10*cc.sys.getBatteryLevel()/2;0==a?(this.powers.active=!1,this.powers1.active=!0):(this.powers.active=!0,this.powers1.active=!1,this.powers.children.forEach(function(e,t){e.opacity=t<a?255:0}));2==r?this.NetworkType[r-1].active=!0:this.NetworkType[0].active=!0,l.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...")},t.prototype.onGameShow=function(){console.log("\u8fdb\u5165\u524d\u53f0"),c.NetManager.protocolNN.sendC2S_GetRoomInfo()},t.prototype.onGameHide=function(){console.log("\u8fdb\u5165\u540e\u53f0")},t.prototype.callback=function(e){this.xiazhufenshu.string=""+Math.round(100*e.progress);for(var t=Math.round(100*e.progress),n=Math.floor(this.range[1]/this.step),i=0;i<n;i++){var r=i*this.step,a=(i+1)*this.step;if(t>r&&t<=a){e.progress=a/100,this.fenNum=100*e.progress;var o=this.xianzhi/100,s=.2*Number(this.mguodi.getChildByName("radix").getComponent(cc.Label).string)/100;e.progress<=o?(e.progress=o,this.fenNum=100*e.progress):e.progress>=s&&(e.progress=s,this.fenNum=100*e.progress);break}e.progress=this.xianzhi/100}this.xiazhufenshu.string=""+Math.round(this.fenNum),console.log(this.fenNum)},t.prototype.timedata=function(){var e=a.default.getFormatDate(cc.sys.now(),"hh:mm:ss");this.Timedata.getComponent(cc.Label).string=e},t.prototype.resetGameView=function(){var e=this;console.log("resetGameView\u91cd\u7f6e\u6e38\u620f\u754c\u9762"),f.NNDefine.PLAYER_DATAS.forEach(function(t){var n=h.default.getLocationID(t.position);console.log("index",n),e.NNPlayer[n].clearCard(n),e.NNPlayer[n].showShouha(!1)}),C.NNData.FlopCard=[],this.ready.getChildByName("leave").active=!1,this.kais.active=!1},t.prototype.ClubErrorCode=function(e){var t=this;9==e.errorCode&&(f.NNDefine.PLAYER_DATAS.forEach(function(n){n.position==e.args[0].position&&(n.online=e.args[0].online);var i=h.default.getLocationID(n.position);t.NNPlayer[i].setOnlineState(n.online)}),console.log("\u7528\u6237\u72b6\u6001:",f.NNDefine.PLAYER_DATAS))},t.prototype.onGameStart=function(e,t){var n=this;void 0===t&&(t=!1),console.log("\u901a\u77e5\u6e38\u620f\u5f00\u59cb",e),this.xianzhi=f.NNDefine.GAME_DATAS.param[3],e&&(t?e.shoupai>0&&(this.mguodi.active=!0,this.ready.active=!1):(this.mguodi.active=!0,this.ready.active=!1),f.NNDefine.JUSHU&&(this.mdijiju.string="\u7b2c"+f.NNDefine.JUSHU+"\u5c40"),e.param&&(this.mguodi.getChildByName("radix").getComponent(cc.Label).string=m.DataManagerClub.divide100Double(e.param.radix).toString()),C.NNData.preparation&&(this.ready.getChildByName("ready").active=!1,c.NetManager.protocolNN.sendC2S_Ready()),console.log("\u7528\u6237\u6570\u636e:",f.NNDefine.PLAYER_DATAS),f.NNDefine.PLAYER_DATAS.forEach(function(t){var i=h.default.getLocationID(t.position);if(n.setClockTime(t.endTime),console.log("\u4f4d\u7f6e\u8ba1\u7b97:",i),n.NNPlayer[i].showLand(t.position==e.zhuangPostion),t.xiazhu>0&&n.NNPlayer[i].tuizhu(t.xiazhu,0,!0),6==f.NNDefine.GAME_PLAYER)for(var r=0;r<f.NNDefine.GAME_PLAYER+1;r++)1!=r&&(n.NNPlayer[r].node.active=!0);else for(r=0;r<f.NNDefine.GAME_PLAYER;r++)n.NNPlayer[r].node.active=!0;n.NNPlayer[i].setUserInfo(t),e.cards&&(0==i?n.NNPlayer[0].setCard(e.cards,i):n.NNPlayer[i].setOtherCard(),n.NNPlayer[i].setReadyIcon(!1)),t&&(n.isStartGame=!0),t.playerId==o.DataManager.playerInfo.accountId&&(403==t.state?n.ShangZhuang.active=!0:404==t.state&&(n.kais.active=!1,n.monslider.active=!0,n.mSlider.progress=n.xianzhi/100,n.callback(n.mSlider),b.AudioManager.playSFX("nn_sound/yinxiao/start_bet.mp3")),t.state<=402&&!C.NNData.preparation?n.ready.getChildByName("ready").active=!0:n.ready.getChildByName("ready").active=!1)}),C.NNData.preparation=!1)},t.prototype.setClockTime=function(e){if(e>1e3){var t=(new Date).getTime();this.time_num=Math.ceil((1e3*e-t)/1e3)}else this.time_num=e;console.log("\u8bbe\u7f6e\u7684\u5012\u8ba1\u65f6\u65f6\u95f4:"+this.time_num),this.onUpdateTimer(),this.unschedule(this.onUpdateTimer),this.schedule(this.onUpdateTimer,1)},t.prototype.onUpdateTimer=function(){if(this.time_num<0)return this.unschedule(this.onUpdateTimer),void(this.clock_num.node.active=!1);this.clock_num.string=this.time_num+"",this.time_num--},t.prototype.onReady=function(){this.ready.active=!1,b.AudioManager.playSFX("nn_sound/yinxiao/rob_zhuang.mp3"),c.NetManager.protocolNN.sendC2S_Ready(),this.resetGameView()},t.prototype.SetBanker=function(e){console.log("\u8bbe\u7f6e\u5e84\u5bb6",e);var t=h.default.getLocationID(e.Shangzhuang.position);this.NNPlayer[t].showLand(e.Shangzhuang.Shangzhuang)},t.prototype.onShangZhuang=function(){console.log("\u4e0a\u5e84"),this.ShangZhuang.active=!1,c.NetManager.protocolNN.sendC2S_Shangzhuang(!0),this.onGameStart(this.data),b.AudioManager.playSFX("nn_sound/yinxiao/shangzhuang.mp3")},t.prototype.onxiazhu=function(){console.log("onGameStart\u4e0b\u6ce8");var e=!1,t=Number(this.xiazhufenshu.string);e=t==.2*Number(this.mguodi.getChildByName("radix").getComponent(cc.Label).string),c.NetManager.protocolNN.sendC2S_xiazhu(t,e),this.monslider.active=!1},t.prototype.SetXiazhu=function(e){var t=h.default.getLocationID(e.xiazhu.position),n=e.xiazhu.score;this.NNPlayer[t].tuizhu(n,0),e.xiazhu.iswhole&&(b.AudioManager.playSFX("nn_sound/yinxiao/shemen.mp3"),this.NNPlayer[t].showShouha(!0)),e.complete&&(this.monslider.active=!1,this.kais.active=!0)},t.prototype.onshuoha=function(){var e=Number(this.mguodi.getChildByName("radix").getComponent(cc.Label).string);console.log("\u68ad\u54c8",e);var t=.2*e;console.log("\u68ad\u54c8",t),c.NetManager.protocolNN.sendC2S_xiazhu(t,!0),this.monslider.active=!1},t.prototype.onBuShangZhuang=function(){console.log("\u4e0d\u4e0a\u5e84"),this.ShangZhuang.active=!1,c.NetManager.protocolNN.sendC2S_Shangzhuang(!1),b.AudioManager.playSFX("nn_sound/yinxiao/buqiangzhuang.mp3")},t.prototype.onkaiPai=function(){this.kais.active=!1,c.NetManager.protocolNN.sendC2S_NNPlayCars()},t.prototype.FlopCards=function(e){console.log("\u7ffb\u724c",e);var t=h.default.getLocationID(e.playCard.position);C.NNData.FlopCard[t]||(this.NNPlayer[t].setCard(e.playCard.cards,t),0!=t?(this.NNPlayer[t].opendLastCardOther(),C.NNData.FlopCard[t]=!0):(this.NNPlayer[t].kaipai(),this.kais.active=!1,C.NNData.FlopCard[t]=!0),this.NNPlayer[t].showNiuMun(e.playCard,0,t))},t.prototype.onResult=function(e){var t=this;console.log("\u7ed3\u679c",e),this.mguodi.active=!0,this.kais.active=!1;var n=[],i=[],r=Number(this.mguodi.getChildByName("radix").getComponent(cc.Label).string),a=0,o=0;e.forEach(function(e){var r=h.default.getLocationID(e.position);t.NNPlayer[r].setScore(e.score),e.winScore<0?(n.push(e),a+=Math.abs(e.winScore)):(i.push(e),o+=e.winScore),0==r&&(e.winScore<0?b.AudioManager.playSFX("nn_sound/yinxiao/lose.mp3"):b.AudioManager.playSFX("nn_sound/yinxiao/win.mp3"))});var s=r+a;this.mguodi.getChildByName("radix").getComponent(cc.Label).string=s.toString(),console.log("\u9505\u5e95:",this.mguodi.getChildByName("radix").getComponent(cc.Label).string),console.log("\u8f93",a),console.log("\u8d62",o),console.log("\u8f93",n),console.log("\u8d62",i),n.length>0&&n.forEach(function(e){var n=h.default.getLocationID(e.position);t.NNPlayer[n].playAnim(e.winScore,2),t.NNPlayer[n].setCoreAni(e.winScore)}),i.length>0&&this.scheduleOnce(function(){var e=this;i.forEach(function(t){var n=h.default.getLocationID(t.position);console.log("\u8d62\u7684",t.winScore),e.NNPlayer[n].playAnim(t.winScore,1),e.NNPlayer[n].setCoreAni(t.winScore)});var t=Number(this.mguodi.getChildByName("radix").getComponent(cc.Label).string);this.mguodi.getChildByName("radix").getComponent(cc.Label).string=(t-o).toString()},2),this.scheduleOnce(function(){this.ready.active=!0,this.ready.getChildByName("ready").active=!0,this.ready.getChildByName("leave").active=!0},4)},t.prototype.onLeave=function(){c.NetManager.protocolNN.sendC2S_ExitRoom()},t.prototype.onSetbackground=function(e){var t=e.target.name;"toggle1"==t?(this.mbj[1].active=!1,this.mbj[2].active=!1,this.mbj[0].active=!0,o.DataManager.storage.set("SetNnbackground",1)):"toggle2"==t?(this.mbj[1].active=!0,this.mbj[2].active=!1,this.mbj[0].active=!1,o.DataManager.storage.set("SetNnbackground",2)):(this.mbj[1].active=!1,this.mbj[2].active=!0,this.mbj[0].active=!1,o.DataManager.storage.set("SetNnbackground",3))},t.prototype.onClickMusic=function(e){e.isChecked?(o.DataManager.storage.set("Music_switch",!0),b.AudioManager.setBGMVolume(.3)):(b.AudioManager.setBGMVolume(0),o.DataManager.storage.set("Music_switch",!1))},t.prototype.onClickEffect=function(e){e.isChecked?(b.AudioManager.setSFXVolume(1),o.DataManager.storage.set("Music_YinXiaoQuan",!0)):(b.AudioManager.setSFXVolume(0),o.DataManager.storage.set("Music_YinXiaoQuan",!1))},t.prototype.playExpression=function(e,t,n){var i=f.SKE_ANIM[n],r=this,a=f.SKE_Mp3[n];cc.loader.loadRes("game/kwx/skeleton/"+i,sp.SkeletonData,function(n,i){var o=r.NNPlayer[h.default.getLocationID(e)].icon.position,s=r.NNPlayer[h.default.getLocationID(t)].icon.position;console.log("============="),console.log(o),console.log(s);var c=new cc.Node;c.position=o;var l=c.addComponent(sp.Skeleton);l.skeletonData=i,l.premultipliedAlpha=!1,r.node.addChild(c);var u=[];for(var f in l.skeletonData.skeletonJson.animations)console.log(f),u.push(f);var d=u[0];c.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(.5,s),cc.callFunc(function(){b.AudioManager.playSFX(a+".mp3"),l.setAnimation(0,d,!1)}))),l.setCompleteListener(function(){c.destroy()})})},t.prototype.ontouxfeiguodi=function(){for(var e=[{playerID:1,position:0,endtime:3,score:4},{playerID:1,position:1,endtime:3,score:4},{playerID:1,position:2,endtime:3,score:4},{playerID:1,position:3,endtime:3,score:4},{playerID:1,position:4,endtime:3,score:4},{playerID:1,position:5,endtime:3,score:4}],t=0;t<e.length;t++){var n=h.default.getLocationID(e[t].position);this.NNPlayer[n].tuizhu(e[t].score,2)}},t.prototype.onguodifeitoux=function(){for(var e=[{playerID:1,position:0,endtime:3,score:4},{playerID:1,position:1,endtime:3,score:4},{playerID:1,position:2,endtime:3,score:4},{playerID:1,position:3,endtime:3,score:4},{playerID:1,position:4,endtime:3,score:4},{playerID:1,position:5,endtime:3,score:4}],t=0;t<e.length;t++){var n=h.default.getLocationID(e[t].position);this.NNPlayer[n].tuizhu(e[t].score,1)}},t.prototype.ontouxfeijinbi=function(){for(var e=[{playerID:1,position:0,endtime:3,score:4},{playerID:1,position:1,endtime:3,score:4},{playerID:1,position:2,endtime:3,score:4},{playerID:1,position:3,endtime:3,score:4},{playerID:1,position:4,endtime:3,score:4},{playerID:1,position:5,endtime:3,score:4}],t=0;t<e.length;t++){var n=h.default.getLocationID(e[t].position);this.NNPlayer[n].tuizhu(e[t].score,0)}},t.prototype.onjinbifeitoux=function(){for(var e=[{playerID:1,position:0,endtime:3,score:4},{playerID:1,position:1,endtime:3,score:4},{playerID:1,position:2,endtime:3,score:4},{playerID:1,position:3,endtime:3,score:4},{playerID:1,position:4,endtime:3,score:4},{playerID:1,position:5,endtime:3,score:4}],t=0;t<e.length;t++){var n=h.default.getLocationID(e[t].position);this.NNPlayer[n].tuizhu(e[t].score,3)}},t.prototype.onDestroy=function(){f.NNDefine.GAME_OVER=!1,s.EventManager.off(this)},r([w(v.default)],t.prototype,"topPanel",void 0),r([w(u.default)],t.prototype,"NNPlayer",void 0),r([w(_.default)],t.prototype,"NNHandArea",void 0),r([w(cc.Node)],t.prototype,"NetworkType",void 0),r([w(cc.Node)],t.prototype,"powers",void 0),r([w(cc.Node)],t.prototype,"powers1",void 0),r([w(cc.Label)],t.prototype,"Timedata",void 0),r([w(cc.Node)],t.prototype,"mNetworkzt",void 0),r([w(cc.Node)],t.prototype,"mbj",void 0),r([w(cc.Node)],t.prototype,"ready",void 0),r([w(cc.Node)],t.prototype,"kais",void 0),r([w(cc.Node)],t.prototype,"mDeskGameTypeAnim",void 0),r([w(cc.Node)],t.prototype,"ShangZhuang",void 0),r([w(cc.Prefab)],t.prototype,"coinsPrentprefab",void 0),r([w(cc.Label)],t.prototype,"xiazhufenshu",void 0),r([w(cc.Slider)],t.prototype,"mSlider",void 0),r([w(cc.Node)],t.prototype,"monslider",void 0),r([w(cc.Node)],t.prototype,"mguodi",void 0),r([w(cc.Label)],t.prototype,"mdijiju",void 0),r([w(cc.Label)],t.prototype,"clock_num",void 0),r([w(cc.Node)],t.prototype,"CloseSet",void 0),r([w(cc.Node)],t.prototype,"skin",void 0),t=r([S],t)}(y.default);n.default=D,cc._RF.pop()},{"../../Define":"Define","../../common/utils/Utils":"Utils","../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/DataManagerClub":"DataManagerClub","../../manager/EventClubDef":"EventClubDef","../../manager/EventManager":"EventManager","../../manager/NetManager":"NetManager","../../manager/UIManager":"UIManager","../../net/NetCmd":"NetCmd","../../view/base/BaseView":"BaseView","./NNData":"NNData","./NNDefine":"NNDefine","./NNTool":"NNTool","./ui/NNHandArea":"NNHandArea","./ui/NNPlayer":"NNPlayer","./ui/NNTopPanel":"NNTopPanel"}],NNHandArea:[function(e,t,n){"use strict";cc._RF.push(t,"4d7e5EjTXZJRq+NIDQ7JKS5","NNHandArea");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../view/base/BaseView"),o=cc._decorator,s=o.ccclass,c=o.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flower_area=null,t.hua_card=null,t.ArrowTing=null,t}return i(t,e),t.prototype.start=function(){},r([c(cc.Node)],t.prototype,"flower_area",void 0),r([c(cc.Prefab)],t.prototype,"hua_card",void 0),r([c(cc.Prefab)],t.prototype,"ArrowTing",void 0),t=r([s],t)}(a.default);n.default=l,cc._RF.pop()},{"../../../view/base/BaseView":"BaseView"}],NNPlayerinfo:[function(e,t,n){"use strict";cc._RF.push(t,"5b4c3vd48tPs5l1zhBbZM6t","NNPlayerinfo");var i=h(e("../../../view/base/BaseView")),r=h(e("../../../common/UIHelper")),a=e("../../../manager/DataManagerClub"),o=e("../../../manager/DataManager"),s=e("../../../manager/NetManager"),c=e("../NNDefine"),l=e("../../../manager/UIManager"),u=h(e("../NNGameView"));function h(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mName:cc.Label,mId:cc.Label,mScore:cc.Label,spr_head:cc.Sprite,mScrollView:cc.ScrollView,emo:cc.Node,gray:cc.Material,gray1:cc.Material},start:function(){this.mName.string="\u6635\u79f0:"+this.data.name,this.mId.string=this.data.playerId,this.mScore.string="\u79ef\u5206:"+a.DataManagerClub.divide100Double(this.data.score),this.setUserHead(this.data.icon),this.setNormal()},setUserHead:function(e){r.default.loadHead(e,this.spr_head.node)},setGray:function(){for(var e=this.emo.children,t=0;t<e.length;t++){e[t].getComponent(cc.Sprite).setMaterial(0,this.gray)}},setNormal:function(){if(u.default.Gray||this.data.playerId==o.DataManager.playerInfo.accountId)this.setGray();else{for(var e=this.emo.children,t=0;t<e.length;t++){e[t].getComponent(cc.Sprite).setMaterial(0,this.gray1)}for(var n=this.mScrollView.content.children,i=0;i<n.length;i++)n[i].index=i,n[i].on(cc.Node.EventType.TOUCH_END,this.onClickExpression,this)}},yanshi:function(){u.default.Gray=!0,setTimeout(function(){u.default.Gray=!1},8e3)},onClickExpression:function(e){this.data.playerId!=o.DataManager.playerInfo.accountId?(s.NetManager.protocolNN.sendC2S_Magic(c.NNDefine.SEAT_ID,this.data.position,e.target.index,-1,c.NNDefine.Expression_Tag),this.yanshi(),this.close()):l.UIManager.showTips("\u4e0d\u80fd\u5bf9\u81ea\u5df1\u4f7f\u7528")}}),cc._RF.pop()},{"../../../common/UIHelper":"UIHelper","../../../manager/DataManager":"DataManager","../../../manager/DataManagerClub":"DataManagerClub","../../../manager/NetManager":"NetManager","../../../manager/UIManager":"UIManager","../../../view/base/BaseView":"BaseView","../NNDefine":"NNDefine","../NNGameView":"NNGameView"}],NNPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"3c9f8r4JcxEtZBr3XdL6xhC","NNPlayer");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/UIHelper"),c=e("../../../common/utils/Utils"),l=e("../../../manager/ResManager"),u=e("../../../manager/AudioManager"),h=e("../../../manager/UIManager"),f=e("../../../manager/DataManagerClub"),d=cc._decorator,p=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.label_name=null,t.score=null,t.status=[],t.headbg=null,t.sprAtlas=null,t.cardBox=[],t.fntLostScore=null,t.fntWinScore=null,t.scoreAnimation=null,t.coinPrefab=null,t.startPoint=null,t.endPoint=null,t.cardNode=null,t.interVal=null,t.playerData=null,t.weizhi=[cc.v2(0,0),cc.v2(0,0)],t.coinPool=null,t.mstartPos=null,t.mstartPox=null,t}return i(t,e),t.prototype.onLoad=function(){this.coinPool=new cc.NodePool},t.prototype.initUser=function(e){var t="";this.cardBox[0].active=!1,this.status[0].active=!1,this.status[1].active=!1,this.status[2].active=!1,this.status[3].active=!1,this.status[4].active=!1,1==e?t="\u9999\u6e2f":2==e?t="\u4e0a\u6d77":3==e?t="\u5e7f\u5dde":4==e?t="\u5317\u4eac":5==e?t="\u6df1\u5733":6==e?t="\u6d77\u5357":7==e&&(t="\u53f0\u6e7e"),this.label_name.string=t,this.score.string="",this.scoreAnimation.node.active=!1,console.log("\u521d\u59cb\u5316\u7528\u6237"),this.setSpirteValue()},t.prototype.setSpirteValue=function(){return a(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,l.ResManager.loadResAsync("game/nn/view/0.png",cc.SpriteFrame)];case 1:return e=t.sent(),this.icon.getComponent(cc.Sprite).spriteFrame=e,[2]}})})},t.prototype.setUserInfo=function(e){console.log("\u8bbe\u7f6e\u7528\u6237\u4fe1\u606f",e);var t=e;this.playerData=e;var n=c.default.getSubStringLengTxt(e.name);this.label_name.string=n,this.setUserHead(e.icon),this.setScore(t.score),this.node.active=!0,202==e.state&&(this.status[4].active=!0),this.setOnlineState(e.online),this.setCard(e.handCards),this.icon.on(cc.Node.EventType.TOUCH_END,this.onPersonaldData,this)},t.prototype.onPersonaldData=function(e){h.UIManager.popup("game/nn/prefabs/NNPlayerInfo",this.playerData)},t.prototype.setUserHead=function(e){s.default.loadHead(e,this.icon)},t.prototype.setOnlineState=function(e){console.log("\u7528\u6237\u5728\u7ebf\u72b6\u6001",e),this.status[2].active=e},t.prototype.tuizhu=function(e,t,n){void 0===n&&(n=!1),console.log("\u63a8\u6ce8",e),this.status[1].active=!0,this.status[1].getChildByName("betScore").getComponent(cc.Label).string=e,n||this.playAnim(e,t)},t.prototype.setCoreAni=function(e){console.log("\u8bbe\u7f6e\u5206\u6570\u8f93\u8d62",e),e>0?(this.scoreAnimation.string="+"+e,this.scoreAnimation.font=this.fntWinScore,this.scoreAnimation.spacingX=-10):(this.scoreAnimation.string=e,this.scoreAnimation.font=this.fntLostScore,this.scoreAnimation.spacingX=-12),this.scoreAnimation.node.active=!0},t.prototype.setCard=function(e,t){if(e){0==t&&this.cardBox[0].removeAllChildren();for(var n=0;n<e.length;n++){if(0==t){var i=cc.instantiate(this.cardNode);this.cardBox[0].addChild(i)}this.setSelfCard(this.cardBox[0],e[n],n,!0)}}},t.prototype.setOtherCard=function(){this.cardBox[0].active=!0},t.prototype.setFree=function(e){this.score.string=c.default.getFormatGold(e)},t.prototype.shouCardNum=function(e,t){},t.prototype.setState=function(e,t){},t.prototype.showNiuMun=function(e,t,n){console.log("\u663e\u793a\u725b\u548c\u724c",e);var i=e.nn;0!=n&&this.opendLastCardOther(),this.status[3].getChildByName("score").getComponent(cc.Sprite).spriteFrame=this.sprAtlas.getSpriteFrame("DN_n"+i),this.status[3].active=!0,this.status[3].getComponent(cc.Animation).play("showNiu"),u.AudioManager.playSFX("nn_sound/ox_"+i)},t.prototype.setScore=function(e){var t=c.default.getFormatGold(f.DataManagerClub.divide100Double(e).toString());this.score.string=t},t.prototype.setCardY=function(){for(var e=this.cardBox[0].getComponentsInChildren("NiuCard"),t=0;t<e.length;t++)e[t].initY()},t.prototype.setSelfCard=function(e,t,n,i){e.getComponentsInChildren("NiuCard")[n].setValue(t,n,i),e.active=!0},t.prototype.showLand=function(e){this.status[0].active=e},t.prototype.showShouha=function(e){this.status[5].active=e},t.prototype.setReadyIcon=function(e){this.status[4].active=e},t.prototype.kaipai=function(){for(var e=this.cardBox[0].getComponentsInChildren("NiuCard"),t=0;t<e.length;t++)e[t].getComponent(cc.Animation).play()},t.prototype.opendLastCard=function(){this.cardBox[0].getComponentsInChildren("NiuCard")[4].getComponent(cc.Animation).play()},t.prototype.opendLastCardOther=function(){for(var e=this.cardBox[0].getComponentsInChildren("NiuCard"),t=0;t<e.length;t++)e[t].setBeiAcitve(!1)},t.prototype.headFlyGold=function(e){0==e?(this.weizhi[0]=this.headbg.getPosition(),this.weizhi[1]=this.endPoint.getPosition()):1==e?(this.weizhi[0]=this.startPoint.getPosition(),this.weizhi[1]=this.headbg.getPosition()):2==e?(this.weizhi[0]=this.headbg.getPosition(),this.weizhi[1]=this.startPoint.getPosition()):3==e&&(this.weizhi[0]=this.endPoint.getPosition(),this.weizhi[1]=this.headbg.getPosition())},t.prototype.clearCard=function(e){for(var t=this.cardBox[0].getComponentsInChildren("NiuCard"),n=0;n<t.length;n++)t[n].setValue(0,0,!0);0==e&&this.cardBox[0].removeAllChildren(),this.status[3].active=!1},t.prototype.playAnim=function(e,t){u.AudioManager.playSFX("nn_sound/flygold.mp3");var n=0;n=e>0&&e<20?e:20,this.headFlyGold(t);var i=n;this.playCoinFlyAnim(i,this.weizhi[0],this.weizhi[1])},t.prototype.initCoinPool=function(e){void 0===e&&(e=20);for(var t=0;t<e;t++){var n=cc.instantiate(this.coinPrefab);this.coinPool.put(n)}},t.prototype.playCoinFlyAnim=function(e,t,n,i){var r=this;void 0===i&&(i=0);var a=this.coinPool.size(),o=a>e?0:e-a?e-a:0;this.initCoinPool(o);var s=this.getCirclePoints(i,t,e).map(function(e){var i=r.coinPool.get();return i.setPosition(t),r.node.addChild(i),{node:i,stPos:t,mdPos:e,edPos:n,dis:e.sub(n).mag()}});(s=s.sort(function(e,t){return e.dis-t.dis>0?1:e.dis-t.dis<0?-1:0})).forEach(function(e,t){e.node.runAction(cc.sequence(cc.moveTo(0,e.mdPos),cc.delayTime(.05*t),cc.moveTo(1,e.edPos),cc.callFunc(function(){r.coinPool.put(e.node)})))})},t.prototype.getCirclePoints=function(e,t,n,i){void 0===i&&(i=0);for(var r=[],a=Math.PI/180*Math.round(360/n),o=0;o<n;o++){var s=t.x+e*Math.sin(a*o),c=t.y+e*Math.cos(a*o);r.unshift(cc.v3(s+Math.random()*i,c+Math.random()*i,0))}return r},r([g(cc.Node)],t.prototype,"icon",void 0),r([g(cc.Label)],t.prototype,"label_name",void 0),r([g(cc.Label)],t.prototype,"score",void 0),r([g(cc.Node)],t.prototype,"status",void 0),r([g({type:cc.Node,tooltip:"\u5934\u50cf\u8282\u70b9\u6216\u98de\u91d1\u5e01\u5750\u6807"})],t.prototype,"headbg",void 0),r([g({type:cc.SpriteAtlas,tooltip:"\u725b\u725b\u52a8\u753b\u56fe\u96c6"})],t.prototype,"sprAtlas",void 0),r([g(cc.Node)],t.prototype,"cardBox",void 0),r([g({type:cc.Font,tooltip:"\u8f93\u5b57\u4f53"})],t.prototype,"fntLostScore",void 0),r([g({type:cc.Font,tooltip:"\u8d62\u5b57\u4f53"})],t.prototype,"fntWinScore",void 0),r([g({type:cc.Label,tooltip:"\u52a0\u51cf\u91d1\u5e01\u52a8\u753b"})],t.prototype,"scoreAnimation",void 0),r([g({type:cc.Prefab,tooltip:"\u91d1\u5e01\u9884\u5236\u4f53"})],t.prototype,"coinPrefab",void 0),r([g({type:cc.Node,tooltip:"\u9505\u5e95\u5750\u6807"})],t.prototype,"startPoint",void 0),r([g({type:cc.Node,tooltip:"\u91d1\u5e01\u5750\u6807"})],t.prototype,"endPoint",void 0),r([g({type:cc.Prefab,tooltip:"\u724c\u8282\u70b9"})],t.prototype,"cardNode",void 0),t=r([p],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../common/UIHelper":"UIHelper","../../../common/utils/Utils":"Utils","../../../manager/AudioManager":"AudioManager","../../../manager/DataManagerClub":"DataManagerClub","../../../manager/ResManager":"ResManager","../../../manager/UIManager":"UIManager"}],NNTool:[function(e,t,n){"use strict";cc._RF.push(t,"da3ccBCpClMeKx65OT+hjSa","NNTool"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../nn/NNDefine"),r=function(){function e(){}return e.prototype.getLocationID=function(e){var t=i.NNDefine.SEAT_ID,n=e,r=i.NNDefine.GAME_PLAYER;if(6==i.NNDefine.GAME_PLAYER){var a=(n-t+r)%r;return 1==a?2:0==a?0:(n-t+r)%r+1}return(n-t+r)%r},e.instance=new e,e}();n.default=r.instance,cc._RF.pop()},{"../nn/NNDefine":"NNDefine"}],NNTopPanel:[function(e,t,n){"use strict";cc._RF.push(t,"318efETk+FPUKbTugxGn0KO","NNTopPanel");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/utils/Utils"),c=e("../../../manager/UIManager"),l=e("../../../manager/NetManager"),u=e("../../../manager/DataManager"),h=e("../../../manager/ResManager"),f=e("../../../manager/AudioManager"),d=cc._decorator,p=d.ccclass,g=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_menu=null,t.menuPanel=null,t.btn_back=null,t.btn_color=null,t.btn_set=null,t.btn_cancel=null,t.btn_shezhi=null,t.btn_huanfu=null,t.mSetting=null,t.mFangyan=null,t.mPuTongHua=null,t.mXiangYang=null,t.mshiyan=null,t.mxiaogan=null,t.mm_huanfu=[],t.mmj_huanfu=[],t._gameView=null,t._isShow=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=u.DataManager.storage.get("Music_switch"),t=u.DataManager.storage.get("Music_YinXiaoQuan"),n=this.mSetting.getChildByName("yinyueNode").getChildByName("Toggle");null==e?(n.getComponent(cc.Toggle).isChecked=!0,f.AudioManager.setBGMVolume(.3)):(e&&f.AudioManager.setBGMVolume(.3),n.getComponent(cc.Toggle).isChecked=e);var i=this.mSetting.getChildByName("yinxiaoNode").getChildByName("Toggle");i.getComponent(cc.Toggle).isChecked=null==t||t},t.prototype.isShow=function(e){this._isShow=e},t.prototype.initzation=function(e){this._gameView=e,this.addEvenListener()},t.prototype.addEvenListener=function(){s.default.addClickEventEND(this.btn_menu,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_back,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_color,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_set,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_cancel,this.onTouchHide.bind(this))},t.prototype.onTouchHide=function(e){this.menuPanel.active=!1},t.prototype.onEvenClickButton=function(e){var t=e.name;if(console.log("touch",t),!this._isShow)if("btn_back"==t)c.UIManager.showKWXTipsPopup("\u786e\u5b9a\u9000\u51fa\u623f\u95f4\u5417\uff1f",function(){l.NetManager.protocolNN.sendC2S_ExitRoom()},0);else if("btn_menu"==t)this.menuPanel.active=!this.menuPanel.active,this.menuPanel.active&&this.setBtnImg();else if("btn_color"==t){this.btn_huanfu.active=!0;var n=u.DataManager.storage.get("Setbackground");2==n?this.mm_huanfu[1].getComponent(cc.Toggle).isChecked=!0:3==n?this.mm_huanfu[2].getComponent(cc.Toggle).isChecked=!0:this.mm_huanfu[0].getComponent(cc.Toggle).isChecked=!0;var i=u.DataManager.storage.get("brand");1==i?this.mmj_huanfu[1].getComponent(cc.Toggle).isChecked=!0:2==i?this.mmj_huanfu[2].getComponent(cc.Toggle).isChecked=!0:this.mmj_huanfu[0].getComponent(cc.Toggle).isChecked=!0}else if("btn_set"==t){this.btn_shezhi.active=!0;var r=u.DataManager.storage.get("FangYan");console.log("\u65b9\u8a00",r),1==r||null==r?this.mXiangYang.getComponent(cc.Toggle).isChecked=!0:2==r?this.mPuTongHua.getComponent(cc.Toggle).isChecked=!0:3==r?this.mshiyan.getComponent(cc.Toggle).isChecked=!0:4==r&&(this.mxiaogan.getComponent(cc.Toggle).isChecked=!0)}},t.prototype.onClickMusic=function(e){e.isChecked?(u.DataManager.storage.set("Music_switch",!0),f.AudioManager.setBGMVolume(.3)):(f.AudioManager.setBGMVolume(0),u.DataManager.storage.set("Music_switch",!1))},t.prototype.onClickFangYan=function(e){var t=e.target.name;"toggle1"==t?u.DataManager.storage.set("FangYan",1):"toggle2"==t?u.DataManager.storage.set("FangYan",2):"toggle3"==t?u.DataManager.storage.set("FangYan",3):"toggle4"==t&&u.DataManager.storage.set("FangYan",4)},t.prototype.onClickEffect=function(e){e.isChecked?(f.AudioManager.setSFXVolume(1),u.DataManager.storage.set("Music_YinXiaoQuan",!0)):(f.AudioManager.setSFXVolume(0),u.DataManager.storage.set("Music_YinXiaoQuan",!1))},t.prototype.shezhiguanbi=function(e){this.btn_shezhi.active=!this.btn_shezhi.active},t.prototype.huanfu=function(e){this.btn_huanfu.active=!this.btn_huanfu.active},t.prototype.setBtnImg=function(){this.setSpirteValue(0)},t.prototype.setSpirteValue=function(e){return a(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return[4,h.ResManager.loadResAsync("game/kwx/view/acc/KWX_menu_back"+e,cc.SpriteFrame)];case 1:return t=n.sent(),this.btn_back.getChildByName("back").getComponent(cc.Sprite).spriteFrame=t,[2]}})})},r([g(cc.Node)],t.prototype,"btn_menu",void 0),r([g(cc.Node)],t.prototype,"menuPanel",void 0),r([g(cc.Node)],t.prototype,"btn_back",void 0),r([g(cc.Node)],t.prototype,"btn_color",void 0),r([g(cc.Node)],t.prototype,"btn_set",void 0),r([g(cc.Node)],t.prototype,"btn_cancel",void 0),r([g(cc.Node)],t.prototype,"btn_shezhi",void 0),r([g(cc.Node)],t.prototype,"btn_huanfu",void 0),r([g(cc.Node)],t.prototype,"mSetting",void 0),r([g(cc.Node)],t.prototype,"mFangyan",void 0),r([g(cc.Node)],t.prototype,"mPuTongHua",void 0),r([g(cc.Node)],t.prototype,"mXiangYang",void 0),r([g(cc.Node)],t.prototype,"mshiyan",void 0),r([g(cc.Node)],t.prototype,"mxiaogan",void 0),r([g(cc.Node)],t.prototype,"mm_huanfu",void 0),r([g(cc.Node)],t.prototype,"mmj_huanfu",void 0),t=r([p],t)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../common/utils/Utils":"Utils","../../../manager/AudioManager":"AudioManager","../../../manager/DataManager":"DataManager","../../../manager/NetManager":"NetManager","../../../manager/ResManager":"ResManager","../../../manager/UIManager":"UIManager"}],NativeUtil:[function(e,t,n){"use strict";cc._RF.push(t,"ebc08P4Pe5Lpa1JLOzPvFfq","NativeUtil");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a={WECHATLOGIN:"WXLogin",WECHATLOGINCODE:"wechatLoginCode",PASTEBOARD:"pasteBoard",SCREENCAPTURE:"screenCapture",WXSHARE:"WXShare"},o="org/cocos2dx/javascript/AppActivity",s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=e.call(this)||this;return t.shareTypeTitel={R:"\u623f\u95f4\u9080\u8bf7\uff1a",C:"\u53d1\u9001\u623f\u5361\uff1a",S:"\u9080\u8bf7\u51fd\uff1a",T:"\u6e38\u620f\u9080\u8bf7\uff1a"},t.shareTypeNumTitel={R:"\u623f\u95f4\u53f7",C:"\u623f\u5361\u7f16\u53f7",S:"\u9080\u8bf7\u51fd\u7f16\u53f7",T:"\u6e38\u620f\u9080\u8bf7ID"},t.shareDesc_=null,t._isCapturing=!1,t.btnDate=new Date,t}var n;return i(t,e),n=t,t.getInstance=function(){return null==this.instance&&(this.instance=new n),this.instance},t.prototype.callNative=function(e,t){var n=JSON.stringify(t);if(cc&&cc.sys.isNative){if(cc.sys.OS_ANDROID==cc.sys.os)return jsb.reflection.callStaticMethod(o,"onJsCallNative","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",e,n);if(cc.sys.OS_IOS==cc.sys.os)return jsb.reflection.callStaticMethod("AppController","onJsCallNative:parameters:",e,n)}else console.log("device.platform"+cc.sys.os)},t.prototype.callJS=function(e,t){JSON.parse(t);a.WECHATLOGINCODE},t.prototype.WXLogin=function(){var e=this.callNative(a.WECHATLOGIN);e&&JSON.parse(e).isInstallWX},t.prototype.WXShare=function(e){var t={content:e},n=this.callNative(a.WXSHARE,t);n&&JSON.parse(n).isInstallWX},t.prototype.getPasteBorad=function(){var e=this.callNative(a.PASTEBOARD);if(console.log("device.platform"+e),e)return JSON.parse(e)},t.prototype.screenCapture=function(){var e=new Date;e.getTime()-this.btnDate.getTime()<3e3?console.log("\u9650\u5236\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b"):(this.btnDate=e,cc.sys.OS_ANDROID==cc.sys.os?this.screenshotNative():this.callNative(a.SCREENCAPTURE))},t.prototype.jsLog=function(e,t){var n=JSON.stringify(t);if(cc&&cc.sys.isNative&&cc.sys.OS_ANDROID==cc.sys.os)return jsb.reflection.callStaticMethod(o,"jsLog","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",e,n)},t.prototype.WXShareWithApp=function(e){},t.prototype.setWXShareDesc=function(e){cc&&cc.sys.isNative&&(this.shareDesc_=e)},t.prototype.setBtnCopyToImage=function(e){cc&&cc.sys.isNative&&(e.setContentSize(80,80),cc.loader.loadRes("common/yaoqinghaoyou",cc.SpriteFrame,function(t,n){t||(e.getComponent(cc.Sprite).spriteFrame=n)}),cc.loader.loadRes("prefabs/prefabsPublic/RoomNumTextNode",function(e,t){if(!e){var n=cc.instantiate(t);n.x=0,n.y=0,cc.director.getScene().addChild(n)}}.bind(this)))},t.prototype.showRoomContinueInfo=function(e,t,n){if(cc.sys.isNative)e.bg,e.btn_save,e.btn_record,e.btn_again;return-1},t.prototype.screenshotNative=function(e,t){var n=cc.director.getWinSize(),i=this.getPath();if(i&&""!=i){console.log("fullPath=",i),jsb.fileUtils.isFileExist(i)&&(console.log("remove"),jsb.fileUtils.removeFile(i));n.width;this.loadImg(i,t)}else console.log("\u6ca1\u6709\u8def\u5f84\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b\u300b")},t.prototype.loadImg=function(e,t){var n=this;this.scheduleOnce(function(){cc.loader.load(e,function(t,i){n.callNative(a.SCREENCAPTURE,e)})},.01)},t.prototype.getPath=function(){if(cc&&cc.sys.isNative&&cc.sys.OS_ANDROID==cc.sys.os)return jsb.reflection.callStaticMethod(o,"andrionCameraPath","()Ljava/lang/String;")},t.prototype.showJsByAndrionShotTips=function(e){void 0===e&&(e="\u4fdd\u5b58\u6210\u529f")},t=n=r([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],NetCmd:[function(e,t,n){"use strict";cc._RF.push(t,"1db28V0udJKzY3o2n0+Vcx6","NetCmd"),Object.defineProperty(n,"__esModule",{value:!0}),n.NetCmd={RPC:"rpc"},n.ProtocolRpcCmd={S2C_AuthLogin:n.NetCmd.RPC+".S2C_AuthLogin",S2C_Time:n.NetCmd.RPC+".S2C_Time",S2C_LoginedPlayerInfo:n.NetCmd.RPC+".S2C_LoginedPlayerInfo",S2C_Ping:n.NetCmd.RPC+".S2C_Ping",S2C_Error:n.NetCmd.RPC+".S2C_Error",S2C_UpdateUserInfo:n.NetCmd.RPC+".S2C_UpdateUserInfo",S2C_CreateClub:n.NetCmd.RPC+".S2C_CreateClub",S2C_EnterClub:n.NetCmd.RPC+".S2C_EnterClub",S2C_CreateGame:n.NetCmd.RPC+".S2C_CreateGame",S2C_DelGame:n.NetCmd.RPC+".S2C_DelGame",S2C_DeskItemChange:n.NetCmd.RPC+".S2C_DeskItemChange",S2C_ClubAllMembers:n.NetCmd.RPC+".S2C_ClubAllMembers",S2C_ClubMyMembers:n.NetCmd.RPC+".S2C_ClubMyMembers",S2C_MjRoomInfo:n.NetCmd.RPC+".S2C_MjRoomInfo",S2C_GetPlayerNameIcon:n.NetCmd.RPC+".S2C_GetPlayerNameIcon",S2C_Invite:n.NetCmd.RPC+".S2C_Invite",S2C_AddMemberScore:n.NetCmd.RPC+".S2C_AddMemberScore",S2C_RefreshScore:n.NetCmd.RPC+".S2C_RefreshScore",S2C_ScoreModify:n.NetCmd.RPC+".S2C_ScoreModify",S2C_ApplyMessage:n.NetCmd.RPC+".S2C_ApplyMessage",S2C_HandleApply:n.NetCmd.RPC+".S2C_HandleApply",S2C_SetManager:n.NetCmd.RPC+".S2C_SetManager",S2C_CancleManager:n.NetCmd.RPC+".S2C_CancleManager",S2C_SetAgent:n.NetCmd.RPC+".S2C_SetAgent",S2C_CancleAgent:n.NetCmd.RPC+".S2C_CancleAgent",S2C_DeleteMember:n.NetCmd.RPC+".S2C_DeleteMember",S2C_ExitFromClub:n.NetCmd.RPC+".S2C_ExitFromClub",S2C_NewClub:n.NetCmd.RPC+".S2C_NewClub",S2C_GetProportion:n.NetCmd.RPC+".S2C_GetProportion",S2C_SetProportion:n.NetCmd.RPC+".S2C_SetProportion",S2C_SetProportionAllGame:n.NetCmd.RPC+".S2C_SetProportionAllGame",S2S_ApplyMessage:n.NetCmd.RPC+".S2S_ApplyMessage",S2C_SetPlayerRemark:n.NetCmd.RPC+".S2C_SetPlayerRemark",S2C_TiQu:n.NetCmd.RPC+".S2C_TiQu",S2C_ChangeGameName:n.NetCmd.RPC+".S2C_ChangeGameName",S2C_ClubBaseSet:n.NetCmd.RPC+".S2C_ClubBaseSet",S2C_CancleMatch:n.NetCmd.RPC+".S2C_CancleMatch",S2C_MatchPlayers:n.NetCmd.RPC+".S2C_MatchPlayers",S2C_SetWarningValue:n.NetCmd.RPC+".S2C_SetWarningValue",S2C_GetWaningValue:n.NetCmd.RPC+".S2C_GetWaningValue",S2C_Abnormaltable:n.NetCmd.RPC+".S2C_Abnormaltable",S2C_Clubstatus:n.NetCmd.RPC+".S2C_Clubstatus",S2C_SearchMember:n.NetCmd.RPC+".S2C_SearchMember",S2C_SearchAllMember:n.NetCmd.RPC+".S2C_SearchAllMember",S2C_ClubTable:n.NetCmd.RPC+".S2C_ClubTable"},cc._RF.pop()},{}],NetCode:[function(e,t,n){"use strict";var i,r,a;cc._RF.push(t,"b869eYcsahHloLolAH+MOvS","NetCode"),Object.defineProperty(n,"__esModule",{value:!0}),n.HTTP_CODE={SUCCESS:0,ERROR:-1,SMS_CODE_ERROR:3001,SMS_CODE_EXPIRED:3001,SMS_CODE_SEND_FAILURE:3002,SMS_CODE_SEND_FREQUENTLY:3003,SIGN_UP_WITHOUT:2e3,SIGN_UP_WITH:2001,SIGN_UP_NAME_REQUIRED:2002,SIGN_UP_NAME_WITH:2003,SIGN_UP_AVATAR_REQUIRED:2004,SIGN_UP_MODIFY_AVATAR_LIMIT:2005,SIGN_UP_MODIFY_NAME_LIMIT:2006,SIGN_UP_REQUIRED:2007,SIGN_UP_VALIDATE_CODE_REQUIRED:2008,SIGN_UP_VALIDATE_CODE_ERROR:2009,SIGN_UP_VALIDATE_CODE_EXPIRED:2010,LOGIN_TOKEN_EXPIRED:1e3,LOGIN_TOKEN_ERROR:1001,LOGIN_TOKEN_REQUIRED:1002,REQUEST_PARAMETER_REQUIRED:4e3,REQUEST_PARAMETER_SIGN_ERROR:4001},n.HTTP_CODE_MSG=((i={})[n.HTTP_CODE.SUCCESS]="\u6210\u529f",i[n.HTTP_CODE.ERROR]="\u5185\u90e8\u5f02\u5e38",i[n.HTTP_CODE.SMS_CODE_ERROR]="\u77ed\u4fe1\u9a8c\u8bc1\u7801\u9519\u8bef!",i[n.HTTP_CODE.SMS_CODE_EXPIRED]="\u77ed\u4fe1\u9a8c\u8bc1\u7801\u8fc7\u671f!",i[n.HTTP_CODE.SMS_CODE_SEND_FAILURE]="\u77ed\u4fe1\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25]:{}!",i[n.HTTP_CODE.SMS_CODE_SEND_FREQUENTLY]="\u9a8c\u8bc1\u7801\u53d1\u9001\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf75\u5206\u949f\u540e\u518d\u8bd5!",i[n.HTTP_CODE.SIGN_UP_WITHOUT]="\u8d26\u53f7\u6216id\u4e0d\u5b58\u5728!",i[n.HTTP_CODE.SIGN_UP_WITH]="\u8d26\u53f7\u5df2\u88ab\u6ce8\u518c!",i[n.HTTP_CODE.SIGN_UP_NAME_REQUIRED]="\u5fc5\u987b\u586b\u5199\u6635\u79f0!",i[n.HTTP_CODE.SIGN_UP_NAME_WITH]="\u6635\u79f0\u5df2\u7ecf\u88ab\u7528!",i[n.HTTP_CODE.SIGN_UP_AVATAR_REQUIRED]="\u5fc5\u987b\u4e0a\u4f20\u5934\u50cf!",i[n.HTTP_CODE.SIGN_UP_MODIFY_AVATAR_LIMIT]="\u5934\u50cf\u4e00\u4e2a\u6708\u53ea\u80fd\u4fee\u6539\u4e00\u6b21!",i[n.HTTP_CODE.SIGN_UP_MODIFY_NAME_LIMIT]="\u6635\u79f0\u4e00\u4e2a\u6708\u53ea\u80fd\u4fee\u6539\u4e00\u6b21!",i[n.HTTP_CODE.SIGN_UP_REQUIRED]="\u5fc5\u987b\u4e0a\u4f20\u5934\u50cf\u548c\u586b\u5199\u6635\u79f0!",i[n.HTTP_CODE.SIGN_UP_VALIDATE_CODE_REQUIRED]="\u9a8c\u8bc1\u7801\u672a\u4f20!",i[n.HTTP_CODE.SIGN_UP_VALIDATE_CODE_ERROR]="\u9a8c\u8bc1\u7801\u9519\u8bef!",i[n.HTTP_CODE.SIGN_UP_VALIDATE_CODE_EXPIRED]="\u9a8c\u8bc1\u7801\u8fc7\u671f!",i[n.HTTP_CODE.LOGIN_TOKEN_EXPIRED]="\u767b\u5f55token\u5df2\u7ecf\u8fc7\u671f!",i[n.HTTP_CODE.LOGIN_TOKEN_ERROR]="\u767b\u5f55token\u9519\u8bef!",i[n.HTTP_CODE.LOGIN_TOKEN_REQUIRED]="\u767b\u5f55token\u4e3a\u7a7a!",i[n.HTTP_CODE.REQUEST_PARAMETER_REQUIRED]="\u8bf7\u6c42\u53c2\u6570\u5fc5\u4f20!",i[n.HTTP_CODE.REQUEST_PARAMETER_SIGN_ERROR]="\u7b7e\u540d\u53c2\u6570\u9519\u8bef",i),function(e){e[e.AR_OK=0]="AR_OK",e[e.AR_Fail=1]="AR_Fail",e[e.AR_MaxClient=2]="AR_MaxClient",e[e.AR_RepeatedLogin=3]="AR_RepeatedLogin",e[e.AR_TokenInvalid=4]="AR_TokenInvalid",e[e.AR_InputError=5]="AR_InputError",e[e.AR_DisableLogin=6]="AR_DisableLogin",e[e.AR_GameServerErr=7]="AR_GameServerErr",e[e.AR_AccountServerErr=8]="AR_AccountServerErr",e[e.AR_VersionErr=9]="AR_VersionErr",e[e.AR_GameServerNotOpen=10]="AR_GameServerNotOpen",e[e.AR_DenyRegister=11]="AR_DenyRegister",e[e.AR_InitNameAndIcon=12]="AR_InitNameAndIcon",e[e.AR_FirstLogin=13]="AR_FirstLogin"}(a=n.AuthResult||(n.AuthResult={})),n.AuthResultMsg=((r={})[a.AR_OK]="\u6210\u529f",r[a.AR_Fail]="\u4e00\u822c\u5931\u8d25",r[a.AR_MaxClient]="\u7f51\u7edc\u8fde\u63a5\u5df2\u6ee1",r[a.AR_RepeatedLogin]="\u91cd\u590d\u767b\u5f55",r[a.AR_TokenInvalid]="token\u65e0\u6548",r[a.AR_InputError]="\u8f93\u5165\u683c\u5f0f\u9519\u8bef",r[a.AR_DisableLogin]="\u7981\u6b62\u767b\u5f55",r[a.AR_GameServerErr]="\u6e38\u620f\u670d\u52a1\u5668\u51fa\u9519",r[a.AR_AccountServerErr]="\u5e10\u53f7\u670d\u52a1\u5668\u51fa\u9519",r[a.AR_VersionErr]="\u7248\u672c\u4e0d\u5339\u914d",r[a.AR_GameServerNotOpen]="\u6e38\u620f\u670d\u52a1\u5668\u672a\u5f00\u653e",r[a.AR_DenyRegister]="\u62d2\u7eddIP\u5730\u5740\u6ce8\u518c",r[a.AR_InitNameAndIcon]="\u9700\u8981\u4e0a\u4f20\u5934\u50cf\u548c\u540d\u5b57",r),n.Http_First_Login_Code=12,cc._RF.pop()},{}],NetManager:[function(e,t,n){"use strict";cc._RF.push(t,"dddfeMCvB9AkoLKXkL968cG","NetManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/utils/XXTea"),a=e("../Define"),o=e("../common/log/LogWrap"),s=e("../net/Socket"),c=e("./EventManager"),l=e("./DataManager"),u=e("../net/ProtocolRpc"),h=e("../game/kwx/protocol/ProtocolKWX"),f=e("../game/pdk/protocol/ProtocolPDK"),d=e("../game/nn/protocol/ProtocolNN"),p=e("../common/CCFormData"),g=e("./UIManager"),m=e("../common/Device"),y=cc._decorator,b=y.ccclass,v=(y.property,function(){function e(){this.sockets=[],this.heartTime=5,this.url=null,this.isReconnect=!1,this.Network=null,this.tobreakoff=0,this.loginSucceeded=!1,this.backstage=!1,this.protocolRpc=new u.default,this.protocolKWX=new h.default,this.protocolPDK=new f.default,this.protocolNN=new d.default,c.EventManager.on(this,a.EventDef.GameHide,this.onGameHide.bind(this)),c.EventManager.on(this,a.EventDef.GameShow,this.onGameShow.bind(this)),c.EventManager.on(this,a.EventDef.SocketError,this.onSocketError.bind(this)),c.EventManager.on(this,a.EventDef.SocektClose,this.onSocektClose.bind(this)),c.EventManager.on(this,a.EventDef.SocketInitSuccess,this.onSocketInitSuccess.bind(this)),c.EventManager.on(this,a.EventDef.SocketOpen,this.onSocketOpen.bind(this))}var t;return t=e,e.prototype.onSocketInitSuccess=function(){console.log("1\u7f51\u7edc\u5df2\u65ad\u5f00,\u8bf7\u91cd\u65b0\u767b\u9646")},e.prototype.onSocketOpen=function(e,t){this.backstage=!0,o.LogWrap.log("_NetManager===>Socket","connect onOpen!");var i=l.DataManager.storage.get("phone_number"),r=l.DataManager.storage.getItem("token"),a=l.DataManager.storage.getItem("loginType");if(r){if(4!=a){var s=m.default.getDeviceId();return this.backstage=!1,void n.NetManager.protocolRpc.sendC2S_AuthLogin(3,r,i,s)}if(l.DataManager.loginInfo.refresh_Token)return void this.webChatLoginSuccess()}g.UIManager.open("prefabs/LoginView")},e.prototype.webChatLoginSuccess=function(){var e=l.DataManager.loginInfo.login_type,t=l.DataManager.loginInfo.token,i=l.DataManager.loginInfo.account,r=l.DataManager.playerInfo.name,a=l.DataManager.playerInfo.icon,o=m.default.getDeviceId();this.backstage=!1,n.NetManager.protocolRpc.sendC2S_AuthLogin(e,t,i,o,r,a)},e.prototype.onSocketError=function(){this.isReconnect&&(console.log("2\u7f51\u7edc\u8fde\u63a5\u5931\u8d25,\u8bf7\u91cd\u65b0\u767b\u9646"),g.UIManager.showTipsPopup("2\u7f51\u7edc\u8fde\u63a5\u5931\u8d25,\u8bf7\u91cd\u65b0\u767b\u9646",function(){g.UIManager.open("prefabs/LoginView")}))},e.prototype.onSocektClose=function(){this.isReconnect&&(console.log("3\u7f51\u7edc\u8fde\u63a5\u5931\u8d25,\u8bf7\u91cd\u65b0\u767b\u9646"),g.UIManager.showTipsPopup("1\u7f51\u7edc\u8fde\u63a5\u5931\u8d25,\u8bf7\u91cd\u65b0\u767b\u9646",function(){g.UIManager.open("prefabs/LoginView")}))},e.prototype.onGameHide=function(){},e.prototype.onGameShow=function(e){console.log("\u540e\u53f0\u9a7b\u7559\u65f6\u95f4:",e/1e3,"s"),e>15e3?(this.closeAll(),console.log(this.url),this.url&&this.connect(this.url,a.SocketType.Hall),this.isReconnect=!0):(console.log("\u540e\u53f0\u9a7b\u7559\u65f6\u95f4\u4e0d\u8d85\u8fc715\u79d2:"),this.backstage=!1)},e.prototype.changeChannel=function(){this.closeAll(),console.log(this.url),this.url&&this.connect(this.url,a.SocketType.Hall),this.isReconnect=!0},e.prototype.getSocket=function(e){for(var t=0,n=this.sockets;t<n.length;t++){var i=n[t];if(i.getType()==e)return i}return null},e.prototype.connect=function(e,t){console.log("\u8fde\u63a5websocket"),this.close(t),this.url=e;var n=new s.default(e,t);this.sockets.push(n),o.LogWrap.log("connect count",this.sockets.length)},e.prototype.close=function(e){console.log("\u5173\u95edwebsocket\u8fde\u63a5");for(var t=this.sockets.length-1;t>=0;t--){var n=this.sockets[t];if(n.getType()==e){n.close(),n=null,this.sockets.splice(t,1);break}}},e.prototype.closeAll=function(){console.log("\u5173\u95ed\u6240\u6709websocket\u8fde\u63a5");for(var e=this.sockets.length-1;e>=0;e--){var t=this.sockets[e];t.close(),t=null}this.sockets=[]},e.prototype.send=function(e,t){var n=this.getSocket(t);n&&n.send(e)},e.prototype.handlerMessage=function(e,t){var n=t;n&&c.EventManager.emit(e,n)},e.prototype.requestPostUrl=function(e,t,n,i){var s=this;void 0===i&&(i=!0);var c=3,l=cc.loader.getXMLHttpRequest();l.timeout=5e3;var u=function(){c--,o.LogWrap.log("repeat---",c),0==c?n&&n("fail",l.statusText):s.requestPostUrl(e,t,n)};return l.onreadystatechange=function(){if(4==l.readyState)if(o.LogWrap.log("post rev->",l.readyState,l.status,l.responseText),l.status>=200&&l.status<400)if(i)try{var e=r.default.xxtea_decrypt(l.responseText,a.XXTeaSerectKey),t="string"==typeof e?JSON.parse(e):e;o.LogWrap.log("post xxtea ret->",JSON.stringify(t)),n&&n("success",t)}catch(e){u(),o.LogWrap.log("err:",e)}else n&&n("success",l.responseText);else u()},l.open("POST",e,!0),o.LogWrap.log("post_url=",e),o.LogWrap.log("post_data=",JSON.stringify(t)),null!=t&&"object"==typeof t&&(t=JSON.stringify(t)),i&&(t=r.default.xxtea_encrypt(t,a.XXTeaSerectKey)),l.send(t),l},e.prototype.requestGetUrl=function(e,t){var n=!0,i=cc.loader.getXMLHttpRequest();return i.timeout=3e3,i.onreadystatechange=function(){4==i.readyState&&(n=!1,o.LogWrap.log("get rev->",i.readyState,i.status,i.responseText),i.status>=200&&i.status<400?t&&t("success",i.responseText):t&&t("fail",i.statusText))},i.open("GET",e,!0),i.setRequestHeader("Access-Control-Allow-Origin","*"),o.LogWrap.log("get_url=",e),i.send(),setTimeout(function(){n&&(o.LogWrap.log("\u8d85\u65f6\u68c0\u6d4b"),i.abort())},i.timeout),i},e.prototype.requestPostUrlImg=function(e,t,n,i){var r=this;if(void 0===i&&(i=!1),cc.sys.isNative){if(t.bInResource&&cc.sys.isNative){var a=cc.url.raw(t.avatarfile);if(!jsb.fileUtils.isFileExist(a))return void(n&&n("fail","\u5934\u50cf\u6570\u636e\u9519\u8bef"));cc.loader.load({url:a,type:"jpg"},function(i,r){var a=this;t.avatarfile=r;var s=3,c=cc.loader.getXMLHttpRequest();c.timeout=5e3;c.onreadystatechange=function(){4==c.readyState&&(o.LogWrap.log("post rev->",c.readyState,c.status,c.responseText),c.status>=200&&c.status<400?n&&n("success",c.responseText):(s--,o.LogWrap.log("repeat---",s),0==s?n&&n("fail",c.statusText):a.requestPostUrl(e,t,n)))},c.open("POST",e,!0),c.withCredentials=!0,c.setRequestHeader("Content-Type","multipart/form-data; boundary=WebKitFormBoundary"),c.setRequestHeader("Accept","*/*");var l=new p.default;return l.append("name",t.name),l.append("validateCode",t.validateCode),l.append("id",t.id),l.appendFile("avatarfile",t.avatarfile,"jpg"),c.send(l.arrayBuffer),c})}else{if(!cc.sys.isNative)return;if(!jsb.fileUtils.isFileExist(t.avatarfile))return;t.avatarfile=jsb.fileUtils.getDataFromFile(t.avatarfile)}var s=3,c=cc.loader.getXMLHttpRequest();c.timeout=5e3;c.onreadystatechange=function(){4==c.readyState&&(o.LogWrap.log("post rev->",c.readyState,c.status,c.responseText),c.status>=200&&c.status<400?n&&n("success",c.responseText):(s--,o.LogWrap.log("repeat---",s),0==s?n&&n("fail",c.statusText):r.requestPostUrl(e,t,n)))},c.open("POST",e,!0),c.withCredentials=!0,c.setRequestHeader("Content-Type","multipart/form-data; boundary=WebKitFormBoundary"),c.setRequestHeader("Accept","*/*");var l=new p.default;return l.append("name",t.name),l.append("validateCode",t.validateCode),l.append("id",t.id),l.appendFile("avatarfile",t.avatarfile,"png"),c.send(l.arrayBuffer),c}n&&n("fail","\u5e73\u53f0\u4e0d\u652f\u6301\u4e0a\u4f20\u5934\u50cf")},e.prototype.Networkdelay=function(e){this.Network=e},e.prototype.succeeded=function(e){this.loginSucceeded=e},e.instance=new t,e=t=i([b],e)}());n.default=v,n.NetManager=v.instance,cc._RF.pop()},{"../Define":"Define","../common/CCFormData":"CCFormData","../common/Device":"Device","../common/log/LogWrap":"LogWrap","../common/utils/XXTea":"XXTea","../game/kwx/protocol/ProtocolKWX":"ProtocolKWX","../game/nn/protocol/ProtocolNN":"ProtocolNN","../game/pdk/protocol/ProtocolPDK":"ProtocolPDK","../net/ProtocolRpc":"ProtocolRpc","../net/Socket":"Socket","./DataManager":"DataManager","./EventManager":"EventManager","./UIManager":"UIManager"}],NiuCard:[function(e,t,n){"use strict";cc._RF.push(t,"72480qGjfdOsblZAgZmoUx0","NiuCard"),cc.Class({extends:cc.Component,properties:{flowerAtlas:{default:null,type:cc.SpriteAtlas,tooltip:"\u6251\u514b\u56fe\u96c6"},flowerSprite:{default:null,type:cc.Sprite,tooltip:"\u6251\u514b\u8282\u70b9"},_value:-1,_valueNew:{get:function(){return this._value},set:function(e){this._value=e;var t=this.node.getComponent("TouchCard");t&&(t._value=e,t._valuedata=this._valuedata)}},indexNum:1,_valuedata:null},onLoad:function(){},onEnable:function(){},setValue:function(e,t,n){console.log("setValue",e,t,n),this.node.y=0,this._valuedata={value:0,type:0},this._valueNew=e,this.flowerSprite.spriteFrame=this.flowerAtlas.getSpriteFrame("card_"+e),this.node.color=cc.color(235,235,235,255),this.node.active=!0,this.node.getChildByName("bei").active=n||!1},setBeiAcitve:function(e){this.node.getChildByName("bei").active=e},setPosY:function(){this._valuedata.value,this._valuedata.type},initY:function(){this.node.y=0},getType:function(e){switch(e){case 1:return"2";case 2:return"3";case 3:return"4";case 4:return"1";case 0:return"0"}}}),cc._RF.pop()},{}],NodeAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"b98f4e7Mx5Jh4EmtjVfUxLu","NodeAdapter");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../manager/EventManager"),o=e("../../../Define"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.adapter(),a.EventManager.on(this,o.EventDef.SizeChanged,this.onSizeChanged.bind(this))},t.prototype.start=function(){},t.prototype.onDestroy=function(){a.EventManager.off(this)},t.prototype.onSizeChanged=function(){this.adapter()},t.prototype.adapter=function(){var e=cc.winSize,t=e.width/this.node.width;this.node.scale=t,console.log("\u6539\u53d8\u5c4f\u5e55\u5c3a\u5bf8",e)},t=r([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Define":"Define","../../../manager/EventManager":"EventManager"}],NotchAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"aef345nMShEgpnm7Tub1lgx","NotchAdapter"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../manager/EventManager"),r=e("../../../Define"),a=cc._decorator,o=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.widght=null,t.canvas=null,t.rotation=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.widght=this.node.getComponent(cc.Widget),this.adapter(),i.EventManager.on(this,r.EventDef.SizeChanged,this.onSizeChanged.bind(this))},t.prototype.onDestroy=function(){i.EventManager.off(this)},t.prototype.onSizeChanged=function(){this.adapter()},t.prototype.adapter=function(){this.widght.updateAlignment();var e=this.canvas.designResolution.height/this.canvas.designResolution.width;this.node.height/this.node.width>e?(this.canvas.fitHeight=!1,this.canvas.fitWidth=!0):(this.canvas.fitHeight=!0,this.canvas.fitWidth=!1),this.canvas.applySettings()},__decorate([s(cc.Canvas)],t.prototype,"canvas",void 0),t=__decorate([o],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../../../Define":"Define","../../../manager/EventManager":"EventManager"}],Notice:[function(e,t,n){"use strict";cc._RF.push(t,"c7c92fW8N1KQK2/89+IyGII","Notice");var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./base/BaseView")),r=e("../manager/AudioManager"),a=(e("../manager/DataManager"),e("../manager/DataManagerClub"),e("../manager/SoundEffect"));cc.Class({extends:i.default,properties:{mFangchenmi:cc.Node,mJinDu:cc.Node,mWaiGua:cc.Node,mGengXin:cc.Node},start:function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1)),this.mFangchenmi.active=!0},ontab:function(e){var t=e.node.name;r.AudioManager.playSFX(a.SoundEffect.click),this.mGengXin.active="toggle0"==t,this.mFangchenmi.active="toggle1"==t,this.mJinDu.active="toggle2"==t,this.mWaiGua.active="toggle3"==t,"toggle1"==t?this.mFangchenmi.getComponent(cc.Label).string="\u4eb2\u7231\u7684\u7528\u6237\u60a8\u597d\uff1a\n       \u56fd\u5bb6\u65b0\u95fb\u51fa\u7248\u7f72\u53d1\u5e03\u300a\u5173\u4e8e\u9632\u6b62\u672a\u6210\u5e74\u4eba\u6c89\u8ff7\u7f51\u7edc\u6e38\u620f\u7684\u901a\u77e5\u300b\uff0c\u672c\u516c\u53f8\u59cb\u7ec8\u9ad8\u5ea6\u91cd\u89c6\u672a\u6210\u5e74\u7528\u6237\u7684\u7f51\u7edc\u73af\u5883\u4fdd\u62a4\u5de5\u4f5c\u5e76\u4e0d\u65ad\u52aa\u529b\u4e3a\u672a\u6210\u5e74\u7528\u6237\u521b\u9020\u826f\u597d\u7684\u7f51\u7edc\u6e38\u620f\u73af\u5883\u3002\n       \u4e3a\u8425\u9020\u6587\u660e\u3001\u5065\u5eb7\u3001\u6709\u5e8f\u7684\u6e38\u620f\u73af\u5883\uff0c\u5207\u5b9e\u4fdd\u62a4\u672a\u6210\u5e74\u7528\u6237\u7f51\u7edc\u7a7a\u95f4\u5b89\u5168\uff0c\u672c\u6e38\u620f\u5df2\u65bd\u884c\u65b0\u7248\u5b9e\u540d\u6ce8\u518c\u53ca\u672a\u6210\u5e74\u7528\u6237\u9632\u6c89\u8ff7\u4fdd\u62a4\u673a\u5236\uff0c\u8bf7\u60a8\u914d\u5408\u6211\u516c\u53f8\u5b8c\u6210\u5b9e\u540d\u6ce8\u518c\u3002\u6587\u660e\u5c06\u4e0e\u60a8\u643a\u624b\u5171\u521b\u7eff\u8272\u5065\u5eb7\u7684\u6e38\u620f\u73af\u5883\u3002":"toggle2"==t&&(this.mJinDu.getComponent(cc.Label).string="\u4eb2\u7231\u7684\u7528\u6237\u60a8\u597d\uff1a\n       \u56fd\u5bb6\u76f8\u5173\u4e3b\u7ba1\u90e8\u95e8\u4e8e\u8fd1\u671f\u51fa\u6587\u8981\u6c42\u51c0\u5316\u7f51\u7edc\u73af\u5883\uff0c\u89c4\u8303\u6e38\u620f\u5e02\u573a\u3002\u6211\u516c\u53f8\u575a\u51b3\u6267\u884c\u56fd\u5bb6\u76f8\u5173\u6cd5\u5f8b\u89c4\u5b9a\uff0c\u613f\u4e0e\u5e7f\u5927\u73a9\u5bb6\u4e00\u8d77\u8425\u9020\u5065\u5eb7\u6587\u660e\u7eff\u8272\u7684\u6e38\u620f\u73af\u5883\u3002\u540c\u65f6\u4e5f\u518d\u6b21\u58f0\u660e\uff1a\n       \u4e00\u3001\u6e38\u620f\u4e2d\u7684\u7ed3\u7b97\u79ef\u5206\uff0c\u4ec5\u9650\u672c\u4eba\u5728\u6e38\u620f\u4e2d\u4f7f\u7528\uff0c\u4e0d\u5177\u5907\u4efb\u4f55\u8d27\u5e01\u4ef7\u503c\u3002\n      \u4e8c\u3001\u6e38\u620f\u4e2d\u7684\u623f\u5361/\u94bb\u77f3\u5c5e\u4e8e\u6e38\u620f\u9053\u5177\uff0c\u4ec5\u80fd\u591f\u7528\u4e8e\u521b\u5efa\u623f\u95f4\uff0c\u4e0d\u5177\u5907\u5176\u4ed6\u7528\u9014\u3002\n      \u4e09\u3001\u6211\u516c\u53f8\u4e25\u7981\u73a9\u5bb6\u4e4b\u95f4\u8fdb\u884c\u4efb\u4f55\u8d4c\u535a\u884c\u4e3a\uff0c\u5bf9\u4e8e\u6e38\u620f\u5185\u53c2\u4e0e\u8d4c\u535a\u7684\u73a9\u5bb6\u6211\u516c\u53f8\u5c06\u4e25\u5389\u5904\u7406\uff08\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u5c01\u53f7\u7b49\uff09\uff0c\u540c\u65f6\u5bf9\u73a9\u5bb6\u6240\u62e5\u6709\u7684\u7ed3\u7b97\u79ef\u5206\u3001\u623f\u5361/\u94bb\u77f3\u7b49\u5747\u4e0d\u63d0\u4f9b\u4efb\u4f55\u5f62\u5f0f\u7684\u5b98\u65b9\u56de\u8d2d\uff0c\u76f4\u63a5\u6216\u95f4\u63a5\u5151\u6362\u73b0\u91d1\u6216\u5b9e\u7269\uff0c\u76f8\u4e92\u8d60\u4e0e\uff0c\u8f6c\u8ba9\u7b49\u670d\u52a1\u53ca\u76f8\u5173\u529f\u80fd\u3002")},onClickClose:function(e){this.close()}}),cc._RF.pop()},{"../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/SoundEffect":"SoundEffect","./base/BaseView":"BaseView"}],PDKCardTypeTool:[function(e,t,n){"use strict";cc._RF.push(t,"aa9c9mXUkpGwq45HYnU33d5","PDKCardTypeTool");var i=e("./PDKDefine"),r=cc.Class({checkCards:function(e){if(!e||e.length<1)return i.PDKCardType.RFCT_ERROR;for(var t=this.buildCards(e),n=[this.CheckRFCT_SINGLE.bind(this),this.CheckRFCT_DOUBLE.bind(this),this.CheckRFCT_SINGLE_LINE.bind(this),this.CheckRFCT_DOUBLE_LINE.bind(this),this.CheckRFCT_THREE_TAKE_TWO.bind(this),this.CheckRFCT_THREE_TAKE_TWO_LINE.bind(this),this.CheckRFCT_THREE_TAKE_NONE.bind(this),this.CheckRFCT_THREE_TAKE_ONE_FINISH.bind(this),this.CheckRFCT_FOUR_TAKE_THREE.bind(this),this.CheckRFCT_BOMB_CARD.bind(this)],r=0,a=0;a<n.length&&(!n[a]||0===(r=n[a](t,e.length)));a++);return r},buildCards:function(e){for(var t=[0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<e.length;n++){var i=e[n]%100;20==i?i=12:i-=3,t[i]++}return t},compareCards:function(e,t){console.log("pressCards="+e+",befCards="+t);var n=this.checkCards(e);if(console.log("---------------\u538b\u724c-----------------"),console.log(n),0==n)return{result:-1};var r=this.checkCards(t);if(console.log("---------------\u4e0a\u5bb6\u51fa\u7684\u724c------------"),console.log(r),0==r)return{result:-1};if(n.type==i.PDKCardType.RFCT_BOMB_CARD){if(r.type!=i.PDKCardType.RFCT_BOMB_CARD)return{type:i.PDKCardType.RFCT_BOMB_CARD,result:1,value:n.value};if(r.type==i.PDKCardType.RFCT_BOMB_CARD)return e[0]>t[0]?{type:i.PDKCardType.RFCT_BOMB_CARD,result:1,value:n.value}:{result:-1}}if(n.type!=r.type)return{result:-1};switch(n.type){case i.PDKCardType.RFCT_SINGLE:return{type:i.PDKCardType.RFCT_SINGLE,result:n.value>r.value?1:-1,value:n.value};case i.PDKCardType.RFCT_DOUBLE:return{type:i.PDKCardType.RFCT_DOUBLE,result:n.value>r.value?1:-1,value:n.value};case i.PDKCardType.RFCT_SINGLE_LINE:return n.value.count!=r.value.count?-1:{type:i.PDKCardType.RFCT_SINGLE_LINE,result:n.value.min>r.value.min?1:-1,value:n.value.min};case i.PDKCardType.RFCT_DOUBLE_LINE:return n.value.count!=r.value.count?-1:{type:i.PDKCardType.RFCT_DOUBLE_LINE,result:n.value.min>r.value.min?1:-1,value:n.value.min};case i.PDKCardType.RFCT_THREE_TAKE_TWO:return{type:i.PDKCardType.RFCT_THREE_TAKE_TWO,result:n.value>r.value?1:-1,value:n.value};case i.PDKCardType.RFCT_THREE_TAKE_TWO_LINE:return{type:i.PDKCardType.RFCT_THREE_TAKE_TWO_LINE,result:n.value.min>r.value.min?1:-1,value:n.value.min};case i.PDKCardType.RFCT_THREE_TAKE_NONE:return{type:i.PDKCardType.RFCT_THREE_TAKE_NONE,result:n.value>r.value?1:-1,value:n.value};case i.PDKCardType.RFCT_THREE_TAKE_ONE_FINISH:return{type:i.PDKCardType.RFCT_THREE_TAKE_ONE_FINISH,result:1,value:n.value};case i.PDKCardType.RFCT_FOUR_TAKE_THREE:return{type:i.PDKCardType.RFCT_FOUR_TAKE_THREE,result:n.value>r.value?1:-1,value:n.value};default:return{result:-1}}},CheckRFCT_SINGLE:function(e,t){if(1!=t)return 0;for(var n=0;n<e.length;n++)if(1==e[n])return{type:i.PDKCardType.RFCT_SINGLE,value:n};return 0},CheckRFCT_DOUBLE:function(e,t){if(2!=t)return 0;for(var n=0;n<e.length;n++)if(2==e[n])return{type:i.PDKCardType.RFCT_DOUBLE,value:n};return 0},CheckRFCT_SINGLE_LINE:function(e,t){if(t<5)return 0;for(var n=0;n<e.length;n++)if(0!=e[n]&&1!=e[n])return 0;var r=this.isContinuation(e);return 0==r?0:r.count<5?0:{type:i.PDKCardType.RFCT_SINGLE_LINE,value:r}},CheckRFCT_DOUBLE_LINE:function(e,t){if(t<4)return 0;for(var n=0;n<e.length;n++)if(0!=e[n]&&2!=e[n])return 0;var r=this.isContinuation(e);return 0==r?0:r.count<2?0:{type:i.PDKCardType.RFCT_DOUBLE_LINE,value:r}},CheckRFCT_THREE_TAKE_TWO:function(e,t){if(5!=t)return 0;for(var n=-1,r=[],a=0;a<e.length;a++)3==e[a]&&(n=a),1==e[a]?r.push(a):2==e[a]&&(r.push(a),r.push(a));return-1!=n&&2==r.length?{type:i.PDKCardType.RFCT_THREE_TAKE_TWO,value:n,d2:r}:0},CheckRFCT_THREE_TAKE_TWO_LINE:function(e,t){if(t<10)return 0;for(var n=0,r=[],a=[0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<e.length;o++)if(3==e[o])a[o]=3,n++;else for(var s=0;s<e[o];s++)r.push(o);if(n<2)return 0;if(r.length/n!=2)return 0;var c=this.isContinuation(a);return 0==c?0:{type:i.PDKCardType.RFCT_THREE_TAKE_TWO_LINE,value:c,d1:r}},CheckRFCT_THREE_TAKE_NONE:function(e,t){if(3!=t)return 0;for(var n=0;n<e.length;n++)if(3==e[n])return{type:i.PDKCardType.RFCT_THREE_TAKE_NONE,value:n};return 0},CheckRFCT_THREE_TAKE_ONE_FINISH:function(e,t){if(4!=t)return 0;for(var n=0,r=0,a=-1,o=0,s=0;s<e.length;s++)3==e[s]&&(a=s,r++),1==e[s]&&(o=s,n++);return 1==r&&1==n?{type:i.PDKCardType.RFCT_THREE_TAKE_ONE_FINISH,value:a,d1:o}:0},CheckRFCT_FOUR_TAKE_THREE:function(e,t){if(7!=t)return 0;for(var n=-1,r=[],a=0;a<e.length;a++)if(4!=e[a]){if(e[a]>0)for(var o=0;o<e[a];o++)r.push(a)}else n=a;return-1!=n&&3==r.length?{type:i.PDKCardType.RFCT_FOUR_TAKE_THREE,value:n,child:r}:0},CheckRFCT_BOMB_CARD:function(e,t){if(4!=t)return 0;for(var n=0;n<e.length;n++)if(4==e[n])return{type:i.PDKCardType.RFCT_BOMB_CARD,value:n};return 0},isContinuation:function(e){if(e[12]>0)return 0;for(var t=-1,n=-1,i=0;i<e.length;i++)if(-1==t&&0!=e[i]){t=i;break}if(t<0)return 0;for(i=e.length-1;i>=0;i--)if(-1==n&&0!=e[i]){n=i;break}if(n<0)return 0;for(i=t;i<=n;i++)if(0==e[i])return 0;return{min:t,max:n,count:n-t+1}},buildCardList:function(e){for(var t=new Array,n=0;n<e.length;n++){var i=e[n]%100;20==i&&(i=15),void 0===t[i]&&(t[i]=new Array),t[i].push(e[n])}for(var r=[],a=0;a<t.length;a++)Array.isArray(t[a])&&r.push(t[a]);return console.log("reCardsList",r),r},compareValue:function(e,t){return e%100>t%100},findCardsByTypeAndValue:function(e,t,n){return e.length<=0?{}:this.findCardsByType(e,t,n)},findCardsByType:function(e,t,n){console.log(e);var i=this.parseHanderCards(e,t,n);return console.log("findCardsByType",i),void 0===i[t]?new Array:i[t]},checkThreeTakeCard:function(e){var t=new Array,n=this.buildCardList(e);return console.log(n),n.forEach(function(e){void 0===e||3!=e.length||(t=e)}),t},checkFourTakeCard:function(e){var t=new Array,n=this.buildCardList(e);return console.log(n),n.forEach(function(e){void 0===e||4!=e.length||(t=e)}),t},parseHanderCards:function(e,t,n){var r=new Array,a=this.buildCardList(e);switch(console.log("parseHanderCardsvaluelist:",a),console.log("parseHanderCardsoutCards:",n),t){case i.PDKCardType.RFCT_SINGLE:r[i.PDKCardType.RFCT_SINGLE]=this.parse_RFCT_SINGLE(a,n);break;case i.PDKCardType.RFCT_DOUBLE:r[i.PDKCardType.RFCT_DOUBLE]=this.parse_RFCT_DOUBLE(a,n);break;case i.PDKCardType.RFCT_DOUBLE_LINE:r[i.PDKCardType.RFCT_DOUBLE_LINE]=this.parse_RFCT_DOUBLE_LINE(a,n);break;case i.PDKCardType.RFCT_THREE_TAKE_NONE:case i.PDKCardType.RFCT_THREE_TAKE_TWO:case i.PDKCardType.RFCT_THREE_TAKE_ONE_FINISH:n=this.checkThreeTakeCard(n),r[t]=this.parse_RFCT_THREE_TAKE_NONE(a,n);break;case i.PDKCardType.RFCT_SINGLE_LINE:r[i.PDKCardType.RFCT_SINGLE_LINE]=this.parse_RFCT_SINGLE_LINE(a,n);break;case i.PDKCardType.RFCT_THREE_TAKE_TWO_LINE:console.log("\u98de\u673a111",n),n=this.checkThreeTakeCard(n),console.log("\u98de\u673a:",n),r[t]=this.parse_RFCT_THREE_TAKE_TWO_LINE(a,n);break;case i.PDKCardType.RFCT_BOMB_CARD:case i.PDKCardType.RFCT_FOUR_TAKE_THREE:n=this.checkFourTakeCard(n),r[t]=this.parse_RFCT_BOMB_CARD(a,n)}return r},parse_RFCT_SINGLE:function(e,t){var n=this;if(e&&e.length<=0)return{};var i=new Array;return e.sort(function(e,t){return e.length-t.length}),e.forEach(function(e){1==e.length&&n.compareValue(e[0],t[0])&&i.push(e),2==e.length&&n.compareValue(e[0],t[0])&&i.push([e[0]]),3==e.length&&n.compareValue(e[0],t[0])&&i.push([e[0]]),4==e.length&&n.compareValue(e[0],t[0])&&i.push([e[0]])}),e.forEach(function(e){4==e.length&&i.push(e)}),i},parse_RFCT_DOUBLE:function(e,t){var n=this;if(e&&e.length<=0)return{};if(2!=t.length)return{};var i=new Array;return e.sort(function(e,t){return e.length-t.length}),e.forEach(function(e){2==e.length&&n.compareValue(e[0],t[0])&&i.push(e),3==e.length&&n.compareValue(e[0],t[0])&&i.push([e[0],e[1]]),4==e.length&&n.compareValue(e[0],t[0])&&i.push([e[0],e[1]])}),e.forEach(function(e){4==e.length&&i.push(e)}),i},parse_RFCT_DOUBLE_LINE:function(e,t){if(e&&e.length<=0)return{};if(t&&(t.length<4||t.length%2!=0))return{};var n=new Array;e.sort(function(e,t){return e%100-t%100}),t.sort(function(e,t){return e%100-t%100});for(var i=t.length/2,r=0;r<e.length;r++){var a=e[r];if(void 0!==a&&(a.length>1&&(a=a[0]),!(a%100<=t[0]%100))){for(var o=!0,s=r+1;s<r+i;s++){if(a.length<2){o=!1;break}var c=e[s];if(void 0===c){o=!1;break}if(c.length>1&&(c=c[0]),a%100+1!=c%100||c.length<2){o=!1;break}(a=e[s]).length>1&&(a=a[0])}if(o){for(var l=[],u=0;u<i;u++){var h=e[u+r];if(h.length<2)break;l.push(h[0],h[1])}t.length==l.length&&n.push(l)}}}return e.forEach(function(e){4==e.length&&n.push(e)}),n},parse_RFCT_THREE_TAKE_NONE:function(e,t){var n=this;if(e&&e.length<=0)return{};this.CheckRFCT_THREE_TAKE_TWO(t,t.length);if(3!=t.length)return{};var i=new Array;return e.sort(function(e,t){return e.length-t.length}),e.forEach(function(e){3==e.length&&n.compareValue(e[0],t[0])&&i.push(e),4==e.length&&n.compareValue(e[0],t[0])&&i.push([e[0],e[1],e[2]])}),e.forEach(function(e){4==e.length&&i.push(e)}),i},parse_RFCT_SINGLE_LINE:function(e,t){if(e&&e.length<=0)return{};if(t&&t.length<5)return{};var n=new Array;e.sort(function(e,t){return e%100-t%100}),t.sort(function(e,t){return e%100-t%100});for(var i=t.length,r=0;r<e.length;r++){var a=e[r];if(void 0!==a&&(a.length>1&&(a=a[0]),!(a%100<=t[0]%100))){for(var o=!0,s=r+1;s<r+i;s++){var c=e[s];if(void 0===c){o=!1;break}if(c.length>1&&(c=c[0]),a%100+1!=c%100){o=!1;break}(a=e[s]).length>1&&(a=a[0])}if(o){for(var l=[],u=0;u<i;u++){var h=e[u+r];h.length>=1&&(h=h[0]),l.push(h)}t.length==l.length&&n.push(l)}}}return e.forEach(function(e){4==e.length&&n.push(e)}),n},parse_RFCT_THREE_TAKE_TWO_LINE:function(e,t){if(e&&e.length<=0)return{};var n=new Array;e.sort(function(e,t){return e%100-t%100}),t.sort(function(e,t){return e%100-t%100});for(var i=t.length/3,r=0;r<e.length-i;r++){var a=e[r];if(void 0!==a&&(a.length>1&&(a=a[0]),!(a%100<=t[0]%100))){for(var o=!0,s=r+1;s<r+i;s++){if(a.length<3){o=!1;break}var c=e[s];if(void 0===c){o=!1;break}if(c.length>1&&(c=c[0]),a%100+1!=c%100){o=!1;break}(a=e[s]).length>1&&(a=a[0])}if(o){for(var l=[],u=0;u<i;u++){var h=e[u+r];h.length>=1&&(h=h[0]),l.push(h)}t.length==l.length&&n.push(l)}}}return e.forEach(function(e){4==e.length&&n.push(e)}),n},parse_RFCT_BOMB_CARD:function(e,t){var n=this;if(e&&e.length<=0)return{};if(t.length<4)return{};var i=new Array;return e.sort(function(e,t){return e.length-t.length}),e.forEach(function(e){4==e.length&&n.compareValue(e[0],t[0])&&i.push(e)}),i}});t.exports=r,cc._RF.pop()},{"./PDKDefine":"PDKDefine"}],PDKCard:[function(e,t,n){"use strict";cc._RF.push(t,"7b4350rqy1HFLLSbqD685jH","PDKCard");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spSelected=null,t.isCheck=!1,t.cardValue=0,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.initCard=function(e){var t=this;this.cardValue=e,this.node.active=!1,cc.loader.loadRes("game/pdk/cards/"+e,cc.SpriteFrame,function(e,n){e||(t.node.getComponent(cc.Sprite).spriteFrame=n,t.node.active=!0)})},r([s(cc.Node)],t.prototype,"spSelected",void 0),t=r([o],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],PDKChatView:[function(e,t,n){"use strict";cc._RF.push(t,"16ca6K8P59ENbVu0V4oz3EF","PDKChatView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../manager/NetManager"),r=e("../PDKRoomInfo"),a=e("../PDKDefine"),o=cc._decorator,s=o.ccclass,c=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.onClickClose=function(e){this.node.active=!1},t.prototype.anKuaiDian=function(){this.playEffect(0)},t.prototype.anZhenMo=function(){this.playEffect(1)},t.prototype.anBuYao=function(){this.playEffect(2)},t.prototype.anNiDe=function(){this.playEffect(3)},t.prototype.anNiShi=function(){this.playEffect(4)},t.prototype.anHeNi=function(){this.playEffect(5)},t.prototype.anDaJia=function(){this.playEffect(6)},t.prototype.anGeWei=function(){this.playEffect(7)},t.prototype.anBuYaoChao=function(){this.playEffect(8)},t.prototype.anZaNong=function(){this.playEffect(9)},t.prototype.anDaPai=function(){this.playEffect(10)},t.prototype.anDouLan=function(){this.playEffect(11)},t.prototype.playEffect=function(e){i.NetManager.protocolPDK.sendC2S_Magic(r.PDKRoomInfo.myDataInfo.position,e,-1,-1,a.PDKDefine.Chat_Tag),this.node.active=!1},t=__decorate([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"../../../manager/NetManager":"NetManager","../PDKDefine":"PDKDefine","../PDKRoomInfo":"PDKRoomInfo"}],PDKCmd:[function(e,t,n){"use strict";cc._RF.push(t,"e1eb6uzG5dP3KCkIHcC7Qi6","PDKCmd"),Object.defineProperty(n,"__esModule",{value:!0}),n.PDKCmd="rpc",n.ProtocolPDKCmd={S2C_RFRoomInfo:n.PDKCmd+".S2C_RFRoomInfo",S2C_PlayerExitRoom:n.PDKCmd+".S2C_PlayerExitRoom",S2C_NewRFPlayerEnter:n.PDKCmd+".S2C_NewRFPlayerEnter",S2C_UpdatePlayerInfo:n.PDKCmd+".S2C_UpdatePlayerInfo",S2C_RFSendCard:n.PDKCmd+".S2C_RFSendCard",S2C_XuanPiao:n.PDKCmd+".S2C_XuanPiao",S2C_RFPlayCars:n.PDKCmd+".S2C_RFPlayCars",S2C_RFEnd:n.PDKCmd+".S2C_RFEnd",S2C_TotalEnd:n.PDKCmd+".S2C_TotalEnd",S2C_TotalJieSuan:n.PDKCmd+".S2C_TotalJieSuan",S2C_JieShanApply:n.PDKCmd+".S2C_JieShanApply",S2C_NewJieShanChoose:n.PDKCmd+".S2C_NewJieShanChoose",S2C2S_Magic:n.PDKCmd+".S2C2S_Magic",S2C_Error:n.PDKCmd+".S2C_Error"},n.EventPDKCmd={INITRoom_EVENT:"INITRoom_EVENT",CLICK_CHANGEDESK:"CLICK_CHANGEDESK",CLICK_CONTINUE:"CLICK_CONTINUE"},cc._RF.pop()},{}],PDKDefine:[function(e,t,n){"use strict";cc._RF.push(t,"e1f7cSd4zJH464r1sF+xlZO","PDKDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.PDKDefine={GAME_PLAYER:2,CARDS_COUNT:15,XUAN_PIAO_TYPE:0,READY:201,XUAN_PIAO:203,PSRF_CHUPAI:205,Chat_Tag:1001,Expression_Tag:1002},n.PDKCardType={RFCT_ERROR:-1,RFCT_SINGLE:1,RFCT_DOUBLE:2,RFCT_SINGLE_LINE:3,RFCT_DOUBLE_LINE:4,RFCT_THREE_TAKE_TWO:5,RFCT_THREE_TAKE_TWO_LINE:6,RFCT_THREE_TAKE_NONE:7,RFCT_THREE_TAKE_ONE_FINISH:8,RFCT_FOUR_TAKE_THREE:9,RFCT_BOMB_CARD:10},n.CHAT_TEXT=["\u5feb\u70b9\u554a\u90fd\u7b49\u7684\u6211\u82b1\u90fd\u8c22\u4e86","\u600e\u4e48\u53c8\u65ad\u7ebf\u4e86\uff0c\u7f51\u7edc\u600e\u4e48\u8fd9\u4e48\u5dee\u554a","\u4e0d\u8981\u8d70\u51b3\u6218\u5012\u5929\u4eae","\u4f60\u7684\u724c\u6253\u7684\u4e5f\u592a\u597d\u4e86\u5427","\u4f60\u662fMM\u8fd8\u662fGG","\u548c\u4f60\u5408\u4f5c\u771f\u7684\u592a\u6109\u5feb\u4e86","\u5927\u5bb6\u597d\u5f88\u9ad8\u5174\u89c1\u5230\u5404\u4f4d","\u5404\u4f4d\u4e0d\u597d\u610f\u601d\u6211\u5f97\u79bb\u5f00\u4e00\u4f1a","\u4e0d\u8981\u5435\u4e86\uff0c\u5435\u4ec0\u4e48\u5435\uff0c\u4e13\u5fc3\u73a9\u6e38\u620f\u5427","\u548b\u5f04\u7684\u5565\uff0c\u4f60\u8fd8\u6253\u4e0d\u6253","\u6253\u724c\u600e\u4e48\u90a3\u4e48\u6162\u4e86","\u90fd\u61d2\u5f97\u6253\u4e86"],n.CHAT_Mp3=["yuying/v1.mp3","yuying/v2.mp3","yuying/v3.mp3","yuying/v4.mp3","yuying/v5.mp3","yuying/v6.mp3","yuying/v7.mp3","yuying/v8.mp3","yuying/v9.mp3","yuying/v10.mp3","yuying/v11.mp3","yuying/v17.mp3"],n.SKE_ANIM=["hd_bingtong01_ske","hd_cangyingpai01_ske","hd_daocha01_ske","hd_ganbei01_ske","hd_jidan01_ske","hd_maobi01_ske","hd_meigui01_ske","hd_woshou01_ske","hd_xianbing01_ske","hd_zhuaji01_ske"],n.SKE_Mp3=["emo/hd_bingtong01","emo/hd_cangyingpai01","emo/hd_daocha01","emo/hd_ganbei01","emo/hd_jidan01","emo/hd_maobi01","emo/hd_meigui01","emo/hd_woshou01","emo/hd_xianbing01","emo/hd_zhuaji01"],cc._RF.pop()},{}],PDKEndOne:[function(e,t,n){"use strict";cc._RF.push(t,"49821mJlK5PbaQ5k7vUllqM","PDKEndOne");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./PDKRoomInfo"),c=e("../../manager/NetManager"),l=e("../../manager/UIManager"),u=e("../../manager/DataManager"),h=e("../../manager/EventManager"),f=e("./PDKDefine"),d=e("./protocol/PDKCmd"),p=e("../../manager/EventClubDef"),g=cc._decorator,m=g.ccclass,y=g.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameView=null,t.user_node=[],t.endTime=null,t.cardPrefab=null,t.endTimeNumber=10,t.playTimes=null,t}return i(t,e),t.prototype.onLoad=function(){h.EventManager.on(this,p.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this))},t.prototype.ClubErrorCode=function(e){301==e.errorCode&&this.node&&1==this.node.active&&(this.node.active=!1)},t.prototype.onShowEndOne=function(e,t,n){var i=this;this.node.active=!0,this.playTimes=e.playTimes,this.gameView=t,this.endTimeNumber=n,s.PDKRoomInfo.roomInfo.playerInfos.forEach(function(e){e.state=201}),0==s.PDKRoomInfo.roomInfo.param.match?e.playTimes==s.PDKRoomInfo.roomInfo.param.juShu||1==this.gameView.JendOne?(this.node.getChildByName("button").getChildByName("zzj").active=!0,this.node.getChildByName("button").getChildByName("btnNext").active=!1):(this.node.getChildByName("button").getChildByName("btnNext").active=!0,this.node.getChildByName("button").getChildByName("zzj").active=!1):e.playTimes==s.PDKRoomInfo.roomInfo.param.juShu||1==this.gameView.JendOne?1==s.PDKRoomInfo.roomInfo.param.juShu?(this.node.getChildByName("button").getChildByName("hz").active=!0,this.node.getChildByName("button").getChildByName("lk").active=!0):(this.node.getChildByName("button").getChildByName("zzj").active=!0,this.node.getChildByName("button").getChildByName("btnNext").active=!1):e.playTimes!=s.PDKRoomInfo.roomInfo.param.juShu&&(this.node.getChildByName("button").getChildByName("btnNext").active=!0);for(var r=e.endInfo,a=0;a<r.length;a++){var o=s.PDKRoomInfo.getLocationID(r[a].position);this.user_node[o].active=!0,this.user_node[o].getChildByName("gz").getChildByName("isGuan").active=r[a].beiGuan,this.user_node[o].getChildByName("gz").getChildByName("isZhuaniao").active=r[a].hongTao10;var l=this.user_node[o].getChildByName("cards");if(l.removeAllChildren(),r[a].winScore>0)this.user_node[o].getChildByName("score").color=cc.color(255,80,0),this.user_node[o].getChildByName("score").getComponent(cc.Label).string="+"+r[a].winScore/100,this.user_node[o].getChildByName("cardNum").getComponent(cc.Label).string="\u51fa\u5b8c";else{this.user_node[o].getChildByName("score").color=cc.color(255,255,255),this.user_node[o].getChildByName("score").getComponent(cc.Label).string=(r[a].winScore/100).toString();var u=r[a].beiGuan?"\uff0c\u6625\u5929":"";this.user_node[o].getChildByName("cardNum").getComponent(cc.Label).string="\u5269\u4f59"+r[a].leftCards.length+"\u5f20"+u;var h=r[a].leftCards;s.PDKRoomInfo.sortCards(h);for(var f=0;f<h.length;f++){var d=cc.instantiate(this.cardPrefab);d.getComponent("PDKCard").initCard(h[f]),d.setContentSize(d.width/2,d.height/2),l.addChild(d)}}}this.endTime.getComponent(cc.Label).string=""+this.endTimeNumber,this.schedule(function(){i.node.active&&i.endTimeNumber<=0&&(0==s.PDKRoomInfo.roomInfo.param.match?1==i.node.getChildByName("button").getChildByName("zzj").active?i.onClickNext():i.onNextRound():1==s.PDKRoomInfo.roomInfo.param.juShu?(i.unscheduleAllCallbacks(),c.NetManager.protocolPDK.sendC2S_ExitRoom()):i.onClickNext()),i.endTimeNumber--,i.endTime.getComponent(cc.Label).string=""+i.endTimeNumber,console.log("\u5012\u8ba1\u65f6:",i.endTimeNumber)},1)},t.prototype.onlk=function(){1==s.PDKRoomInfo.roomInfo.param.juShu?c.NetManager.protocolPDK.sendC2S_ExitRoom():this.onClickNext()},t.prototype.onClickNext=function(){this.unscheduleAllCallbacks(),this.node.active=!1,this.gameView.totalData?(this.gameView.node.getChildByName("node_end").getComponent("PDKEnd").onShowEnd(this.gameView.totalData),1==s.PDKRoomInfo.roomInfo.param.match&&(this.gameView.node.getChildByName("node_end").getChildByName("New Node").getChildByName("btn_huanzhuo").active=!0,this.gameView.node.getChildByName("node_end").getChildByName("New Node").getChildByName("btn_jixu").active=!1)):(this.unscheduleAllCallbacks(),this.gameView.initView())},t.prototype.onNextRound=function(){console.log("\u5c0f\u7ed3\u7b97\u70b9\u51fb\u4e0b\u4e00\u5c40"),this.node.active=!1,this.unscheduleAllCallbacks(),s.PDKRoomInfo.updateLastOutCard(null),this.gameView.initView(),c.NetManager.protocolPDK.sendC2S_Ready()},t.prototype.onClickHuanZhuo=function(){return a(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:return console.log("\u5c0f\u7ed3\u7b97\u70b9\u51fb\u6362\u684c"),this.unscheduleAllCallbacks(),c.NetManager.protocolPDK.sendC2S_ChangeDesk(),s.PDKRoomInfo.roomInfo.playerInfos=[],(e=[]).jushu=s.PDKRoomInfo.roomInfo.param.juShu,e.playerCount=f.PDKDefine.GAME_PLAYER,e.deskId=s.PDKRoomInfo.roomInfo.param.id,[4,l.UIManager.popup("prefabs/club/ClubRoomMatch",e)];case 1:return(t=n.sent().getComponent("ClubRoomMatch")).showUserItem(u.DataManager.playerInfo,0),h.EventManager.emit(d.EventPDKCmd.CLICK_CHANGEDESK,{ts:t}),this.node.active=!1,[2]}})})},r([y(cc.Node)],t.prototype,"user_node",void 0),r([y(cc.Node)],t.prototype,"endTime",void 0),r([y(cc.Prefab)],t.prototype,"cardPrefab",void 0),t=r([m],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../manager/DataManager":"DataManager","../../manager/EventClubDef":"EventClubDef","../../manager/EventManager":"EventManager","../../manager/NetManager":"NetManager","../../manager/UIManager":"UIManager","./PDKDefine":"PDKDefine","./PDKRoomInfo":"PDKRoomInfo","./protocol/PDKCmd":"PDKCmd"}],PDKEnd:[function(e,t,n){"use strict";cc._RF.push(t,"cfc7fuecbVA/6rRX9paV8Rz","PDKEnd");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/utils/Utils"),o=e("./PDKRoomInfo"),s=e("../../common/UIHelper"),c=e("../../manager/NetManager"),l=e("../../manager/DataManagerClub"),u=e("../../manager/EventManager"),h=e("./protocol/PDKCmd"),f=cc._decorator,d=f.ccclass,p=f.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.endUser=null,t.time=null,t.playNumber=null,t.roomId=null,t.UserLayer=null,t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onShowEnd=function(e){var t=this;this.node.active=!0,this.time.string=a.default.timestampToTime(e.endTime),this.playNumber.string="\u5171"+e.totalJushu+"\u5c40",this.roomId.string="\u623f\u95f4\u53f7\uff1a"+e.roomId;var n=o.PDKRoomInfo.roomInfo.playerInfos;console.log("playerInfos",n);for(var i=this,r=e.totalItems,c=function(e){n.forEach(function(n){if(n.playerId==r[e].playerID){var a=cc.instantiate(t.endUser);a.getChildByName("name").getComponent(cc.Label).string=n.name,a.getChildByName("id").getComponent(cc.Label).string="ID:"+n.playerId,a.getChildByName("score").getComponent(cc.Label).string=""+l.DataManagerClub.divide100Double(r[e].winScore),a.getChildByName("boomScore").getComponent(cc.Label).string=""+l.DataManagerClub.divide100Double(r[e].boomScore),a.getChildByName("winCount").getComponent(cc.Label).string=r[e].totalWinTimes;var o=a.getChildByName("iconBg").getChildByName("icon");s.default.loadHead(n.icon,o),i.UserLayer.addChild(a)}})},u=0;u<r.length;u++)c(u)},t.prototype.onClickJiXu=function(e){console.log("\u5927\u7ed3\u7b97\u70b9\u51fb\u518d\u6765\u4e00\u5c40");o.PDKRoomInfo.updateLastOutCard(null),u.EventManager.emit(h.EventPDKCmd.CLICK_CONTINUE,{ready:!0}),c.NetManager.protocolPDK.sendC2S_Continue(),this.UserLayer.removeAllChildren(),this.node.active=!1},t.prototype.onClickLikai=function(e){console.log("\u5927\u7ed3\u7b97\u70b9\u51fb\u79bb\u5f00"),c.NetManager.protocolPDK.sendC2S_ExitRoom()},r([p(cc.Prefab)],t.prototype,"endUser",void 0),r([p(cc.Label)],t.prototype,"time",void 0),r([p(cc.Label)],t.prototype,"playNumber",void 0),r([p(cc.Label)],t.prototype,"roomId",void 0),r([p(cc.Node)],t.prototype,"UserLayer",void 0),t=r([d],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../common/UIHelper":"UIHelper","../../common/utils/Utils":"Utils","../../manager/DataManagerClub":"DataManagerClub","../../manager/EventManager":"EventManager","../../manager/NetManager":"NetManager","./PDKRoomInfo":"PDKRoomInfo","./protocol/PDKCmd":"PDKCmd"}],PDKExitView:[function(e,t,n){"use strict";cc._RF.push(t,"b3c142PklxNxaAzPoXga8oM","PDKExitView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../../common/utils/Utils"),c=e("../../../manager/UIManager"),l=e("../../../manager/NetManager"),u=e("../../../manager/DataManager"),h=e("../../../common/UIHelper"),f=e("../../../manager/ResManager"),d=e("../PDKRoomInfo"),p=e("../PDKDefine"),g=e("../../../common/log/LogWrap"),m=cc._decorator,y=m.ccclass,b=m.property,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab_time=null,t.user_node=[],t.btn_agree=null,t.btn_cancel=null,t.wait_tips=null,t.time_num=120,t.exitData=null,t}return i(t,e),t.prototype.onLoad=function(){s.default.addClickEventEND(this.btn_agree,this.onEvenClickButton.bind(this)),s.default.addClickEventEND(this.btn_cancel,this.onEvenClickButton.bind(this))},t.prototype.initData=function(e){var t=this;this.exitData=e.choose,this.user_node[2].active=3==p.PDKDefine.GAME_PLAYER;var n=(new Date).getTime();this.time_num=Math.ceil((1e3*e.chooseEndTime-n)/1e3),this.lab_time.string=this.time_num+"",this.unschedule(this.onUpdateTimer),this.schedule(this.onUpdateTimer,1,cc.macro.REPEAT_FOREVER,.01);d.PDKRoomInfo.roomInfo.playerInfos;e&&e.choose||g.LogWrap.err("\u89e3\u6563err,data\u4e3a\u7a7a\u6216\u8005data.choose\u4e3a\u7a7a",e),e.choose.forEach(function(e,n){t.updateUserInfo(n,e,e,!1)})},t.prototype.updateUserInfo=function(e,t,n,i){console.log("updateUserInfo",e,t,n,i),this.user_node[e].active=!0;var r=this.user_node[e].getChildByName("exttips").getComponent(cc.Sprite),a=this.user_node[e].getChildByName("iconBg").getChildByName("icon"),o=this.user_node[e].getChildByName("name").getComponent(cc.Label),l=s.default.getSubStringLengTxt(t.name);o.string=l,this.setUserHead(t.icon,a),n.playerId==u.DataManager.playerInfo.accountId?t.applyer?(this.setSpirteValue(0,r),this.wait_tips.active=!0,this.btn_agree.active=!1,this.btn_cancel.active=!1):t.choosed?(this.setSpirteValue(1,r),this.wait_tips.active=!0,this.btn_agree.active=!1,this.btn_cancel.active=!1):(this.setSpirteValue(3,r),this.wait_tips.active=!1,this.btn_agree.active=!0,this.btn_cancel.active=!0):t.applyer?this.setSpirteValue(0,r):t.choosed?this.setSpirteValue(1,r):this.setSpirteValue(3,r),i&&(c.UIManager.showTips("\u5927\u5bb6\u540c\u610f\u4e86\u89e3\u6563"),this.scheduleOnce(function(){this.node.destroy()},.1))},t.prototype.setSpirteValue=function(e,t){return a(this,void 0,void 0,function(){var n;return o(this,function(i){switch(i.label){case 0:return[4,f.ResManager.loadResAsync("game/kwx/res/exit/exttips"+e,cc.SpriteFrame)];case 1:return n=i.sent(),t.spriteFrame=n,[2]}})})},t.prototype.setUserHead=function(e,t){h.default.loadHead(e,t)},t.prototype.onUpdateTimer=function(){this.time_num<0?this.unschedule(this.onUpdateTimer):(this.lab_time.string=this.time_num+"",this.time_num--)},t.prototype.onSubExit=function(e){if(e.agree){var t=0,n=-1;if(!this.exitData)return;for(var i=0;i<this.exitData.length;i++)this.exitData[i].agree?(n=i,t++):e.playerId==this.exitData[i].playerId&&(this.exitData[i].agree=!0,e.choosed=!0,n=i,t++);var r=d.PDKRoomInfo.getPlayerInfoByPlayerId(e.playerId);this.updateUserInfo(n,e,r,t>=p.PDKDefine.GAME_PLAYER)}else c.UIManager.showTips("\u73a9\u5bb6\u62d2\u7edd\u4e86\u89e3\u6563"),this.node.destroy()},t.prototype.onEvenClickButton=function(e){var t=e.name;"btn_agree"==t?(this.btn_cancel.active=!1,this.btn_agree.active=!1,this.wait_tips.active=!0,l.NetManager.protocolPDK.sendC2S_JieShanChoose(!0)):"btn_cacnel"==t&&l.NetManager.protocolPDK.sendC2S_JieShanChoose(!1)},r([b(cc.Label)],t.prototype,"lab_time",void 0),r([b(cc.Node)],t.prototype,"user_node",void 0),r([b(cc.Node)],t.prototype,"btn_agree",void 0),r([b(cc.Node)],t.prototype,"btn_cancel",void 0),r([b(cc.Node)],t.prototype,"wait_tips",void 0),t=r([y],t)}(cc.Component);n.default=v,cc._RF.pop()},{"../../../common/UIHelper":"UIHelper","../../../common/log/LogWrap":"LogWrap","../../../common/utils/Utils":"Utils","../../../manager/DataManager":"DataManager","../../../manager/NetManager":"NetManager","../../../manager/ResManager":"ResManager","../../../manager/UIManager":"UIManager","../PDKDefine":"PDKDefine","../PDKRoomInfo":"PDKRoomInfo"}],PDKGameScene:[function(e,t,n){"use strict";cc._RF.push(t,"c0a7fcDxEtPMYmHwiuONRJO","PDKGameScene");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../manager/EventManager"),o=e("./PDKGameView"),s=e("./PDKRoomInfo"),c=e("./protocol/PDKCmd"),l=e("./PDKDefine"),u=e("../../manager/DataManager"),h=e("../../manager/AudioManager"),f=e("../../manager/NetManager"),d=e("../../Define"),p=cc._decorator,g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.GameView=null,t.shengli=[],t.BackgroundSettlement=!1,t}return i(t,e),t.prototype.onLoad=function(){this.GameView.GameScene=this,this.initEvent()},t.prototype.initEvent=function(){a.EventManager.on(this,c.EventPDKCmd.INITRoom_EVENT,this.S2C_PDKRoomInfo.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_PlayerExitRoom,this.S2C_PlayerExitRoom.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_NewRFPlayerEnter,this.S2C_NewRFPlayerEnter.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_UpdatePlayerInfo,this.S2C_UpdatePlayerInfo.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_RFSendCard,this.S2C_RFSendCard.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_XuanPiao,this.S2C_XuanPiao.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_RFPlayCars,this.S2C_RFPlayCars.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_RFEnd,this.S2C_RFEnd.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_TotalEnd,this.S2C_TotalEnd.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_JieShanApply,this.S2C_JieShanApply.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C_NewJieShanChoose,this.S2C_NewJieShanChoose.bind(this)),a.EventManager.on(this,c.ProtocolPDKCmd.S2C2S_Magic,this.S2C2S_Magic.bind(this)),a.EventManager.on(this,d.EventDef.GameShow,this.onGameShow.bind(this)),a.EventManager.on(this,d.EventDef.GameHide,this.onGameHide.bind(this))},t.prototype.onGameHide=function(){},t.prototype.onGameShow=function(){console.log("\u6e38\u620f\u56de\u5230\u524d\u53f0\u8dd1\u5f97\u5feb"),f.NetManager.protocolPDK.sendC2S_GetRoomInfo()},t.prototype.S2C_RFEnd=function(e){console.log("S2C_RFEnd========"),console.log(e),s.PDKRoomInfo.updateUserScore(e.endInfo),this.GameView.showEndOne(e);for(var t=function(){if(e.endInfo[i].playerID==u.DataManager.playerInfo.id.toString())if(e.endInfo[i].winScore>=0){var t=n.shengli[0];t.node.active=!0,t.timeScale=.5,t.setAnimation(0,"start",!1)&&t.setCompleteListener(function(e,n){t.node.active=!1}),h.AudioManager.playSFX("kwx_sound/yinxiao/gameover_win.mp3")}else{n.shengli[1].node.active=!0;var r=n.shengli[1];r.node.active=!0,r.timeScale=.5,r.setAnimation(0,"start",!1)&&r.setCompleteListener(function(e,t){r.node.active=!1}),h.AudioManager.playSFX("kwx_sound/yinxiao/gameover_lose.mp3")}n.GameView.PDKPlayer[0].node.getChildByName("hand_area").active=!1,n.GameView.PDKPlayer[i].stopClock()},n=this,i=0;i<e.endInfo.length;i++)t()},t.prototype.S2C_TotalEnd=function(e){this.GameView.showTotalEnd(e)},t.prototype.S2C_RFPlayCars=function(e){var t=this;if(s.PDKRoomInfo.updateLastOutCard(e.playCard),this.GameView.outCards(e.playCard),0!=e.bcInfo.length&&(s.PDKRoomInfo.updateUserScore(e.bcInfo),this.GameView.showBombScore(e.bcInfo)),e.guo.length>0){var n=0;this.GameView.guoPaiUser(e.guo[n],function(){++n===e.guo.length?e.action&&t.GameView.nextUserOpt(e.action,15):t.GameView.guoPaiUser(e.guo[n],function(){++n===e.guo.length&&e.action&&t.GameView.nextUserOpt(e.action,15)})})}else e.action&&this.GameView.nextUserOpt(e.action,15)},t.prototype.S2C_XuanPiao=function(e){if(1==u.DataManager.storage.get("FangYan")||null==u.DataManager.storage.get("FangYan"))var t="xiangyang/";else if(2==u.DataManager.storage.get("FangYan"))t="putong/";else if(3==u.DataManager.storage.get("FangYan"))t="shiyan/";else if(4==u.DataManager.storage.get("FangYan"))t="xiaogan/";4==l.PDKDefine.XUAN_PIAO_TYPE&&(e.playerId==u.DataManager.playerInfo.id.toString()?h.AudioManager.playSFX("kwx_sound/yinxiao/"+t+"piao"+e.piao+"_1.mp3"):h.AudioManager.playSFX("kwx_sound/yinxiao/"+t+"piao"+e.piao+"_1a.mp3")),this.GameView.updateUserPiao(e)},t.prototype.S2C_RFSendCard=function(e){console.log("S2C_RFSendCard",e),e.changeInfos.forEach(function(t){var n=s.PDKRoomInfo.getLocationID(t.position);s.PDKRoomInfo.roomInfo.playerInfos.forEach(function(e){e.position==t.position&&(e.state=t.state,e.endTime=t.endTime)}),0==n&&(t.cards=e.cards)}),this.GameView.initView(),s.PDKRoomInfo.updateLastOutCard(null),this.GameView.PDKPlayer[0].node.getChildByName("hand_area").active=!0,s.PDKRoomInfo.updateMyCards(e.cards),this.GameView.PDKPlayer[0].setUserCards(e.cards),s.PDKRoomInfo.initUserCardCount(),s.PDKRoomInfo.updateGameTimes(e.playTimes),this.GameView.setPiaoLayer(!1),this.GameView.sendCards(e.zhuangPostion),this.GameView.updatePlayNumber(e.playTimes),this.GameView.setCurOptUser(e.zhuangPostion,15),s.PDKRoomInfo.updateUserScore(e.changeInfos),s.PDKRoomInfo.MY_DATA=e.changeInfos},t.prototype.S2C_PlayerExitRoom=function(e){this.GameView.userExitRoom(e)},t.prototype.S2C_NewRFPlayerEnter=function(e){s.PDKRoomInfo.addUserInRoom(e.pi),this.GameView.initView()},t.prototype.S2C_UpdatePlayerInfo=function(e){var t=this;s.PDKRoomInfo.roomInfo.playerInfos.forEach(function(e,n){var i=s.PDKRoomInfo.getLocationID(e.position);t.GameView.PDKPlayer[i].showPass(!1)}),e.infos.forEach(function(e){if(l.PDKDefine.READY=e.state,e.playerId==u.DataManager.playerInfo.id.toString())if(203==e.state)if(1==l.PDKDefine.XUAN_PIAO_TYPE){switch(e.state){case l.PDKDefine.READY:t.GameView.userReady(e.position,!1)}f.NetManager.protocolPDK.sendC2S_XuanPiao(1)}else if(2==l.PDKDefine.XUAN_PIAO_TYPE){switch(e.state){case l.PDKDefine.READY:t.GameView.userReady(e.position,!1)}f.NetManager.protocolPDK.sendC2S_XuanPiao(2)}else switch(e.state){case 1!=l.PDKDefine.XUAN_PIAO_TYPE&&2!=l.PDKDefine.XUAN_PIAO_TYPE&&l.PDKDefine.XUAN_PIAO:t.GameView.setPiaoLayer(!0);break;case l.PDKDefine.READY:t.GameView.userReady(e.position,!1)}else if(1==l.PDKDefine.XUAN_PIAO_TYPE){switch(e.state){case l.PDKDefine.READY:t.GameView.userReady(e.position,!0)}f.NetManager.protocolPDK.sendC2S_XuanPiao(1)}else if(2==l.PDKDefine.XUAN_PIAO_TYPE){switch(e.state){case l.PDKDefine.READY:t.GameView.userReady(e.position,!0)}f.NetManager.protocolPDK.sendC2S_XuanPiao(2)}else switch(e.state){case l.PDKDefine.XUAN_PIAO:t.GameView.setPiaoLayer(!0);break;case l.PDKDefine.READY:t.GameView.userReady(e.position,!0)}})},t.prototype.S2C_PDKRoomInfo=function(){this.GameView.initView(),this.GameView.initPlayStr()},t.prototype.S2C2S_Magic=function(e){e.p5==l.PDKDefine.Chat_Tag?this.GameView.playChat(e.p1,e.p2):e.p5==l.PDKDefine.Expression_Tag&&this.GameView.playExpression(e.p1,e.p2,e.p3)},t.prototype.S2C_JieShanApply=function(e){this.GameView.onExitGame(e)},t.prototype.S2C_NewJieShanChoose=function(e){this.GameView.onSubExit(e)},t.prototype.onDestroy=function(){a.EventManager.off(this)},r([m(o.default)],t.prototype,"GameView",void 0),r([m(sp.Skeleton)],t.prototype,"shengli",void 0),t=r([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../Define":"Define","../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/EventManager":"EventManager","../../manager/NetManager":"NetManager","./PDKDefine":"PDKDefine","./PDKGameView":"PDKGameView","./PDKRoomInfo":"PDKRoomInfo","./protocol/PDKCmd":"PDKCmd"}],PDKGameView:[function(e,t,n){"use strict";cc._RF.push(t,"b99c3ITtatBbIxlNtOSnJAN","PDKGameView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../manager/UIManager"),o=e("../../manager/NetManager"),s=e("./PDKPlayer"),c=e("./PDKRoomInfo"),l=e("./PDKDefine"),u=e("../../manager/AudioManager"),h=e("../../manager/DataManager"),f=e("../../manager/DataManagerClub"),d=e("../kwx/KWXDefine"),p=e("../../manager/EventManager"),g=e("./protocol/PDKCmd"),m=e("../../view/base/BaseView"),y=e("../../common/utils/Utils"),b=e("../../net/NetCmd"),v=e("../../Define"),_=e("../../manager/EventClubDef"),C=e("./PDKCardTypeTool"),M=cc._decorator,S=M.ccclass,w=M.property,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mMenuNode=null,t.mMenuChat=null,t.mNode_oper=null,t.PDKPlayer=[],t.PDKExitView=null,t.mPlayNumber=null,t.mWanfaNode=null,t.mAnimation=null,t.NetworkType=[],t.powers=null,t.powers1=null,t.Timedata=null,t.mNetworkzt=null,t.mmbj=[],t.input_p=null,t.mtool=null,t.GameScene=null,t.btn_start=null,t.piaoLayer=null,t.optLayer=null,t.btnTips=null,t.btnOutCard=null,t.countdown=null,t.PDKCardTypeTool=null,t.tipsCardsList=null,t.PDKExtViewTs=null,t.tipsCardsList_index=0,t.totalData=null,t.Gray=!1,t.stepIndex=0,t.time=null,t.time_num=60,t.pipei=null,t.JendOne=!1,t.CardsNumber=0,t.huifang=!1,t.shangjiachupai=null,t.DisplayDissolution=!1,t}return i(t,e),t.prototype.onGet=function(){var e=this.input_p.textLabel.string;if(console.log("phone====",e),0!=e.length){var t=[];e.split(",").forEach(function(e){t.push(Number(e))}),console.log("intarrey====",t),console.log("intarrey====",t.length),o.NetManager.protocolPDK.sendC2S_ZuoPai(t)}else o.NetManager.protocolPDK.sendC2S_ZuoPai([])},t.prototype.onLoad=function(){var e=this;a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),this.PDKCardTypeTool=new C,this.mAnimation.on("finished",function(){e.mAnimation.node.active=!1},this);var t=h.DataManager.storage.get("Music_switch"),n=h.DataManager.storage.get("Music_YinXiaoQuan");0==t?u.AudioManager.setBGMVolume(0):u.AudioManager.setBGMVolume(.3),0==n&&u.AudioManager.setSFXVolume(0),u.AudioManager.playBGM("pdk_sound/bgMusicPDK1.mp3");var i=h.DataManager.storage.get("PDKSetbackground"),r=i-1;null!=i?this.mmbj[r].active=!0:this.mmbj[0].active=!0;var o=cc.sys.getNetworkType(),s=10*cc.sys.getBatteryLevel()/2;0==s?(this.powers.active=!1,this.powers1.active=!0):(this.powers.active=!0,this.powers1.active=!1,this.powers.children.forEach(function(e,t){e.opacity=t<s?255:0}));2==o?this.NetworkType[o-1].active=!0:this.NetworkType[0].active=!0,p.EventManager.on(this,b.ProtocolRpcCmd.S2C_Ping,this.timedata.bind(this)),p.EventManager.on(this,_.EventClubDef.ClubMatchPlayers,this.ClubMatchPlayers.bind(this)),p.EventManager.on(this,_.EventClubDef.ClubErrorCode,this.ClubErrorCode.bind(this)),p.EventManager.on(this,v.EventDef.GameShow,this.onGameShow.bind(this)),f.DataManagerClub.Mytype},t.prototype.start=function(){this.btn_start=this.mNode_oper.getChildByName("btn_start"),this.piaoLayer=this.mNode_oper.getChildByName("piaoLayer"),this.optLayer=this.mNode_oper.getChildByName("optLayer"),this.btnTips=this.optLayer.getChildByName("btn_tips"),this.btnOutCard=this.optLayer.getChildByName("btn_outCard"),this.data&&(c.PDKRoomInfo.setPlaybackRoomInfo(this.data),this.initPlaybackView(this.data))},t.prototype.ClubErrorCode=function(e){var t=this;2==e.errorCode||61==e.errorCode?(a.UIManager.showTips("\u79ef\u5206\u4e0d\u8db3\u60a8\u5df2\u88ab\u8e22\u51fa\u8be5\u623f\u95f4"),o.NetManager.protocolPDK.sendC2S_ExitRoom()):9==e.errorCode?c.PDKRoomInfo.roomInfo&&c.PDKRoomInfo.roomInfo.playerInfos.forEach(function(n){n.position==e.args[0].position&&(n.online=e.args[0].online);var i=c.PDKRoomInfo.getLocationID(n.position);t.PDKPlayer[i].setUserState(n.online)}):300==e.errorCode&&a.UIManager.showTips("\u6bcf\u5c40\u53ea\u80fd\u7533\u8bf7\u4e24\u6b21\u89e3\u6563\u623f\u95f4")},t.prototype.timedata=function(){var e=y.default.getFormatDate(cc.sys.now(),"hh:mm:ss");this.Timedata.getComponent(cc.Label).string=e},t.prototype.initPlaybackView=function(e){var t=this;console.log("\u56de\u653e\u6570\u636e:",e),this.huifang=!0,this.shangjiachupai=e.zhuang_position;var n=e.player_info;c.PDKRoomInfo.roomInfo=e,console.log("\u623f\u95f4\u4fe1\u606f:",c.PDKRoomInfo.roomInfo),this.updatePlayNumber(c.PDKRoomInfo.roomInfo.jushu||0),console.log("playerInfos",n),n.forEach(function(e,n){var i=c.PDKRoomInfo.getLocationID(e.position);t.PDKPlayer[i].initUserInfo(e),t.PDKPlayer[i].mhuifang(!0),0===i?t.PDKPlayer[i].setUserCards(e.shoupai):t.PDKPlayer[i].setPlayBackCards(e.shoupai,!0,i)}),this.initPlayStr(),this.btn_start.active=!1,this.mMenuChat.active=!1,this.mWanfaNode.active=!1,this.schedule(this.startStepTimer,3)},t.prototype.startStepTimer=function(){this.playbackOutCards(c.PDKRoomInfo.PlaybackRoomInfo.chupai[this.stepIndex]),this.stepIndex++},t.prototype.playbackOutCards=function(e){if(console.log("\u56de\u653e\u51fa\u724c",e),!e){this.unschedule(this.startStepTimer);var t=this.node.getChildByName("node_playbackEnd");return t.active=!0,void t.getComponent("PDKPlaybackEnd").onShowEnd(c.PDKRoomInfo.PlaybackRoomInfo.jie_suan)}console.log("\u4e0a\u5bb6\u51fa\u724c\u4f4d\u7f6e",this.shangjiachupai),this.shangjiachupai?this.PDKPlayer[this.shangjiachupai].removeOutCard():this.PDKPlayer[0].removeOutCard();var n=c.PDKRoomInfo.getLocationID(e.position);this.shangjiachupai=n,0===n?(this.PDKPlayer[n].outUserCards(e.pai_id),c.PDKRoomInfo.delectMyCards(e.pai_id),this.PDKPlayer[n].setUserCards(c.PDKRoomInfo.myDataInfo.cards)):(this.PDKPlayer[n].outUserCards(e.pai_id),this.PDKPlayer[n].removePlaybackCards(e.pai_id));var i=this.PDKCardTypeTool.checkCards(e.pai_id);0!==i&&this.playPdkEffect(i)},t.prototype.onGameShow=function(){this.node.getChildByName("node_endOne").active=!1},t.prototype.initView=function(){var e=this;this.pipei&&(console.log("\u7528\u6237\u4fe1\u606f============:",h.DataManager.playerInfo),console.log(c.PDKRoomInfo.roomInfo.playerInfos),c.PDKRoomInfo.roomInfo.playerInfos.forEach(function(t,n){t.playerId!=h.DataManager.playerInfo.accountId&&(t.id=t.playerId,e.pipei.showUserItem(t,n))}),c.PDKRoomInfo.roomInfo.playerInfos.length==l.PDKDefine.GAME_PLAYER&&(this.pipei&&this.pipei.node.destroy(),this.pipei=null)),console.log("\u521d\u59cb\u5316\u754c\u9762PDKGameView:initView");var t=c.PDKRoomInfo.roomInfo.playerInfos;if(console.log("\u521d\u59cb\u5316\u754c\u9762",t),c.PDKRoomInfo.MY_DATA=null,this.optLayer.active=!1,this.PDKExtViewTs&&this.PDKExtViewTs.node&&this.PDKExtViewTs.node.destroy(),this.DisplayDissolution=!1,t.forEach(function(t,n){var i=c.PDKRoomInfo.getLocationID(t.position);e.PDKPlayer[i].setUserState(t.online),e.PDKPlayer[i]&&(e.PDKPlayer[i].node.opacity=255,e.PDKPlayer[i].node.active=!0,e.PDKPlayer[i].setPiao(!1,0),e.PDKPlayer[i].initUserInfo(t),console.log("\u662f\u5426\u91cd\u8fde",c.PDKRoomInfo.isReconnect),e.PDKPlayer[i].setReady(!1),c.PDKRoomInfo.isReconnect||(202==t.state?e.PDKPlayer[i].setReady(!0):e.PDKPlayer[i].setReady(!1)),e.PDKPlayer[i].removeOutCard(),e.PDKPlayer[i].cardCount.node.active=!1,e.PDKPlayer[i].showPass(!1),e.PDKPlayer[i].stopAlarmAnim(),e.PDKPlayer[i].handCard_area.removeAllChildren()),t.playerId==c.PDKRoomInfo.myDataInfo.playerId&&202==t.state&&(e.btn_start.active=!1)}),this.JendOne=!1,this.CardsNumber=0,c.PDKRoomInfo.isReconnect){this.btn_start.active=!1;var n=-1;if(t.forEach(function(e,t){e.state==l.PDKDefine.PSRF_CHUPAI&&(n=e.position)}),-1!=n){if(this.sendCards(n),c.PDKRoomInfo.lastOutCard.cards.length>0){var i=c.PDKRoomInfo.getLocationID(c.PDKRoomInfo.lastOutCard.position);this.PDKPlayer[i].outUserCards(c.PDKRoomInfo.lastOutCard.cards)}}else this.updateXuanPiao(t)}this.updatePlayNumber(c.PDKRoomInfo.roomInfo.pan||0);for(var r=0;r<c.PDKRoomInfo.roomInfo.playerInfos.length;r++){var a=c.PDKRoomInfo.roomInfo.playerInfos[r];a.playerId==h.DataManager.playerInfo.id.toString()&&201==a.state&&(this.mWanfaNode.active=!c.PDKRoomInfo.roomInfo.pan)}var s=this;p.EventManager.on(this,g.EventPDKCmd.CLICK_CHANGEDESK,function(e){console.log("\u6ce8\u518c\u6362\u684c\u4e8b\u4ef6",e),s.pipei=e.ts,s.PDKPlayer[0].setReady(!0),s.PDKPlayer.forEach(function(e){console.log(e),e.initUser()})}),o.NetManager.protocolPDK.setGameThis(this)},t.prototype.updateTipsStatus=function(e){this.btnTips.getComponent(cc.Button).interactable=e},t.prototype.updateOutCardStatus=function(e){void 0===e&&(e=!1),e||(this.btnOutCard.getComponent(cc.Button).interactable=!1);var t=this.PDKPlayer[0].selectHandCards,n=c.PDKRoomInfo.lastOutCard;if(n.playerID&&n.position!==c.PDKRoomInfo.myDataInfo.position){if(t.length>0){var i=this.PDKCardTypeTool.compareCards(t,n.cards);console.log("\u66f4\u65b0\u51fa\u724c\u72b6\u6001:",i),this.btnOutCard.getComponent(cc.Button).interactable=1===i.result}}else{var r=this.PDKCardTypeTool.checkCards(t);this.btnOutCard.getComponent(cc.Button).interactable=0!=r&&-1!=r&&t.length>0}},t.prototype.updatePlayNumber=function(e){this.mPlayNumber.string=e+"/"+c.PDKRoomInfo.roomInfo.param.juShu+"\u5c40"},t.prototype.sendCards=function(e){var t=this;c.PDKRoomInfo.roomInfo.playerInfos.forEach(function(n,i){var r=c.PDKRoomInfo.getLocationID(n.position);if(t.PDKPlayer[r].setPiao(!0,n.piao),t.PDKPlayer[r].setReady(!1),t.PDKPlayer[r].handCard_area.active=!0,t.PDKPlayer[r].cardCount.node.active=!0,0===r){console.log("\u53d1\u724c1111:",n.cards),t.PDKPlayer[r].setUserCards(n.cards);cc.winSize.width}else n.cardCount!=l.PDKDefine.CARDS_COUNT||null!=n.cardCount?t.PDKPlayer[r].setUserCardBack(n.cardCount):t.PDKPlayer[r].setUserCardBack(l.PDKDefine.CARDS_COUNT);t.PDKPlayer[r].showBanker(n.position===e),t.setCurOptUser(e,n.endTime)})},t.prototype.updateUserPiao=function(e){var t=c.PDKRoomInfo.getLocationID(e.position);this.PDKPlayer[t].setPiao(!0,e.piao);for(var n=0;n<c.PDKRoomInfo.roomInfo.playerInfos.length;n++)c.PDKRoomInfo.roomInfo.playerInfos[n].playerId==e.playerId&&(c.PDKRoomInfo.roomInfo.playerInfos[n].piao=e.piao)},t.prototype.outCards=function(e){console.log("outCards\u6570\u91cf",e),this.CardsNumber=e.cardType,this.tipsCardsList_index=0;var t=c.PDKRoomInfo.getLocationID(e.position);if(this.PDKPlayer[t].outUserCards(e.cards),0==t){c.PDKRoomInfo.delectMyCards(e.cards);var n=c.PDKRoomInfo.myDataInfo.cards;this.PDKPlayer[t].setUserCards(n),2===n.length?this.playPdkEffect("Man_baojing2"):1===n.length&&(this.playPdkEffect("Man_baojing1"),this.PDKPlayer[t].playAlarmAnim())}else{var i=c.PDKRoomInfo.getUserCardsCount(e.playerID,e.cards.length);this.PDKPlayer[t].updateUserCardCount(i),2===i?this.playPdkEffect("Man_baojing2"):1===i&&(this.playPdkEffect("Man_baojing1"),this.PDKPlayer[t].playAlarmAnim())}var r=this.PDKCardTypeTool.checkCards(e.cards);0!==r&&this.playPdkEffect(r)},t.prototype.playPdkEffect=function(e){switch(e.type){case 1:u.AudioManager.playSFX("pdk_sound/Man_"+(e.value+3)+".mp3");break;case 2:u.AudioManager.playSFX("pdk_sound/Man_dui"+(e.value+3)+".mp3");break;case 3:u.AudioManager.playSFX("pdk_sound/Man_shunzi.mp3"),this.playPdkAnim("animShunzi"),u.AudioManager.playSFX("pdk_sound/texiao/effect_sequence.mp3");break;case 4:u.AudioManager.playSFX("pdk_sound/Man_liandui.mp3"),this.playPdkAnim("animLiandui");break;case 5:u.AudioManager.playSFX("pdk_sound/Man_sandaiyidui.mp3");break;case 6:u.AudioManager.playSFX("pdk_sound/Man_feiji.mp3"),this.playPdkAnim("animFeiji"),u.AudioManager.playSFX("pdk_sound/texiao/airplane.mp3");break;case 7:u.AudioManager.playSFX("pdk_sound/Man_tuple"+(e.value+3)+".mp3");break;case 8:u.AudioManager.playSFX("pdk_sound/Man_sandaiyi.mp3");break;case 9:u.AudioManager.playSFX("pdk_sound/poker4d3.mp3");break;case 10:u.AudioManager.playSFX("pdk_sound/Man_zhadan.mp3"),this.playPdkAnim("animBomb"),u.AudioManager.playSFX("pdk_sound/texiao/effect_bomb.mp3");break;default:u.AudioManager.playSFX("pdk_sound/"+e+".mp3")}},t.prototype.playPdkAnim=function(e){this.mAnimation.node.active=!0,this.mAnimation.play(e)},t.prototype.playChat=function(e,t){var n=c.PDKRoomInfo.getLocationID(e),i=l.CHAT_Mp3[t];u.AudioManager.playSFX(i),this.PDKPlayer[n].setChatContent(l.CHAT_TEXT[t])},t.prototype.playExpression=function(e,t,n){var i=l.SKE_ANIM[n],r=this,a=d.SKE_Mp3[n];cc.loader.loadRes("game/kwx/skeleton/"+i,sp.SkeletonData,function(n,i){var o=r.PDKPlayer[c.PDKRoomInfo.getLocationID(e)].node.getChildByName("iconBg").position,s=r.PDKPlayer[c.PDKRoomInfo.getLocationID(t)].node.getChildByName("iconBg").position;console.log("============="),console.log(o),console.log(s);var l=new cc.Node;l.position=o;var h=l.addComponent(sp.Skeleton);h.skeletonData=i,h.premultipliedAlpha=!1,r.node.addChild(l);var f=[];for(var d in h.skeletonData.skeletonJson.animations)console.log(d),f.push(d);var p=f[0];l.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(.5,s),cc.callFunc(function(){u.AudioManager.playSFX(a+".mp3"),h.setAnimation(0,p,!1)}))),h.setCompleteListener(function(){l.destroy()})})},t.prototype.nextUserOpt=function(e,t){this.setCurOptUser(e.position,t);for(var n=c.PDKRoomInfo.roomInfo.playerInfos,i=0;i<n.length;i++)if(n[i].position===e.position){var r=c.PDKRoomInfo.getLocationID(e.position);this.PDKPlayer[r].removeOutCard(),this.PDKPlayer[r].showPass(!1),e.position==c.PDKRoomInfo.myDataInfo.position&&1!==t&&e.position!=c.PDKRoomInfo.lastOutCard.position&&c.PDKRoomInfo.lastOutCard.cards.length>1&&this.onClickTips()}else{var a=c.PDKRoomInfo.getLocationID(n[i].position);this.PDKPlayer[a].stopClock()}},t.prototype.guoPaiUser=function(e,t){var n=this;this.nextUserOpt(e,1),this.optLayer.active=!1,this.scheduleOnce(function(){var i=c.PDKRoomInfo.getLocationID(e.position);n.PDKPlayer[i].showPass(!0),n.PDKPlayer[i].removeOutCard(),n.PDKPlayer[i].stopClock(),n.playPdkEffect("Man_buyao1"),t()},1)},t.prototype.updateXuanPiao=function(e){console.log("updateXuanPiao",e);for(var t=0;t<e.length;t++)if(e[t].selecting)if(e[t].state==l.PDKDefine.XUAN_PIAO)e[t].playerId==c.PDKRoomInfo.myDataInfo.playerId&&this.setPiaoLayer(!0);else{var n=c.PDKRoomInfo.getLocationID(e[t].position);this.PDKPlayer[n]&&this.PDKPlayer[n].setPiao(!0,e[t].piao)}},t.prototype.setPiaoLayer=function(e){this.piaoLayer.active=e,this.optLayer.active=!1},t.prototype.onClickPiao=function(e){var t=e.target.name;console.log("TTTTT",t);var n=0;"piao0"==t?n=0:"piao1"==t?n=1:"piao2"==t&&(n=2),o.NetManager.protocolPDK.sendC2S_XuanPiao(n),this.setPiaoLayer(!1)},t.prototype.setCurOptUser=function(e,t){console.log("setCurOptUser"),console.log("\u662f\u5426\u5728\u9009\u6f02\u4e2d:",l.PDKDefine.XUAN_PIAO),this.optLayer.active=e==c.PDKRoomInfo.myDataInfo.position,this.updateTipsStatus(c.PDKRoomInfo.lastOutCard.cards.length>0&&c.PDKRoomInfo.lastOutCard.position!=e),this.updateOutCardStatus();var n=c.PDKRoomInfo.getLocationID(e);this.PDKPlayer[n].startClock(t)},t.prototype.showEndOne=function(e){var t=this;console.log("showEndOne",e),this.node.getChildByName("ExitView")&&(this.node.getChildByName("ExitView").active=!1),this.DisplayDissolution=!0,this.optLayer.active=!1,c.PDKRoomInfo.roomInfo.playerInfos.forEach(function(e){e.cards=[]}),e.endInfo.forEach(function(e,n){var i=c.PDKRoomInfo.getLocationID(e.position);t.PDKPlayer[i].setUserScore(e.score/100)}),this.node.getChildByName("node_endOne").getComponent("PDKEndOne").onShowEndOne(e,this,10)},t.prototype.showTotalEnd=function(e){this.totalData=e},t.prototype.userExitRoom=function(e){var t=this;if(e.playerId==h.DataManager.playerInfo.accountId)h.DataManager.gameLinkType=!1,a.UIManager.open("prefabs/club/ClubHall",null,function(){t.node.destroy()});else{var n=c.PDKRoomInfo.getLocationID(e.positon);this.PDKPlayer[n].node.opacity=0,this.PDKPlayer[n].node.active=!1,c.PDKRoomInfo.roomInfo.pan||(c.PDKRoomInfo.removeRoomUser(e),c.PDKRoomInfo.roomInfo.param.match&&o.NetManager.protocolKWX.sendC2S_ExitRoom())}},t.prototype.MoveLine=function(e){console.log(e),this.PDKCardTypeTool.Move_CheckRFCT_SINGLE_LINE(e),console.log(this.PDKCardTypeTool.Move_CheckRFCT_SINGLE_LINE(e))},t.prototype.onClickTips=function(){if(console.log("\u83b7\u53d6\u4e0a\u5bb6\u6253\u51fa\u6765\u7684\u724c"),c.PDKRoomInfo.lastOutCard&&c.PDKRoomInfo.lastOutCard.playerID&&c.PDKRoomInfo.lastOutCard.playerID!=c.PDKRoomInfo.myDataInfo.playerId){var e=c.PDKRoomInfo.lastOutCard.cardType;if(console.log(e),this.tipsCardsList=this.PDKCardTypeTool.findCardsByTypeAndValue(c.PDKRoomInfo.myDataInfo.cards,e,c.PDKRoomInfo.lastOutCard.cards),console.log(this.tipsCardsList),!(this.tipsCardsList.length<=0)){if(console.log("\u62a5\u5355:",parseInt(this.PDKPlayer[1].cardCount.string)),console.log("\u4e0a\u5bb6\u51fa\u724c\u6570\u91cf:",this.CardsNumber),1===parseInt(this.PDKPlayer[1].cardCount.string)&&1==this.CardsNumber){for(var t=[],n=0;n<this.tipsCardsList.length;++n)t.push(this.tipsCardsList[n]%100);for(var i=Math.max.apply(null,t),r=[],a=0;a<t.length;a++)if(i===t[a]&&r.push({n:t[a],x:a}),r.length>0)for(var o=0;o<t.length;o++)t[o]-1==r[r.length-1].n&&r.push({n:t[o],x:o});for(var s=[],l=r,u=0;u<l.length;u++)s=this.tipsCardsList[l[u].x]}else s=this.tipsCardsList[this.tipsCardsList_index];console.log("\u63d0\u793a\u724c:",this.tipsCardsList),console.log("onClickTips",s),this.PDKPlayer[0].selectCards(s),this.tipsCardsList_index=(this.tipsCardsList_index+1)%this.tipsCardsList.length,this.updateOutCardStatus(!0)}}else this.PDKPlayer[0].selectCards([c.PDKRoomInfo.myDataInfo.cards[0]])},t.prototype.isMaxCard=function(e){console.log("isMaxCard====");for(var t=c.PDKRoomInfo.myDataInfo.cards,n=0;n<t.length;n++)if(e<t[n]%100)return!1;return!0},t.prototype.onClickOutCard=function(e){console.log("onClickOutCard\u724c\u578b:");var t=this.PDKPlayer[0].selectHandCards;console.log("onClickOutCard\u724c\u578b:",t);var n=this.PDKCardTypeTool.checkCards(t);if(0!=n&&-1!=n){if(1===parseInt(this.PDKPlayer[1].cardCount.string)&&n.type===l.PDKCardType.RFCT_SINGLE&&(12==n.value&&(n.value=17),!this.isMaxCard(n.value+3)))return console.log("\u5bf9\u65b9\u62a5\u5355"),void a.UIManager.showTips("\u4e0b\u5bb6\u5df2\u62a5\u5355\uff0c\u8981\u51fa\u6700\u5927\u7684\u724c");var i=!1;if(this.isCasualOutCard())i=!0;else 1===this.PDKCardTypeTool.compareCards(t,c.PDKRoomInfo.lastOutCard.cards).result&&(i=!0);i?(o.NetManager.protocolPDK.sendC2S_RFPlayCars(t,n.type),this.PDKPlayer[0].stopClock()):0==n&&a.UIManager.showTips("\u724c\u578b\u9519\u8bef")}else a.UIManager.showTips("\u724c\u578b\u9519\u8bef")},t.prototype.isCasualOutCard=function(){return!c.PDKRoomInfo.lastOutCard.playerID||c.PDKRoomInfo.lastOutCard.playerID==c.PDKRoomInfo.myDataInfo.playerId},t.prototype.onClickReady=function(e){o.NetManager.protocolPDK.sendC2S_Ready(),this.btn_start.active=!1;for(var t=0;t<c.PDKRoomInfo.roomInfo.playerInfos.length;t++){var n=c.PDKRoomInfo.roomInfo.playerInfos[t];n.playerId==h.DataManager.playerInfo.id.toString()&&(n.state=202)}this.mWanfaNode.active=!1,this.PDKPlayer[0].setReady(!0)},t.prototype.userReady=function(e,t){var n=c.PDKRoomInfo.getLocationID(e);this.PDKPlayer[n].setReady(t)},t.prototype.showBombScore=function(e){for(var t=0;t<e.length;t++){var n=c.PDKRoomInfo.getLocationID(e[t].position);this.PDKPlayer[n].showBombScore(e[t].winBoomScore/100),this.PDKPlayer[n].setUserScore(e[t].score/100)}},t.prototype.initPlayStr=function(){this.mWanfaNode.getChildByName("cardCount").getComponent(cc.Label).string="\u8dd1\u5f97\u5feb"+l.PDKDefine.CARDS_COUNT+"\u5f20",this.mWanfaNode.getChildByName("difen").getComponent(cc.Label).string="\u5e95\u5206\uff1a"+f.DataManagerClub.divide100Double(c.PDKRoomInfo.roomInfo.param.radix),this.mWanfaNode.getChildByName("renshu").getComponent(cc.Label).string="\u4eba\u6570\uff1a"+c.PDKRoomInfo.roomInfo.param.playerCount,this.mWanfaNode.getChildByName("zunru").getComponent(cc.Label).string="\u51c6\u5165\uff1a"+f.DataManagerClub.divide100Double(c.PDKRoomInfo.roomInfo.param.joinLimit),this.mWanfaNode.getChildByName("chuju").getComponent(cc.Label).string="\u51fa\u5c40\uff1a"+f.DataManagerClub.divide100Double(c.PDKRoomInfo.roomInfo.param.leavelimit),this.mWanfaNode.getChildByName("wanfa").getComponent(cc.Label).string="\u73a9\u6cd5\uff1a"+c.PDKRoomInfo.getWanfaStr()},t.prototype.onClickWanfa=function(e){this.mWanfaNode.active=!this.mWanfaNode.active},t.prototype.onClickMenu=function(e){this.mMenuNode.active=!this.mMenuNode.active,this.mMenuNode.active&&this.huifang&&(this.mMenuNode.getChildByName("Node").getChildByName("btn_color").active=!1,this.mMenuNode.getChildByName("Node").getChildByName("btn_set").active=!1)},t.prototype.onClickJiesan=function(e){var t=this;if(this.huifang)u.AudioManager.playHallBGM(),u.AudioManager.setBGMVolume(.3),this.close();else{if(c.PDKRoomInfo.PlaybackRoomInfo)return void a.UIManager.open("prefabs/club/ClubHall",null,function(){c.PDKRoomInfo.resetRoomInfoData(),t.node.destroy()});this.node.getChildByName("settingNode").getComponent("PDKSettingView").onShowView(0),this.mMenuNode.active=!1}},t.prototype.onSkin=function(e){this.node.getChildByName("settingNode").getComponent("PDKSettingView").onShowView(2)},t.prototype.onClickSetting=function(e){this.node.getChildByName("settingNode").getComponent("PDKSettingView").onShowView(1)},t.prototype.onClickMenuchat=function(e){this.mMenuChat.active=!this.mMenuChat.active},t.prototype.onExitGame=function(e){if(!this.DisplayDissolution)if(this.node.getChildByName("ExitView"))console.log("\u89e3\u6563\u6253\u5f00\u72b6\u6001\u5c31\u4e0d\u518d\u6253\u5f00");else{var t=cc.instantiate(this.PDKExitView);this.node.addChild(t),this.PDKExtViewTs=t.getComponent("PDKExitView"),this.PDKExtViewTs._gameView=this,this.PDKExtViewTs.initData(e)}},t.prototype.onSubExit=function(e){console.log("\u89e3\u6563\u66f4\u65b0\u73a9\u5bb6\u9009\u62e9:",e),this.PDKExtViewTs.onSubExit(e),this.JendOne=!0},t.prototype.onPDKSetbackground=function(e){for(var t=e.target.name,n=0;n<7;n++){this.mmbj[n].active=!1;var i=n+1,r="toggle"+i;t==r&&(console.log("name:",t),console.log("names:",r),console.log("i:",n),console.log("v:",i),this.mmbj[n].active=!0,h.DataManager.storage.set("PDKSetbackground",i))}},t.prototype.onRaumerneuerung=function(){console.log("onRaumerneuerung"),o.NetManager.protocolPDK.sendC2S_GetRoomInfo()},t.prototype.ClubMatchPlayers=function(e){console.log("\u5339\u914d\u6362\u684c\u5173\u95ed\u7ed3\u7b97\u754c\u9762"),this.node.getChildByName("node_endOne").active=!1,c.PDKRoomInfo.MY_DATA=e.mpi,c.PDKRoomInfo.roomInfo.playerInfos=e.mpi},t.prototype.onRefresh=function(){console.log("onRefresh"),o.NetManager.protocolPDK.sendC2S_GetRoomInfo()},r([w(cc.Node)],t.prototype,"mMenuNode",void 0),r([w(cc.Node)],t.prototype,"mMenuChat",void 0),r([w(cc.Node)],t.prototype,"mNode_oper",void 0),r([w(s.default)],t.prototype,"PDKPlayer",void 0),r([w(cc.Prefab)],t.prototype,"PDKExitView",void 0),r([w(cc.Label)],t.prototype,"mPlayNumber",void 0),r([w(cc.Node)],t.prototype,"mWanfaNode",void 0),r([w(cc.Animation)],t.prototype,"mAnimation",void 0),r([w(cc.Node)],t.prototype,"NetworkType",void 0),r([w(cc.Node)],t.prototype,"powers",void 0),r([w(cc.Node)],t.prototype,"powers1",void 0),r([w(cc.Label)],t.prototype,"Timedata",void 0),r([w(cc.Node)],t.prototype,"mNetworkzt",void 0),r([w(cc.Node)],t.prototype,"mmbj",void 0),r([w(cc.EditBox)],t.prototype,"input_p",void 0),r([w(cc.Node)],t.prototype,"mtool",void 0),t=r([S],t)}(m.default);n.default=D,cc._RF.pop()},{"../../Define":"Define","../../common/utils/Utils":"Utils","../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/DataManagerClub":"DataManagerClub","../../manager/EventClubDef":"EventClubDef","../../manager/EventManager":"EventManager","../../manager/NetManager":"NetManager","../../manager/UIManager":"UIManager","../../net/NetCmd":"NetCmd","../../view/base/BaseView":"BaseView","../kwx/KWXDefine":"KWXDefine","./PDKCardTypeTool":"PDKCardTypeTool","./PDKDefine":"PDKDefine","./PDKPlayer":"PDKPlayer","./PDKRoomInfo":"PDKRoomInfo","./protocol/PDKCmd":"PDKCmd"}],PDKPlaybackEnd:[function(e,t,n){"use strict";cc._RF.push(t,"f0ee6yuT5dJmqK1hf8csXRX","PDKPlaybackEnd");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../PDKRoomInfo"),o=cc._decorator,s=o.ccclass,c=o.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=[],t}return i(t,e),t.prototype.onLoad=function(){},t.prototype.onShowEnd=function(e){for(var t=0;t<e.length;t++){var n=a.PDKRoomInfo.getLocationID(e[t].position);this.player[n].active=!0,this.player[n].getChildByName("score").getComponent(cc.Label).string=e[t].score_add/100+"",e[t].score_add>0?this.player[n].getChildByName("score").color=cc.color(255,80,0):this.player[n].getChildByName("score").color=cc.color(255,255,255)}},r([c(cc.Node)],t.prototype,"player",void 0),t=r([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../PDKRoomInfo":"PDKRoomInfo"}],PDKPlayerInfo:[function(e,t,n){"use strict";cc._RF.push(t,"9e548I51W9DgZsDEbtGIgWk","PDKPlayerInfo");var i=f(e("../../view/base/BaseView")),r=f(e("../../common/UIHelper")),a=e("../../manager/DataManagerClub"),o=e("../../manager/DataManager"),s=e("./PDKRoomInfo"),c=e("../../manager/NetManager"),l=e("./PDKDefine"),u=e("../../manager/UIManager"),h=(f(e("../kwx/KWXGameView")),f(e("./PDKGameView")));function f(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mName:cc.Label,mId:cc.Label,mScore:cc.Label,spr_head:cc.Sprite,mScrollView:cc.ScrollView,emo:cc.Node,gray:cc.Material,gray1:cc.Material},start:function(){this.mName.string="\u6635\u79f0:"+this.data.name,this.mId.string=this.data.playerId,this.mScore.string="\u79ef\u5206:"+a.DataManagerClub.divide100Double(this.data.score),this.setUserHead(this.data.icon),this.setNormal()},setUserHead:function(e){r.default.loadHead(e,this.spr_head.node)},setGray:function(){for(var e=this.emo.children,t=0;t<e.length;t++){e[t].getComponent(cc.Sprite).setMaterial(0,this.gray)}},setNormal:function(){if(h.default.Gray||this.data.playerId==o.DataManager.playerInfo.accountId)this.setGray();else{for(var e=this.emo.children,t=0;t<e.length;t++){e[t].getComponent(cc.Sprite).setMaterial(0,this.gray1)}for(var n=this.mScrollView.content.children,i=0;i<n.length;i++)n[i].index=i,n[i].on(cc.Node.EventType.TOUCH_END,this.onClickExpression,this)}},yanshi:function(){h.default.Gray=!0,setTimeout(function(){h.default.Gray=!1},8e3)},onClickExpression:function(e){this.data.playerId!=o.DataManager.playerInfo.accountId?(c.NetManager.protocolPDK.sendC2S_Magic(s.PDKRoomInfo.myDataInfo.position,this.data.position,e.target.index,-1,l.PDKDefine.Expression_Tag),this.yanshi(),this.close()):u.UIManager.showTips("\u4e0d\u80fd\u5bf9\u81ea\u5df1\u4f7f\u7528")}}),cc._RF.pop()},{"../../common/UIHelper":"UIHelper","../../manager/DataManager":"DataManager","../../manager/DataManagerClub":"DataManagerClub","../../manager/NetManager":"NetManager","../../manager/UIManager":"UIManager","../../view/base/BaseView":"BaseView","../kwx/KWXGameView":"KWXGameView","./PDKDefine":"PDKDefine","./PDKGameView":"PDKGameView","./PDKRoomInfo":"PDKRoomInfo"}],PDKPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"10af47ZsGRDLJcYsVQhXhW+","PDKPlayer");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../common/UIHelper"),c=e("../../common/utils/Utils"),l=e("../../manager/UIManager"),u=e("../../manager/ResManager"),h=e("../../manager/AudioManager"),f=e("./sunzi"),d=e("./PDKCardTypeTool"),p=cc._decorator,g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spr_head=null,t.label_id=null,t.label_name=null,t.label_money=null,t.handCard_area=null,t.outCard_area=null,t.spr_pass=null,t.cardPrefab=null,t.cardCount=null,t.clock=null,t.mSpPiao=null,t.readySp=null,t.chat=null,t.alert=null,t.boomScore=null,t.banker=null,t.btnOutCard=null,t.mOnline=null,t.TooY=0,t.interVal=null,t.selectHandCards=[],t.playerData=null,t.PDKCardTypeTool=null,t.sunzi=null,t.touchStartX=null,t.touchEndX=null,t.cardArr=[],t.number=0,t.ccc=[],t.huifang=!1,t}return i(t,e),t.prototype.onLoad=function(){this.node.active=!1,this.PDKCardTypeTool=new d,this.sunzi=new f.default},t.prototype.mhuifang=function(e){this.huifang=e},t.prototype.oncancelMoveCard=function(){if(console.log("\u53d6\u6d88\u4e0a\u5f39",this.huifang),!this.huifang){this.selectHandCards=[],this.btnOutCard.getComponent(cc.Button).interactable=!1;for(var e=0,t=this.handCard_area.children;e<t.length;e++){var n=t[e].getComponent("PDKCard");n.selected&&(n.node.y=90,n.selected=!1)}}},t.prototype.moveCard=function(e){!this.huifang&&this.handCard_area.children.length>0&&(console.log("\u4e0a\u5f39\u724c",e),this.updateSelectCards())},t.prototype.checkCard=function(e,t){for(var n=e.length-1;n>=0;n--){if(e[n].getBoundingBox().contains(t))return e[n].getComponent("PDKCard").isCheck=!0,e[n].color=cc.color(180,180,180),e[n]}},t.prototype.showBombScore=function(e){var t=this;this.boomScore.active=!0,this.boomScore.color=e>0?cc.color(0,255,0):cc.color(255,0,0),this.boomScore.getComponent(cc.Label).string=e>0?"+"+e:"-"+e,this.boomScore.runAction(cc.sequence(cc.moveBy(1,0,50),cc.callFunc(function(){t.boomScore.y=0,t.boomScore.active=!1})))},t.prototype.showBanker=function(e){this.banker.active=e},t.prototype.initUser=function(){this.spr_head.spriteFrame=null,this.label_name.string="",this.label_money.string="",this.banker.active=!1,this.node.active=!1,console.log("\u521d\u59cb\u5316\u7528\u6237")},t.prototype.setUserHead=function(e){s.default.loadHead(e,this.spr_head.node)},t.prototype.setUserScore=function(e){this.label_money.string="\u79ef\u5206\uff1a"+c.default.getFormatGold(e)},t.prototype.setReady=function(e){console.log("\u51c6\u5907\u597d\u4e86",e),this.readySp.active=e},t.prototype.playAlarmAnim=function(){this.alert.active=!0,this.alert.getComponent(cc.Animation).play()},t.prototype.stopAlarmAnim=function(){this.alert.getComponent(cc.Animation).stop(),this.alert.active=!1},t.prototype.setChatContent=function(e){var t=this;this.chat.stopAllActions(),this.chat.active=!0,this.chat.getChildByName("text").getComponent(cc.Label).string=e,this.chat.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.chat.active=!1})))},t.prototype.initUserInfo=function(e){console.log("\u7528\u6237\u4fe1\u606f\u4f20\u9012",e),this.node.active=!0,this.playerData=e,this.playerData.playerId=e.playerId||e.id;var t=c.default.getSubStringLengTxt(e.name),n=e.playerId||e.id;this.label_name.string=t,this.label_id.string=n,this.setUserHead(e.icon),this.setUserScore(e.score/100||0),console.log("\u8bbe\u7f6e\u7528\u6237\u4fe1\u606f"),this.spr_head.node.on(cc.Node.EventType.TOUCH_END,this.onPersonaldData,this),205==e.state&&this.startClock(e.endTime)},t.prototype.onPersonaldData=function(e){l.UIManager.popup("game/pdk/prefabs/PDKPlayerInfo",this.playerData)},t.prototype.setUserState=function(e){this.mOnline.active=e},t.prototype.setPiao=function(e,t){return void 0===t&&(t=0),a(this,void 0,void 0,function(){var n;return o(this,function(i){switch(i.label){case 0:return[4,u.ResManager.loadResAsync("game/pdk/view/acc/Piao"+t,cc.SpriteFrame)];case 1:return n=i.sent(),this.mSpPiao.getComponent(cc.Sprite).spriteFrame=n,this.mSpPiao.active=e,[2]}})})},t.prototype.startClock=function(e){if(console.log("\u542f\u52a8\u5012\u8ba1\u65f6",e),e>1e3){var t=(new Date).getTime();e=Math.ceil((1e3*e-t)/1e3)}this.stopClock(),e>0&&(this.clock.active=!0),this.clock.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(t){e>0?(t.getChildByName("time").getComponent(cc.Label).string=--e,3==e&&h.AudioManager.playSFX("pdk_sound/texiao/timeup_alarm.mp3")):console.log("\u5012\u8ba1\u65f6\u7ed3\u675f")})).repeat(e)),this.clock.getChildByName("time").getComponent(cc.Label).string=e},t.prototype.stopClock=function(){this.clock.stopAllActions(),this.clock.active=!1},t.prototype.showPass=function(e){this.spr_pass.active=e,e&&(this.spr_pass.scale=.8,this.spr_pass.runAction(cc.scaleTo(.2,1,1)))},t.prototype.updateSelectCards=function(){var e=this.handCard_area.children;this.selectHandCards=[];for(var t=0,n=e;t<n.length;t++){(s=n[t].getComponent("PDKCard")).selected&&this.selectHandCards.push(s.cardValue)}console.log("\u9009\u62e9\u7684\u724c",this.selectHandCards);var i=this.PDKCardTypeTool.checkCards(this.selectHandCards);if(console.log("\u724c\u578b:",i),4==i.type)console.log("\u8fde\u5bf9");else if(e.length>5&&6!=i.type&&4!=i.type&&3!=i.type){var r=this.sunzi.getShunCards(this.selectHandCards);if(console.log("\u987a\u5b50:",r),r){this.selectHandCards=[];for(var a=0,o=e;a<o.length;a++){var s=o[a].getComponent("PDKCard");console.log(r.includes(s.cardValue)),s.selected&&!r.includes(s.cardValue)&&(s.selected=!1,s.node.y=90)}for(var c=0,l=r;c<l.length;c++){var u=l[c];this.selectHandCards.push(u)}console.log("\u6ed1\u52a8\u8d85\u8fc75\u5f20\u724c",r)}}console.log("\u66f4\u65b0\u9009\u62e9\u7684\u724c:",this.selectHandCards),this.node.parent.getComponent("PDKGameView").updateOutCardStatus(!0)},t.prototype.selectCards=function(e){for(var t=this.handCard_area.children,n=0;n<t.length;n++){t[n].y=90,(r=t[n].getComponent("PDKCard")).selected=!1}for(n=0;n<t.length;n++)for(var i=0;i<e.length;i++){var r=t[n].getComponent("PDKCard");if(t[n].getComponent("PDKCard").cardValue==e[i]&&110!=t[n].y){t[n].y=110,r.selected=!0;break}}this.selectHandCards=e},t.prototype.setUserCards=function(e){this.handCard_area.removeAllChildren();for(var t=e.length-1;t>=0;t--){var n=cc.instantiate(this.cardPrefab);n.getComponent("PDKCard").initCard(e[t]);var i=cc.winSize.width;if(i<=1334){var r=i/2+(e.length-1)/2*60;n.scale=1,n.setPosition(cc.v3(r-60*t,90))}else{r=i/2+(e.length-1)/2*70;n.scale=1.2,n.setPosition(cc.v3(r-70*t,90))}this.handCard_area.addChild(n),this.cardArr.push(n)}0==e.length&&(this.cardCount.node.active=!1)},t.prototype.setPlayBackCards=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0),console.log("\u56de\u653e",t),this.handCard_area.removeAllChildren(),this.handCard_area.scale=.5,t?1==n?(this.handCard_area.anchorX=1,this.outCard_area.getComponent(cc.Widget).top=200):2==n&&(this.handCard_area.anchorX=0,this.outCard_area.getComponent(cc.Widget).top=200):this.outCard_area.y-=100;for(var i=e.length-1;i>=0;i--){var r=cc.instantiate(this.cardPrefab);r.getComponent("PDKCard").initCard(e[i]),this.handCard_area.addChild(r)}},t.prototype.setUserCardBack=function(e){console.log("\u8bbe\u7f6e\u7528\u6237\u724c\u80cc"+e);var t=cc.instantiate(this.cardPrefab);this.handCard_area.addChild(t),this.updateUserCardCount(e)},t.prototype.updateUserCardCount=function(e){console.log("\u66f4\u65b0\u7528\u6237\u724c\u8ba1\u6570"+e),this.cardCount.node.active=!0,this.cardCount.string=e},t.prototype.outUserCards=function(e){console.log("\u6253\u51fa\u7528\u6237\u724c",e),this.removeOutCard();var t=[];e.forEach(function(e,n){var i=e%100;t.push([i,n])});for(var n=[],i=0;i<t.length;i++){for(var r=0,a=0;a<t.length;a++)t[i][0]==t[a][0]&&r++;r>=3&&n.push(t[i][0])}var o=[];for(i=0;i<t.length;i++)t[i][0]==n[0]&&o.push(e[t[i][1]]);for(i=0;i<t.length;i++)t[i][0]!=n[0]&&o.push(e[t[i][1]]);e=o,console.log("\u91cd\u590d\u7684\u6570\u91cf",o),console.log("\u6253\u51fa\u7528\u6237\u724c",t);for(i=0;i<e.length;i++){var s=cc.instantiate(this.cardPrefab);s.getComponent("PDKCard").initCard(e[i]),this.outCard_area.addChild(s)}this.selectHandCards=[]},t.prototype.removePlaybackCards=function(e){for(var t=this.handCard_area.children,n=0;n<e.length;n++)for(var i=0;i<t.length;i++)t[i].getComponent("PDKCard").cardValue==e[n]&&t[i].destroy()},t.prototype.removeOutCard=function(){this.outCard_area.removeAllChildren(!0)},t.prototype.onDestroy=function(){this.unschedule(this.interVal),this.interVal=null},r([m(cc.Sprite)],t.prototype,"spr_head",void 0),r([m(cc.Label)],t.prototype,"label_id",void 0),r([m(cc.Label)],t.prototype,"label_name",void 0),r([m(cc.Label)],t.prototype,"label_money",void 0),r([m(cc.Node)],t.prototype,"handCard_area",void 0),r([m(cc.Node)],t.prototype,"outCard_area",void 0),r([m(cc.Node)],t.prototype,"spr_pass",void 0),r([m(cc.Prefab)],t.prototype,"cardPrefab",void 0),r([m(cc.Label)],t.prototype,"cardCount",void 0),r([m(cc.Node)],t.prototype,"clock",void 0),r([m(cc.Node)],t.prototype,"mSpPiao",void 0),r([m(cc.Node)],t.prototype,"readySp",void 0),r([m(cc.Node)],t.prototype,"chat",void 0),r([m(cc.Node)],t.prototype,"alert",void 0),r([m(cc.Node)],t.prototype,"boomScore",void 0),r([m(cc.Node)],t.prototype,"banker",void 0),r([m(cc.Node)],t.prototype,"btnOutCard",void 0),r([m(cc.Node)],t.prototype,"mOnline",void 0),r([m({tooltip:"\u8981\u4e0d\u8d77y\u4f4d\u7f6e"})],t.prototype,"TooY",void 0),t=r([g],t)}(cc.Component);n.default=y,cc._RF.pop()},{"../../common/UIHelper":"UIHelper","../../common/utils/Utils":"Utils","../../manager/AudioManager":"AudioManager","../../manager/ResManager":"ResManager","../../manager/UIManager":"UIManager","./PDKCardTypeTool":"PDKCardTypeTool","./sunzi":"sunzi"}],PDKRoomInfo:[function(e,t,n){"use strict";cc._RF.push(t,"1a3fdVoIilHgpk+VOhcQc27","PDKRoomInfo");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./PDKDefine"),a=e("../../manager/DataManager"),o=e("../../common/log/LogWrap"),s=cc._decorator,c=s.ccclass,l=(s.property,function(){function e(){this.roomInfo=null,this.myDataInfo=null,this.lastOutCard=null,this.isReconnect=!1,this.PlaybackRoomInfo=null,this.MY_DATA=null,this.pipei=[]}var t;return t=e,e.prototype.setPlaybackRoomInfo=function(e){if(e){this.PlaybackRoomInfo=e,r.PDKDefine.GAME_PLAYER=e.player_info.length;for(var t=0;t<e.player_info.length;t++){var n=e.player_info;this.sortCards(n[t].shoupai),n[t].id==a.DataManager.playerInfo.accountId&&(this.myDataInfo=n[t],this.myDataInfo.cards=n[t].shoupai)}}},e.prototype.setRoomInfo=function(e){console.log("\u8bbe\u7f6e\u623f\u95f4\u4fe1\u606f"),console.log(e),this.roomInfo=e,this.roomInfo.playerInfos=e.playerInfos;for(var t=0;t<e.playerInfos.length;t++)e.playerInfos[t].playerId==a.DataManager.playerInfo.accountId?(1==e.param.param[3]?r.PDKDefine.XUAN_PIAO_TYPE=1:2==e.param.param[3]&&(r.PDKDefine.XUAN_PIAO_TYPE=2),this.myDataInfo=e.playerInfos[t]):e.playerInfos[t].cardCount!=r.PDKDefine.CARDS_COUNT?(n.PDKRoomInfo.roomInfo.playerInfos[t].cardsCount=e.playerInfos[t].cardCount,console.log("setRoomInfo\u4e0d\u7b49\u4e8e15:"+n.PDKRoomInfo.roomInfo.playerInfos[t].cardsCount)):(e.playerInfos[t].cardsCount=r.PDKDefine.CARDS_COUNT,console.log("setRoomInfo\u7b49\u4e8e15:"+e.playerInfos[t].cardsCount));n.PDKRoomInfo.roomInfo.roomState},e.prototype.updateUserScore=function(e){var t=this.roomInfo.playerInfos;t||o.LogWrap.err("\u66f4\u65b0\u7528\u6237\u5206playerInfosERR",t);for(var n=0;n<e.length;n++)for(var i=0;i<t.length;i++)e[n].playerID==t[i].playerId&&(null!=e[n].score?t[i].score=e[n].score:o.LogWrap.err("\u66f4\u65b0\u7528\u6237\u5206err",e[i]))},e.prototype.resetRoomInfoData=function(){this.roomInfo=null,this.myDataInfo=null,this.lastOutCard=null,this.isReconnect=!1,this.PlaybackRoomInfo=null},e.prototype.getPlayerInfoByPlayerId=function(e){for(var t=this.roomInfo.playerInfos,n=0;n<t.length;n++)if(t[n].playerId==e)return t[n]},e.prototype.updateMyCards=function(e){console.log("\u66f4\u65b0\u6211\u7684\u724c",e),this.sortCards(e),this.myDataInfo.cards=e},e.prototype.initUserCardCount=function(){var e=this.roomInfo.playerInfos;console.log("\u521d\u59cb\u5316\u7528\u6237\u724c\u6570\u91cf"),console.log(e);for(var t=0;t<e.length;t++)e[t].cardsCount=r.PDKDefine.CARDS_COUNT,e[t].cardCount=r.PDKDefine.CARDS_COUNT},e.prototype.updateGameTimes=function(e){this.roomInfo.pan=e},e.prototype.removeRoomUser=function(e){for(var t=this.roomInfo.playerInfos,n=0;n<t.length;n++)t[n].playerId==e.playerId&&(t.splice(n,1),console.log("\u5220\u9664\u7528\u6237:",t))},e.prototype.addUserInRoom=function(e){console.log("\u5728\u623f\u95f4\u4e2d\u6dfb\u52a0\u7528\u6237",e),e.cardsCount=r.PDKDefine.CARDS_COUNT;var t=!1;if(this.roomInfo.playerInfos.length){console.log("\u5728\u623f\u95f4\u4e2d\u6dfb\u52a0\u7528\u62370:",this.roomInfo.playerInfos);for(var n=0;n<this.roomInfo.playerInfos.length;n++)this.roomInfo.playerInfos[n].playerId==e.playerId&&(this.roomInfo.playerInfos[n]=e,t=!0)}t||this.roomInfo.playerInfos.push(e)},e.prototype.delectMyCards=function(e){for(var t=0;t<e.length;t++){var n=this.myDataInfo.cards.indexOf(e[t]);-1!=n&&this.myDataInfo.cards.splice(n,1)}},e.prototype.getUserCardsCount=function(e,t){var n=this.roomInfo.playerInfos;console.log("==========================="),console.log(t),console.log(n);for(var i=0;i<n.length;i++)if(n[i].playerId==e)return n[i].cardsCount-=t,console.log("getUserCardsCount\u724c\u6570\u91cf"+n[i].cardsCount),n[i].cardsCount},e.prototype.getLocationID=function(e){if(2==r.PDKDefine.GAME_PLAYER)return this.myDataInfo.position==e?0:1;var t=this.myDataInfo.position,n=e,i=r.PDKDefine.GAME_PLAYER;return(n-t+i)%i},e.prototype.sortCards=function(e){e.sort(function(e,t){return e%100>t%100?1:e%100==t%100&&e/100>t/100?1:-1})},e.prototype.updateLastOutCard=function(e){this.lastOutCard=e,this.lastOutCard||(this.lastOutCard={cardType:null,cards:[],maxCard:null,playerID:null,position:null}),console.log("\u6700\u540e\u4e00\u6b21\u51fa\u724c",this.lastOutCard)},e.prototype.getWanfaStr=function(){var e=this.roomInfo.param,t=e.juShu+"\u5c40  ";return t+=e.match?"\u5339\u914d\u5c40  ":"\u666e\u901a\u5c40  ",1==e.param[7]&&(t+=r.PDKDefine.CARDS_COUNT+"\u5f20\u6293\u9e1f  "),1==e.param[5]&&(t+="\u56db\u5e26\u4e09  "),0==e.param[3]?t+="\u4e0d\u6f02  ":4==e.param[3]?t+="\u6bcf\u573a\u9009\u6f02  ":1==e.param[3]?t+="\u5b9a\u6f02\u4e00  ":t+="\u5b9a\u6f02\u4e8c  ",1==e.param[8]&&(t+="\u53cd\u6625\u5929  "),1==e.param[10]?t+="\u9996\u5c40\u5e78\u8fd0\u7ffb\u724c  ":t+="\u9ed1\u68433\u5148\u51fa  ",t+="\u70b8\u5f3910\u5206  ",t+="\u70b8\u5f39\u53ef\u62c6  ",t+="\u4e09\u4ee3\u4e8c  ",t+="\u53ef\u7529\u5c3e  "},e.instance=new t,e=t=i([c],e)}());n.default=l,n.PDKRoomInfo=l.instance,cc._RF.pop()},{"../../common/log/LogWrap":"LogWrap","../../manager/DataManager":"DataManager","./PDKDefine":"PDKDefine"}],PDKSettingView:[function(e,t,n){"use strict";cc._RF.push(t,"e3b3dx6+plKnJGKAZbC70Bq","PDKSettingView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../manager/NetManager"),o=e("../../../manager/AudioManager"),s=e("../../../manager/DataManager"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mSetting=null,t.mDissolve=null,t.mPifu=null,t}return i(t,e),t.prototype.onLoad=function(){var e=s.DataManager.storage.get("Music_switch"),t=s.DataManager.storage.get("Music_YinXiaoQuan"),n=this.mSetting.getChildByName("yinyueNode").getChildByName("Toggle");null==e?(n.getComponent(cc.Toggle).isChecked=!0,o.AudioManager.setBGMVolume(.3)):(1==e&&o.AudioManager.setBGMVolume(.3),n.getComponent(cc.Toggle).isChecked=e);var i=this.mSetting.getChildByName("yinxiaoNode").getChildByName("Toggle");i.getComponent(cc.Toggle).isChecked=null==t||t},t.prototype.start=function(){},t.prototype.onShowView=function(e){if(this.node.active=!0,this.mDissolve.active=0===e,this.mSetting.active=1===e,this.mPifu.active=2===e,2==e)for(var t=s.DataManager.storage.get("PDKSetbackground"),n=1;n<12;n++)t==n&&(this.mPifu.getChildByName("gameBg").getChildByName("ToggleContainer").getChildByName("toggle"+n).getComponent(cc.Toggle).isChecked=!0)},t.prototype.onClickClose=function(e){this.node.active=!1},t.prototype.onClickJiesan=function(e){this.node.active=!1,a.NetManager.protocolPDK.sendC2S_JieShanApply()},t.prototype.onClickMusic=function(e){e.isChecked?(s.DataManager.storage.set("Music_switch",!0),o.AudioManager.setBGMVolume(.3)):(o.AudioManager.setBGMVolume(0),s.DataManager.storage.set("Music_switch",!1))},t.prototype.onClickEffect=function(e){e.isChecked?(o.AudioManager.setSFXVolume(1),s.DataManager.storage.set("Music_YinXiaoQuan",!0)):(o.AudioManager.setSFXVolume(0),s.DataManager.storage.set("Music_YinXiaoQuan",!1))},r([u(cc.Node)],t.prototype,"mSetting",void 0),r([u(cc.Node)],t.prototype,"mDissolve",void 0),r([u(cc.Node)],t.prototype,"mPifu",void 0),t=r([l],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../manager/AudioManager":"AudioManager","../../../manager/DataManager":"DataManager","../../../manager/NetManager":"NetManager"}],PhoneView:[function(e,t,n){"use strict";cc._RF.push(t,"07a84qAaHNI9LlSoeRNggz0","PhoneView");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../manager/UIManager"),o=e("../manager/NetManager"),s=e("./base/PopupView"),c=e("../manager/DataManager"),l=e("../net/NetCode"),u=e("../net/HttpUrl"),h=e("../manager/AudioManager"),f=e("../common/Device"),d=e("../manager/SoundEffect"),p=cc._decorator,g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.input_p=null,t.input_m=null,t.time=null,t.kai=null,t.guan=null,t.btn_login=null,t.daojishi=60,t.getState=!1,t}return i(t,e),t.prototype.start=function(){a.UIManager.hideMarquee();var e=c.DataManager.storage.get("phone_number");void 0!=e&&null!=e&&""!=e&&(this.input_p.textLabel.node.active=!0,this.input_p.placeholderLabel.node.active=!1,this.input_p.textLabel.string=e),null!=c.DataManager.storage.get("Countdowntime")&&this.schedule(this.DoSomething,1)},t.prototype.onLoad=function(){},t.prototype.onClose=function(){h.AudioManager.playSFX(d.SoundEffect.button),this.close()},t.prototype.onTouchS=function(){var e=c.DataManager.storage.get("phone_number");e&&(this.input_p.node.getChildByName("input_phone").getComponent(cc.Label).string=e,this.input_p.string=e)},t.prototype.onGet=function(){h.AudioManager.playSFX(d.SoundEffect.button);var e=this.input_p.textLabel.string;if(e&&11==e.length)if(/^1[3456789]\d{9}$/.test(e)){c.DataManager.storage.set("phone_number",e);var t=this;o.NetManager.requestGetUrl(u.HttpUrl.getSMS.url+"?mobile="+e,function(e,n){console.log(n);var i=JSON.parse(n);i.status==l.HTTP_CODE.SUCCESS?(t.getState=!0,a.UIManager.showTips(i.data)):a.UIManager.showTips(l.HTTP_CODE_MSG[i.status])})}else a.UIManager.showTips("\u624b\u673a\u53f7\u7801\u6709\u8bef");else a.UIManager.showTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},t.prototype.DoSomething=function(){var e=Math.floor((new Date).getTime()/1e3),t=c.DataManager.storage.get("Countdowntime");null!=t&&(this.daojishi=t-e),this.daojishi<=0?(this.time.string="\u83b7  \u53d6",this.kai.active=!0,this.guan.active=!1,this.unschedule(this.DoSomething),c.DataManager.storage.remove("Countdowntime"),this.btn_login.getComponent(cc.Button).interactable=!0):(this.time.string=String(this.daojishi),this.guan.active=!0,this.kai.active=!1)},t.prototype.onLogin=function(){h.AudioManager.playSFX(d.SoundEffect.button);var e=this.input_p.textLabel.string;if(e&&11==e.length)if(/^1[3456789]\d{9}$/.test(e)){var t=this.input_m.string;if(t){c.DataManager.storage.set("phone_number",e);var n=f.default.getDeviceId();o.NetManager.protocolRpc.sendC2S_AuthLogin(2,t,e,n),c.DataManager.storage.setItem("loginType",2),h.AudioManager.playSFX(d.SoundEffect.button)}else a.UIManager.showTips("\u8bf7\u8f93\u5165\u5bc6\u7801")}else a.UIManager.showTips("\u624b\u673a\u53f7\u7801\u6709\u8bef");else a.UIManager.showTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},r([m(cc.EditBox)],t.prototype,"input_p",void 0),r([m(cc.EditBox)],t.prototype,"input_m",void 0),r([m(cc.Label)],t.prototype,"time",void 0),r([m(cc.Node)],t.prototype,"kai",void 0),r([m(cc.Node)],t.prototype,"guan",void 0),r([m(cc.Node)],t.prototype,"btn_login",void 0),t=r([g],t)}(s.default);n.default=y,cc._RF.pop()},{"../common/Device":"Device","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","./base/PopupView":"PopupView"}],PopupView:[function(e,t,n){"use strict";cc._RF.push(t,"e901b93vzpDopvxPiM730x4","PopupView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseView"),r=e("../../common/log/LogWrap"),a=e("../../manager/AudioManager"),o=e("../../manager/SoundEffect"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAnimation=!0,t}return __extends(t,e),t.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return e.prototype.init.call(this),this.initBlockInput(),this.openAnimation(),[2]})})},t.prototype.initBlockInput=function(){this.node.getComponent(cc.BlockInputEvents)||(this.node.addComponent(cc.BlockInputEvents),r.LogWrap.warn(this.node.name,"not cc.BlockInputEvents"))},t.prototype.openAnimation=function(){this.isAnimation&&(this.node.scale=.1,cc.tween(this.node).sequence(cc.scaleTo(.2,1.1,1.1),cc.scaleTo(.1,1,1),cc.callFunc(this.openAnimationCallBack.bind(this))).start())},t.prototype.closeAnimation=function(){cc.tween(this.node).sequence(cc.scaleTo(.15,.1),cc.callFunc(this.closeAnimationCallBack.bind(this))).start()},t.prototype.close=function(e){void 0===e&&(e=!0),a.AudioManager.playSFX(o.SoundEffect.click),this.isAnimation&&e?this.closeAnimation():this.node.destroy()},t.prototype.openAnimationCallBack=function(){},t.prototype.closeAnimationCallBack=function(){this.node.destroy()},t=__decorate([c],t)}(i.default));n.default=l,cc._RF.pop()},{"../../common/log/LogWrap":"LogWrap","../../manager/AudioManager":"AudioManager","../../manager/SoundEffect":"SoundEffect","./BaseView":"BaseView"}],ProtoManager:[function(e,t,n){"use strict";cc._RF.push(t,"f893fM/TydK9amAwFq1JJhr","ProtoManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../libs/pbkiller/protobuf.js"),a=cc._decorator,o=a.ccclass,s=(a.property,function(){function e(){this._root=null,this._state=null}var t;return t=e,e.prototype.load=function(e){var t=this,n=cc.url.raw("resources/"+e);return console.log("111",n),new Promise(function(e,i){r.load(n,function(n,r){n?i(n):(t._root=r,r.lookupType("Account.ErrorRes"),console.log("222",r.lookupType("Account.ErrorRes"),r),e(r))})})},e.prototype.test=function(){var e=this._root.lookupType("Account.ErrorRes");console.log("load proto error ==> ",e)},e.prototype.decode=function(e,t){var n=null,i=this._root.lookup(e);return null!=i&&(n=i.decode(t)),n},e.prototype.encode=function(e,t){var n=null,i=this._root.lookup(e);if(null!=i){var r=i.create(t);n=i.encode(r).finish()}return n},e.prototype.PieParseProtoBuffer=function(){this._state={ready:!1,message:null},function(e){new Promise(function(t){r.load(["resources/pb/rpc_acc.proto","resources/pb/rpc_cg.proto","resources/pb/rpc_request.proto"],function(n,i){var r=i.lookup("rpc.Request"),a=i.lookup("rpc.C2S_AuthLogin");e.ready=!0,e.message=[r,a],console.log("PieParseProtoBuffer",e),t(e)})})}(this._state)},e.prototype.getProtobuf=function(e){var t=this;return new Promise(function(n){var i=new Uint8Array(e),a=new r.Reader(i);n(t._state.message[1].decode(a))})},e.instance=new t,e=t=i([o],e)}());n.default=s,n.ProtoManager=s.instance,cc._RF.pop()},{"../libs/pbkiller/protobuf.js":"protobuf"}],ProtocolBase:[function(e,t,n){"use strict";cc._RF.push(t,"1dad6hi11tAzLfTy6eIY3sV","ProtocolBase");var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../manager/EventManager"),o=e("../manager/ResManager"),s=e("../Define"),c=e("../common/log/LogWrap"),l=e("../manager/DataManager"),u=e("../manager/DataManagerClub"),h=function(){function t(e){void 0===e&&(e="pb"),this.type=s.SocketType.Hall,this.pb=null,this.pbName="rpc",this.loadProto(e)}return t.prototype.release=function(){a.EventManager.off(this)},t.prototype.loadProto=function(e){return i(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return t=this,[4,o.ResManager.loadProto(e)];case 1:return t.pb=n.sent(),[2]}})})},t.prototype.send=function(t,n){return i(this,void 0,void 0,function(){var i,a;return r(this,function(r){switch(r.label){case 0:return i=null==l.DataManager.playerInfo?"":l.DataManager.playerInfo.accountId,a=null==u.DataManagerClub.CurClubInfo?"":u.DataManagerClub.CurClubInfo.clubId,cc.sys.isNative?(c.LogWrap.useridclubid(i,a),console.log("send->"+n,JSON.stringify(t))):(c.LogWrap.useridclubid(i,a),console.log("send->"+n,t)),[4,Promise.resolve().then(function(){return e("../manager/NetManager")})];case 1:return r.sent().NetManager.send(t,this.type),[2]}})})},t.prototype.decode=function(e){return this.pb[this.pbName].MsgBody.decode(e)},t.prototype.heartTick=function(){},t}();n.default=h,cc._RF.pop()},{"../Define":"Define","../common/log/LogWrap":"LogWrap","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/ResManager":"ResManager"}],ProtocolGameCommon:[function(e,t,n){"use strict";cc._RF.push(t,"fe10bVoeE1I9pscjLs27sMr","ProtocolGameCommon");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ProtocolBase"),c=e("../manager/DataManager"),l=e("../manager/EventManager"),u=e("../manager/UIManager"),h=e("../common/log/LogWrap"),f=e("../manager/ResManager"),d=e("../Define"),p=cc._decorator,g=p.ccclass,m=(p.property,function(e){function t(){var t=e.call(this)||this;return t.cmd="",t.type=d.SocketType.Game,t.pbName="GAMEBASE",t.needFlushGold=!1,t.flushGold="0",t.flushPlayerInfo=null,t.isCreaterUser=!1,t.isStartGame=!1,t.heartIndex=0,t.heartTime=cc.sys.now(),l.EventManager.on(t,d.EventDef.SocketOpen,t.onSocketOpenEvent.bind(t)),t}return i(t,e),t.prototype.sendHeart=function(){},t.prototype.sendLoginReq=function(){},t.prototype.onSocketOpenEvent=function(e){return a(this,void 0,void 0,function(){var t,n=this;return o(this,function(i){return console.log("ProtocolGameCommon onSocketOpenEvent ",e),e==d.SocketType.Game&&(t=c.DataManager.getGameName(c.DataManager.gameType),f.ResManager.loadSubPackage(t,function(e){return a(n,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return!e&&cc.sys.isMobile?[3,2]:[4,u.UIManager.openGame()];case 1:return t.sent(),[3,3];case 2:h.LogWrap.warn("loadSubPackage fail!"),t.label=3;case 3:return[2]}})})})),[2]})})},t.prototype.onGameErrorResp=function(e){u.UIManager.showTipsPopup(e.err_msg)},t.prototype.onGameHeartBeatResp=function(e){this.heartIndex=e.index,this.heartTime=cc.sys.now()},t.prototype.onGameLoginResp=function(e){c.DataManager.friendRoomId=null,c.DataManager.isFriendGame=!1,c.DataManager.isCreaterUser=!1,this.needFlushGold=!1,e.enable_up_banker},t=r([g],t)}(s.default));n.default=m,cc._RF.pop()},{"../Define":"Define","../common/log/LogWrap":"LogWrap","../manager/DataManager":"DataManager","../manager/EventManager":"EventManager","../manager/ResManager":"ResManager","../manager/UIManager":"UIManager","./ProtocolBase":"ProtocolBase"}],ProtocolKWX:[function(e,t,n){"use strict";cc._RF.push(t,"d31f0GmdqdOC6+84QJihFD6","ProtocolKWX");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../manager/DataManager"),s=e("../../../net/ProtocolBase"),c=e("../../../manager/NetManager"),l=e("../../../manager/UIManager"),u=e("../../../manager/EventManager"),h=e("./KWXCmd"),f=e("../../../common/log/LogWrap"),d=e("../MJData"),p=e("../KWXDefine"),g=e("./MessageQueue"),m=e("../../../manager/DataManagerClub"),y=function(e){function t(){var t=e.call(this)||this;return t.pbName="rpc",t._gameView=null,t.isChatLimit=!1,g.MessageQueueInst.pause(),u.EventManager.on(t,h.ProtocolKWXCmd.S2C_MjRoomInfo,t.S2C_MjRoomInfo.bind(t)),t}return i(t,e),t.prototype.addEventListen=function(){g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_PlayerExitRoom,this.S2C_PlayerExitRoom.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_NewMjPlayerEnter,this.S2C_NewMjPlayerEnter.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_NewStartMjPai,this.S2C_NewStartMjPai.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_ChuPai,this.S2C_ChuPai.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_MoPai,this.S2C_MoPai.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_MoPaiNotice,this.S2C_MoPaiNotice.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_Peng,this.S2C_Peng.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_DianGang,this.S2C_DianGang.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_AnGang,this.S2C_AnGang.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_CaGang,this.S2C_CaGang.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_LiangHu,this.S2C_LiangHu.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_UpdatePlayerInfo,this.S2C_UpdatePlayerInfo.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_XuanPiao,this.S2C_XuanPiao.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_JieSuanOne,this.S2C_JieSuanOne.bind(this)),g.MessageQueueInst.addMessage(h.ProtocolKWXCmd_net.S2C_TotalJieSuan,this.S2C_TotalJieSuan.bind(this))},t.prototype.setGameThis=function(e){console.log("\u52a0\u8f7d\u5b8c\u6210"),this._gameView=e,m.DataManagerClub.complete&&(c.NetManager.protocolRpc.sendC2S_LoadingCompleted(2,!0),m.DataManagerClub.complete=!1),m.DataManagerClub.join&&(c.NetManager.protocolRpc.sendC2S_LoadingCompleted(6,!0),m.DataManagerClub.join=!1),c.NetManager.backstage=!1},t.prototype.pauseListen=function(){g.MessageQueueInst.pause(),g.MessageQueueInst.stop()},t.prototype.S2C_PlayerExitRoom=function(e){this._gameView.S2C_PlayerExitRoom(e)},t.prototype.S2C_NewStartMjPai=function(e){this._gameView.S2C_NewStartMjPai(e)},t.prototype.S2C_NewMjPlayerEnter=function(e){this._gameView.S2C_NewMjPlayerEnter(e)},t.prototype.S2C_UpdatePlayerInfo=function(e){this._gameView.S2C_UpdatePlayerInfo(e)},t.prototype.S2C_XuanPiao=function(e){this._gameView.S2C_XuanPiao(e)},t.prototype.S2C_ChuPai=function(e){this._gameView.S2C_ChuPai(e)},t.prototype.S2C_MoPai=function(e){this._gameView.S2C_MoPai(e)},t.prototype.S2C_MoPaiNotice=function(e){this._gameView.S2C_MoPaiNotice(e)},t.prototype.S2C_Peng=function(e){this._gameView.S2C_Peng(e)},t.prototype.S2C_DianGang=function(e){this._gameView.S2C_DianGang(e)},t.prototype.S2C_AnGang=function(e){this._gameView.S2C_AnGang(e)},t.prototype.S2C_CaGang=function(e){this._gameView.S2C_CaGang(e)},t.prototype.S2C_LiangHu=function(e){this._gameView.S2C_LiangHu(e)},t.prototype.S2C_JieSuanOne=function(e){this._gameView.S2C_JieSuanOne(e)},t.prototype.S2C_TotalJieSuan=function(e){this._gameView.S2C_TotalJieSuan(e)},t.prototype.sendC2S_Ready=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Ready",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_XuanPiao=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_XuanPiao";var n=new this.pb.rpc.C2S_XuanPiao;n.piao=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_ChuPai=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_ChuPai";var n=new this.pb.rpc.C2S_ChuPai;n.id=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_Gang=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_Gang";var n=new this.pb.rpc.C2S_Gang;n.id=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_ZuoPai=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_ZuoPai";var n=new this.pb.rpc.C2S_ZuoPai;n.ids=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_Peng=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Peng",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_Hu=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Hu",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_ChangeRoom=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_ChangeRoom",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_Continue=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Continue",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_ChangeDesk=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_ChangeDesk",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_Contiue=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Contiue",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.C2S_GetRoomInfo=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_GetRoomInfo",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_GiveUp=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_GiveUp",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_Liang=function(e,t,n){var i=new this.pb.rpc.Request;i.method="rpc.C2S_Liang";var r=new this.pb.rpc.C2S_Liang;r.liangPaiId=e,r.kouPaiId=t,r.chuPaiId=n,i.serialized_request=r.toArrayBuffer(),this.send(i.toArrayBuffer(),i.method),f.LogWrap.C2Sargs(JSON.stringify(r),i.method)},t.prototype.sendC2S_JieShanApply=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_JieShanApply",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_ExitRoom=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_ExitRoom",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_JieShanChoose=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_JieShanChoose";var n=new this.pb.rpc.C2S_JieShanChoose;n.agree=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(t),t.method)},t.prototype.startgane=function(e,t){void 0===t&&(t=!1)},t.prototype.S2C_MjRoomInfo=function(e){g.MessageQueueInst.pause(),g.MessageQueueInst.reset(),console.log("\u8fd9\u662f\u9ebb\u5c06\u4fe1\u606f",e),d.MJData.RoomInfo=e,o.DataManager.gameType=e.param.gameType,p.KWXDefine.GAME_PLAYER=e.param.playerCount,o.DataManager.gameLinkType?c.NetManager.protocolKWX.onSocketOpenEvent(e,!0):c.NetManager.protocolKWX.onSocketOpenEvent(e,!1)},t.prototype.onSocketOpenEvent=function(e,t){return void 0===t&&(t=!1),r(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return console.log("\u8fdb\u5165\u6e38\u620f\u623f\u95f4",e),console.log(o.DataManager.gameLinkType),o.DataManager.gameLinkType?[3,2]:[4,l.UIManager.openGame()];case 1:return n.sent(),[3,3];case 2:l.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),n.label=3;case 3:return t?u.EventManager.emit(h.EventKWXCmd.INITRoom_EVENT,e):setTimeout(function(){console.log("\u623f\u95f4\u4fe1\u606f:",e),u.EventManager.emit(h.EventKWXCmd.INITRoom_EVENT,e)},200),[2]}})})},t.prototype.sendC2S_Magic=function(e,t,n,i,r){var a=this;if(this.isChatLimit)l.UIManager.showTips("\u8bf4\u8bdd\u592a\u5feb\uff0c\u8bf7\u7a0d\u540e...");else{this.isChatLimit=!0;var o=new this.pb.rpc.Request;o.method="rpc.S2C2S_Magic";var s=new this.pb.rpc.S2C2S_Magic;s.p1=e,s.p2=t,s.p3=n,s.p4=i,s.p5=r,o.serialized_request=s.toArrayBuffer(),this.send(o.toArrayBuffer(),o.method),setTimeout(function(){a.isChatLimit=!1},8e3),f.LogWrap.C2Sargs(JSON.stringify(s),o.method)}},t}(s.default);n.default=y,cc._RF.pop()},{"../../../common/log/LogWrap":"LogWrap","../../../manager/DataManager":"DataManager","../../../manager/DataManagerClub":"DataManagerClub","../../../manager/EventManager":"EventManager","../../../manager/NetManager":"NetManager","../../../manager/UIManager":"UIManager","../../../net/ProtocolBase":"ProtocolBase","../KWXDefine":"KWXDefine","../MJData":"MJData","./KWXCmd":"KWXCmd","./MessageQueue":"MessageQueue"}],ProtocolNN:[function(e,t,n){"use strict";cc._RF.push(t,"a6525WJQjlOfrkDIdv+Uk7I","ProtocolNN");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../net/ProtocolBase"),s=e("../../../manager/EventManager"),c=e("./NNCmd"),l=e("../NNData"),u=e("../../../manager/DataManager"),h=e("../NNDefine"),f=e("../../../manager/NetManager"),d=e("../../../manager/UIManager"),p=e("../../../common/log/LogWrap"),g=function(e){function t(){var t=e.call(this)||this;return t.pbName="rpc",t.isChatLimit=!1,s.EventManager.on(t,c.ProtocolNNCmd.S2C_NNRoomInfo,t.S2C_NNRoomInfo.bind(t)),t}return i(t,e),t.prototype.S2C_NNRoomInfo=function(e){console.log("\u8fd9\u662f\u725b\u725b\u4fe1\u606f",e),l.NNData.RoomInfo=e,u.DataManager.gameType=e.param.gameType,h.NNDefine.GAME_PLAYER=e.param.playerCount,f.NetManager.protocolNN.onSocketOpenEvent(e)},t.prototype.onSocketOpenEvent=function(e){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return console.log("\u8fdb\u5165\u6e38\u620f\u623f\u95f4",e),console.log(u.DataManager.gameLinkType),u.DataManager.gameLinkType?[3,2]:[4,d.UIManager.openGame()];case 1:return t.sent(),[3,3];case 2:d.UIManager.hideLoading("\u52a0\u8f7d\u4e2d..."),t.label=3;case 3:return setTimeout(function(){console.log("\u623f\u95f4\u4fe1\u606f:",e),s.EventManager.emit(c.EventNNCmd.INITRoom_EVENTS,e)},200),[2]}})})},t.prototype.sendC2S_JieShanApply=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_JieShanApply",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),p.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_Ready=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Ready",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());p.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_ExitRoom=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_ExitRoom",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),p.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_Magic=function(e,t,n,i,r){var a=this;if(this.isChatLimit)d.UIManager.showTips("\u8bf4\u8bdd\u592a\u5feb\uff0c\u8bf7\u7a0d\u540e...");else{this.isChatLimit=!0;var o=new this.pb.rpc.Request;o.method="rpc.S2C2S_Magic";var s=new this.pb.rpc.S2C2S_Magic;s.p1=e,s.p2=t,s.p3=n,s.p4=i,s.p5=r,o.serialized_request=s.toArrayBuffer(),this.send(o.toArrayBuffer(),o.method),setTimeout(function(){a.isChatLimit=!1},8e3),p.LogWrap.C2Sargs(JSON.stringify(s),o.method)}},t.prototype.sendC2S_GetRoomInfo=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_GetRoomInfo",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),p.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_xiazhu=function(e,t){void 0===t&&(t=!1);var n=new this.pb.rpc.Request;n.method="rpc.C2S_xiazhu";var i=new this.pb.rpc.C2S_xiazhu;i.score=e,i.iswhole=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),p.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.sendC2S_Shangzhuang=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_Shangzhuang";var n=new this.pb.rpc.C2S_Shangzhuang;n.Shangzhuang=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),p.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_NNPlayCars=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_NNPlayCars",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());p.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t}(o.default);n.default=g,cc._RF.pop()},{"../../../common/log/LogWrap":"LogWrap","../../../manager/DataManager":"DataManager","../../../manager/EventManager":"EventManager","../../../manager/NetManager":"NetManager","../../../manager/UIManager":"UIManager","../../../net/ProtocolBase":"ProtocolBase","../NNData":"NNData","../NNDefine":"NNDefine","./NNCmd":"NNCmd"}],ProtocolPDK:[function(e,t,n){"use strict";cc._RF.push(t,"05727oGSQxMXpXBEGEOTW3c","ProtocolPDK");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../manager/DataManager"),s=e("../../../net/ProtocolBase"),c=e("../../../manager/NetManager"),l=e("../../../manager/UIManager"),u=e("../../../manager/EventManager"),h=e("./PDKCmd"),f=e("../../../common/log/LogWrap"),d=e("../PDKRoomInfo"),p=e("../PDKDefine"),g=e("../../kwx/protocol/MessageQueue"),m=e("../../../manager/DataManagerClub"),y=function(e){function t(){var t=e.call(this)||this;return t.pbName="rpc",t.isChatLimit=!1,u.EventManager.on(t,h.ProtocolPDKCmd.S2C_RFRoomInfo,t.S2C_RFRoomInfo.bind(t)),t}return i(t,e),t.prototype.setGameThis=function(e){console.log("\u52a0\u8f7d\u5b8c\u6210"),g.MessageQueueInst.resume(),m.DataManagerClub.complete&&(c.NetManager.protocolRpc.sendC2S_LoadingCompleted(2,!0),m.DataManagerClub.complete=!1)},t.prototype.sendC2S_Ready=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Ready",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_ZuoPai=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_ZuoPai";var n=new this.pb.rpc.C2S_ZuoPai;n.ids=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_ExitRoom=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_ExitRoom",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_XuanPiao=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_XuanPiao";var n=new this.pb.rpc.C2S_XuanPiao;n.piao=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_RFPlayCars=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_RFPlayCars";var i=new this.pb.rpc.RFPlayCar;i.cards=e,i.cardType=t,i.maxCard=-1,i.playerID=-1,i.position=-1;var r=new this.pb.rpc.C2S_RFPlayCars;r.playCard=i,n.serialized_request=r.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),f.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_RFRoomInfo=function(e){console.log("S2C_RFRoomInfo",e),o.DataManager.gameType=e.param.gameType,p.PDKDefine.GAME_PLAYER=e.param.playerCount,p.PDKDefine.CARDS_COUNT=1===e.param.param[6]?15:16,p.PDKDefine.XUAN_PIAO_TYPE=e.param.param[3],d.PDKRoomInfo.setRoomInfo(e),d.PDKRoomInfo.isReconnect=!!e.pan,d.PDKRoomInfo.roomInfo.playerInfos=e.playerInfos,c.NetManager.protocolPDK.onSocketOpenEvent(e),d.PDKRoomInfo.MY_DATA=e.playerInfos,d.PDKRoomInfo.isReconnect&&(d.PDKRoomInfo.updateMyCards(e.shoupai),d.PDKRoomInfo.updateLastOutCard(e.lastCard),d.PDKRoomInfo.roomInfo.playerInfos=e.playerInfos)},t.prototype.sendC2S_GetRoomInfo=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_GetRoomInfo",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.onSocketOpenEvent=function(e){return r(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,l.UIManager.openGame()];case 1:return t.sent(),setTimeout(function(){u.EventManager.emit(h.EventPDKCmd.INITRoom_EVENT,e)},200),[2]}})})},t.prototype.sendC2S_JieShanApply=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_JieShanApply",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_JieShanChoose=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_JieShanChoose";var n=new this.pb.rpc.C2S_JieShanChoose;n.agree=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),f.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_Magic=function(e,t,n,i,r){var a=this;if(this.isChatLimit)l.UIManager.showTips("\u8bf4\u8bdd\u592a\u5feb\uff0c\u8bf7\u7a0d\u540e...");else{this.isChatLimit=!0;var o=new this.pb.rpc.Request;o.method="rpc.S2C2S_Magic";var s=new this.pb.rpc.S2C2S_Magic;s.p1=e,s.p2=t,s.p3=n,s.p4=i,s.p5=r,o.serialized_request=s.toArrayBuffer(),this.send(o.toArrayBuffer(),o.method),setTimeout(function(){a.isChatLimit=!1},8e3),f.LogWrap.C2Sargs(JSON.stringify(s),o.method)}},t.prototype.sendC2S_Continue=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Continue",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.sendC2S_ChangeDesk=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_ChangeDesk",e.serialized_request="",this.send(e.toArrayBuffer(),e.method);new this.pb.rpc.Request.decode(e.toArrayBuffer());f.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t}(s.default);n.default=y,cc._RF.pop()},{"../../../common/log/LogWrap":"LogWrap","../../../manager/DataManager":"DataManager","../../../manager/DataManagerClub":"DataManagerClub","../../../manager/EventManager":"EventManager","../../../manager/NetManager":"NetManager","../../../manager/UIManager":"UIManager","../../../net/ProtocolBase":"ProtocolBase","../../kwx/protocol/MessageQueue":"MessageQueue","../PDKDefine":"PDKDefine","../PDKRoomInfo":"PDKRoomInfo","./PDKCmd":"PDKCmd"}],ProtocolRpc:[function(e,t,n){"use strict";cc._RF.push(t,"0a4a01S1AJDiJvnmsokyyqm","ProtocolRpc");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./ProtocolBase"),c=e("../manager/DataManager"),l=e("../manager/EventManager"),u=e("./NetCmd"),h=e("../manager/UIManager"),f=e("../Define"),d=e("../manager/NetManager"),p=e("../manager/EventClubDef"),g=e("../manager/DataManagerClub"),m=e("./NetCode"),y=e("../common/log/LogWrap"),b=e("../manager/ResManager"),v=cc._decorator,_=v.ccclass,C=(v.property,function(e){function t(){var t=e.call(this)||this;return t.pbName="rpc",t.heartTime=0,t.SendingTime=cc.sys.now(),t.selectclub=!1,l.EventManager.on(t,u.ProtocolRpcCmd.S2C_AuthLogin,t.S2C_AuthLogin.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_LoginedPlayerInfo,t.S2C_LoginedPlayerInfo.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_Ping,t.S2C_Ping.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_Error,t.S2C_Error.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_Clubstatus,t.S2C_Clubstatus.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_CreateClub,t.S2C_CreateClub.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_EnterClub,t.S2C_EnterClub.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_CreateGame,t.S2C_CreateGame.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_DelGame,t.S2C_DelGame.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_DeskItemChange,t.S2C_DeskItemChange.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ClubAllMembers,t.S2C_ClubAllMembers.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ClubMyMembers,t.S2C_ClubMyMembers.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_GetPlayerNameIcon,t.S2C_GetPlayerNameIcon.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_Invite,t.S2C_Invite.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_AddMemberScore,t.S2C_AddMemberScore.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_RefreshScore,t.S2C_RefreshScore.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ScoreModify,t.S2C_ScoreModify.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ApplyMessage,t.S2C_ApplyMessage.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_HandleApply,t.S2C_HandleApply.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SetManager,t.S2C_SetManager.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_CancleManager,t.S2C_CancleManager.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SetAgent,t.S2C_SetAgent.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_CancleAgent,t.S2C_CancleAgent.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_DeleteMember,t.S2C_DeleteMember.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ExitFromClub,t.S2C_ExitFromClub.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_NewClub,t.S2C_NewClub.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_GetProportion,t.S2C_GetProportion.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SetProportion,t.S2C_SetProportion.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SetProportionAllGame,t.S2C_SetProportionAllGame.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2S_ApplyMessage,t.S2S_ApplyMessage.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SetPlayerRemark,t.S2C_SetPlayerRemark.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_TiQu,t.S2C_TiQu.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ChangeGameName,t.S2C_ChangeGameName.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ClubBaseSet,t.S2C_ClubBaseSet.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_CancleMatch,t.S2C_CancleMatch.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_MatchPlayers,t.S2C_MatchPlayers.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SetWarningValue,t.S2C_SetWarningValue.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_GetWaningValue,t.S2C_GetWaningValue.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_Abnormaltable,t.S2C_Abnormaltable.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_Time,t.S2C_Time.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SearchMember,t.S2C_SearchMember.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_SearchAllMember,t.S2C_SearchAllMember.bind(t)),l.EventManager.on(t,u.ProtocolRpcCmd.S2C_ClubTable,t.S2C_ClubTable.bind(t)),t}return i(t,e),t.prototype.sendHeart=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Ping",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),this.SendingTime=cc.sys.now()},t.prototype.S2C_Ping=function(e){this.heartTime=cc.sys.now();var t=null;d.NetManager.loginSucceeded&&(null!=e.userId&&""!=e.userId||d.NetManager.changeChannel()),t=this.heartTime-this.SendingTime>0?this.heartTime-this.SendingTime:this.SendingTime-this.heartTime,console.log("\u7f51\u7edc\u5ef6\u8fdf\u6beb\u79d2:",t),d.NetManager.Networkdelay(t)},t.prototype.onHeartBeatResp=function(e){this.heartTime=cc.sys.now()},t.prototype.sendC2S_UpdateUserInfo=function(e,t,n){var i=new this.pb.rpc.Request;i.method="rpc.C2S_UpdateUserInfo";var r=new this.pb.rpc.C2S_UpdateUserInfo;r.userId=e,r.phone=t,r.passWord=n,i.serialized_request=r.toArrayBuffer(),this.send(i.toArrayBuffer(),i.method),y.LogWrap.C2Sargs(JSON.stringify(r),i.method)},t.prototype.sendC2S_AuthLogin=function(e,t,n,i,r,a){void 0===r&&(r="dlf_default_name"),void 0===a&&(a="10");var o=new this.pb.rpc.Request;o.method="rpc.C2S_AuthLogin";var s=new this.pb.rpc.LoginArgs;s.account=n+"",s.AccountType=e,s.Token=t+"",s.Version="0.0.1",s.DeviceType=1,s.DeviceDescription="windows",s.LoginIp=i,s.pkgId="com.org.luolefanggame",s.channelId=9,s.icon=a,s.name=r;var c=new this.pb.rpc.C2S_AuthLogin;c.accountType=e,c.loginArgs=s,o.serialized_request=c.toArrayBuffer(),this.send(o.toArrayBuffer(),o.method),y.LogWrap.C2Sargs(JSON.stringify(c),o.method)},t.prototype.sendC2S_SetPlayerRemark=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_SetPlayerRemark";var i=new this.pb.rpc.C2S_SetPlayerRemark;i.playerId=e,i.remark=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_SetPlayerRemark=function(e){l.EventManager.emit(p.EventClubDef.ClubSetPlayerRemark,e)},t.prototype.C2S_ChangeGameName=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_ChangeGameName";var i=new this.pb.rpc.C2S_ChangeGameName;i.gameId=e,i.name=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_ChangeGameName=function(e){l.EventManager.emit(p.EventClubDef.ChangeGameName,e)},t.prototype.C2S_TiQu=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_TiQu",e.serialized_request="",this.send(e.toArrayBuffer(),e.method),y.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.S2C_TiQu=function(e){l.EventManager.emit(p.EventClubDef.ClubTiQu,e)},t.prototype.S2C_AuthLogin=function(e){d.NetManager.backstage=!1,console.log(e),0==e.result?(console.log("\u767b\u5f55\u6210\u529f",e),c.DataManager.storage.setItem("token",e.Token),c.DataManager.storage.setItem("result",e.result)):(console.log("\u767b\u5f55\u5931\u8d25"),l.EventManager.emit(f.EventDef.ReViewLoginBnt,e),e.result==m.AuthResult.AR_InitNameAndIcon?(console.log("\u4e0a\u4f20\u5934\u50cf"),e.from=1,c.DataManager.storage.setItem("userid",e.UserId),c.DataManager.storage.setItem("token",e.Token),h.UIManager.close("prefabs/PhoneView"),h.UIManager.popup("prefabs/UserInfo",e)):e.result==m.AuthResult.AR_FirstLogin?(c.DataManager.storage.setItem("userid",e.UserId),c.DataManager.storage.setItem("token",e.Token),h.UIManager.close("prefabs/PhoneView"),e.from=3,h.UIManager.popup("prefabs/UserInfo",e)):(e.result==m.AuthResult.AR_RepeatedLogin?h.UIManager.showTips("\u60a8\u7684\u8d26\u53f7\u5728\u5176\u4ed6\u8bbe\u5907\u767b\u5f55"):e.result==m.AuthResult.AR_TokenInvalid||(e.result==m.AuthResult.AR_Fail?h.UIManager.showTips("\u8d26\u53f7\u9519\u8bef\u6216\u5bc6\u7801\u9519\u8bef"):e.result==m.AuthResult.AR_DisableLogin?h.UIManager.showTips("\u7981\u6b62\u767b\u5f55"):e.result==m.AuthResult.AR_GameServerNotOpen?h.UIManager.showTips("\u6e38\u620f\u670d\u52a1\u5668\u672a\u5f00\u653e"):e.result==m.AuthResult.AR_MaxClient&&h.UIManager.showTips("\u7f51\u7edc\u8fde\u63a5\u5df2\u6ee1")),d.NetManager.succeeded(!1),c.DataManager.storage.remove("result"),c.DataManager.storage.remove("token"),h.UIManager.open("prefabs/LogoView")))},t.prototype.S2C_LoginedPlayerInfo=function(e){return a(this,void 0,void 0,function(){var t,n;return o(this,function(i){switch(i.label){case 0:for(c.DataManager.playerInfo=e.playerBaseInfo,l.EventManager.emit(f.EventDef.UpateHall,e.playerBaseInfo),g.DataManagerClub.SetMyClubInfo(e.playerBaseInfo.clubs),d.NetManager.tobreakoff=e.heartbeatTime,d.NetManager.succeeded(!0),c.DataManager.playerInfo.phone=e.playerBaseInfo.phone,t=c.DataManager.storage.getItem("SelectClubId"),n=0;n<e.playerBaseInfo.clubs.length;n++)e.playerBaseInfo.clubs[n].clubId!=t&&null!=t||(this.selectclub=!0);return e.roomId>0||null!=e.roomId?(c.DataManager.gameType=e.gameType,[4,h.UIManager.openGame()]):[3,2];case 1:return i.sent(),1==e.gameType?d.NetManager.protocolKWX.C2S_GetRoomInfo():2==e.gameType?d.NetManager.protocolPDK.sendC2S_GetRoomInfo():4==e.gameType&&d.NetManager.protocolNN.sendC2S_GetRoomInfo(),[3,11];case 2:return t>0?this.selectclub?[4,b.ResManager.loadResAsync("prefabs/HallView",cc.Prefab,!1)]:[3,6]:[3,9];case 3:return i.sent(),[4,b.ResManager.loadResAsync("prefabs/club/ClubList",cc.Prefab,!1)];case 4:return i.sent(),[4,h.UIManager.open("prefabs/club/ClubHall")];case 5:return i.sent(),[3,8];case 6:return[4,h.UIManager.open("prefabs/HallView")];case 7:i.sent(),i.label=8;case 8:return[3,11];case 9:return[4,h.UIManager.open("prefabs/HallView")];case 10:i.sent(),i.label=11;case 11:return[2]}})})},t.prototype.sendC2S_CreateClub=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_CreateClub";var n=new this.pb.rpc.C2S_CreateClub;n.name=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_CreateClub=function(e){l.EventManager.emit(p.EventClubDef.ClubCreate,e)},t.prototype.sendC2S_JoinClub=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_EnterClub";var n=new this.pb.rpc.C2S_EnterClub;n.clubId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_EnterClub=function(e){d.NetManager.protocolRpc.sendC2S_Clubstatus(),l.EventManager.emit(p.EventClubDef.ClubEnter,e)},t.prototype.sendC2S_ClubTable=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_ClubTable";var n=new this.pb.rpc.C2S_ClubTable;n.CurrentPage=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(t),t.method)},t.prototype.S2C_ClubTable=function(e){l.EventManager.emit(p.EventClubDef.ClubTable,e)},t.prototype.sendC2S_CreateGame=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_CreateGame";var n=new this.pb.rpc.GameItem;n.id=1,n.clubId=g.DataManagerClub.getCurClubId(),n.gameType=1,n.name=e.kwxname,n.radix=g.DataManagerClub.submit100Double(e.radix),n.joinLimit=g.DataManagerClub.submit100Double(e.joinLimit),n.leavelimit=g.DataManagerClub.submit100Double(e.leavelimit),n.juShu=e.juShu,n.playerCount=e.playerCount,n.param=[1,1,g.DataManagerClub.submit100Double(e.PayValue),e.xuanPiao,e.fengDing,e.maiMa,e.kuaiSu,e.wanFa[1],e.wanFa[2],e.wanFa[0],e.wanFa[3],e.wanFa[5],e.wanFa[4],e.wanFa[6]],n.match=e.match;var i=new this.pb.rpc.C2S_CreateGame;i.gi=n,t.serialized_request=i.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(i),t.method)},t.prototype.sendpdkC2S_CreateGame=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_CreateGame";var n=new this.pb.rpc.GameItem;n.id=1,n.clubId=g.DataManagerClub.getCurClubId(),n.gameType=2,n.name=e.pdkname,n.radix=g.DataManagerClub.submit100Double(e.radix),n.joinLimit=g.DataManagerClub.submit100Double(e.joinLimit),n.leavelimit=g.DataManagerClub.submit100Double(e.leavelimit),n.juShu=e.juShu,n.playerCount=e.playerCount,n.param=[1,1,g.DataManagerClub.submit100Double(e.PayValue),e.xuanPiao,e.juShu,e.wanFa[0],e.paiShu,e.wanFa[1],e.wanFa[2],e.wanFa[3],e.shouZhuang],n.match=e.match;var i=new this.pb.rpc.C2S_CreateGame;i.gi=n,t.serialized_request=i.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(i),t.method)},t.prototype.sendnnC2S_CreateGame=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_CreateGame";var n=new this.pb.rpc.GameItem;n.id=1,n.clubId=g.DataManagerClub.getCurClubId(),n.gameType=4,n.name=e.nnname,n.radix=g.DataManagerClub.submit100Double(e.radix),n.joinLimit=g.DataManagerClub.submit100Double(e.joinLimit),n.leavelimit=g.DataManagerClub.submit100Double(e.leavelimit),n.juShu=e.juShu,n.playerCount=e.playerCount,n.param=[1,1,g.DataManagerClub.submit100Double(e.PayValue),e.wanFa[0],e.wanFa[1]],n.match=e.match;var i=new this.pb.rpc.C2S_CreateGame;i.gi=n,t.serialized_request=i.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(i),t.method)},t.prototype.S2C_CreateGame=function(e){l.EventManager.emit(p.EventClubDef.ClubCreateGame,e)},t.prototype.sendC2S_DelGame=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_DelGame";var n=new this.pb.rpc.C2S_DelGame;n.gameId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_Time=function(e){console.log(e.timestamp)},t.prototype.S2C_DelGame=function(e){l.EventManager.emit(p.EventClubDef.ClubDelGame,e)},t.prototype.sendC2S_LoadingCompleted=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_LoadingCompleted";var i=new this.pb.rpc.C2S_LoadingCompleted;i.type=e,i.state=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.sendC2S_HandleApply=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_HandleApply";var i=new this.pb.rpc.C2S_HandleApply;i.id=e,i.agree=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_HandleApply=function(e){l.EventManager.emit(p.EventClubDef.ClubHandleApply,e)},t.prototype.sendC2S_CreateDesk=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_CreateDesk";var i=new this.pb.rpc.C2S_CreateDesk;i.gameId=e,i.type=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_DeskItemChange=function(e){l.EventManager.emit(p.EventClubDef.ClubDeskItemChange,e)},t.prototype.sendC2S_JoinInRoom=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_JoinInRoom";var n=new this.pb.rpc.C2S_JoinInRoom;n.roomId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.sendC2S_ClubMyMembers=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_ClubMyMembers";var n=new this.pb.rpc.C2S_ClubMyMembers;n.currentCount=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_ClubMyMembers=function(e){l.EventManager.emit(p.EventClubDef.ClubMyMembers,e)},t.prototype.sendC2S_SearchMember=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_SearchMember";var i=new this.pb.rpc.C2S_SearchMember;i.isSearch=e,i.userId=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(n),n.method)},t.prototype.S2C_SearchMember=function(e){l.EventManager.emit(p.EventClubDef.SearchMember,e)},t.prototype.S2C_SearchAllMember=function(e){l.EventManager.emit(p.EventClubDef.SearchAllMember,e)},t.prototype.sendC2S_ClubAllMembers=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_ClubAllMembers";var n=new this.pb.rpc.C2S_ClubAllMembers;n.currentCount=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_ClubAllMembers=function(e){l.EventManager.emit(p.EventClubDef.ClubAllMembers,e)},t.prototype.sendC2S_GetPlayerNameIcon=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_GetPlayerNameIcon";var n=new this.pb.rpc.C2S_GetPlayerNameIcon;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_GetPlayerNameIcon=function(e){l.EventManager.emit(p.EventClubDef.ClubGetPlayerNameIcon,e)},t.prototype.sendC2S_Invite=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_Invite";var n=new this.pb.rpc.C2S_Invite;n.id=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_Invite=function(e){l.EventManager.emit(p.EventClubDef.ClubInvite,e)},t.prototype.sendC2S_AddMemberScore=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_AddMemberScore";var i=new this.pb.rpc.C2S_AddMemberScore;i.playerId=e,i.score=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_AddMemberScore=function(e){l.EventManager.emit(p.EventClubDef.ClubAddMemberScore,e)},t.prototype.sendC2S_RefreshScore=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_RefreshScore";var n=new this.pb.rpc.C2S_RefreshScore;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(t),t.method)},t.prototype.S2C_RefreshScore=function(e){l.EventManager.emit(p.EventClubDef.ClubRefreshScore,e)},t.prototype.S2C_ScoreModify=function(e){l.EventManager.emit(p.EventClubDef.ClubScoreModify,e)},t.prototype.sendC2S_ApplyForClub=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_ApplyForClub";var i=new this.pb.rpc.C2S_ApplyForClub;i.clubId=e,i.join=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_Error=function(e){l.EventManager.emit(p.EventClubDef.ClubErrorCode,e)},t.prototype.sendC2S_ApplyMessages=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_ApplyMessage";var t=new this.pb.rpc.C2S_ApplyMessage;e.serialized_request=t.toArrayBuffer(),this.send(e.toArrayBuffer(),e.method),y.LogWrap.C2Sargs(JSON.stringify(t),e.method)},t.prototype.S2C_ApplyMessage=function(e){l.EventManager.emit(p.EventClubDef.ClubApplyMessage,e.items||[])},t.prototype.sendC2S_SetManager=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_SetManager";var n=new this.pb.rpc.C2S_SetManager;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_SetManager=function(e){l.EventManager.emit(p.EventClubDef.ClubSetManager,e)},t.prototype.sendC2S_CancleManager=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_CancleManager";var n=new this.pb.rpc.C2S_CancleManager;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_CancleManager=function(e){l.EventManager.emit(p.EventClubDef.ClubCancleManager,e)},t.prototype.sendC2S_SetAgent=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_SetAgent";var n=new this.pb.rpc.C2S_SetAgent;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_SetAgent=function(e){l.EventManager.emit(p.EventClubDef.ClubSetAgent,e)},t.prototype.sendC2S_CancleAgent=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_CancleAgent";var n=new this.pb.rpc.C2S_CancleAgent;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_CancleAgent=function(e){l.EventManager.emit(p.EventClubDef.ClubCancelAgent,e)},t.prototype.sendC2S_DeleteMember=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_DeleteMember";var n=new this.pb.rpc.C2S_DeleteMember;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_DeleteMember=function(e){l.EventManager.emit(p.EventClubDef.ClubDeleteMember,e)},t.prototype.S2C_ExitFromClub=function(e){l.EventManager.emit(p.EventClubDef.ClubExitFromClub,e)},t.prototype.S2C_NewClub=function(e){g.DataManagerClub.AddNewClub(e),l.EventManager.emit(p.EventClubDef.ClubNewClub,e)},t.prototype.sendC2S_GetProportion=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_GetProportion";var n=new this.pb.rpc.C2S_GetProportion;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_GetProportion=function(e){l.EventManager.emit(p.EventClubDef.ClubGetProportion,e)},t.prototype.sendC2S_SetProportion=function(e,t,n){var i=new this.pb.rpc.Request;i.method="rpc.C2S_SetProportion";var r=new this.pb.rpc.C2S_SetProportion;r.playerId=e,r.gameId=t,r.proportion=n,i.serialized_request=r.toArrayBuffer(),this.send(i.toArrayBuffer(),i.method),y.LogWrap.C2Sargs(JSON.stringify(r),i.method)},t.prototype.S2C_SetProportion=function(e){l.EventManager.emit(p.EventClubDef.ClubSetProportion,e)},t.prototype.sendC2S_SetProportionAllGame=function(e,t){var n=new this.pb.rpc.Request;n.method="rpc.C2S_SetProportionAllGame";var i=new this.pb.rpc.C2S_SetProportionAllGame;i.playerId=e,i.proportion=t,n.serialized_request=i.toArrayBuffer(),this.send(n.toArrayBuffer(),n.method),y.LogWrap.C2Sargs(JSON.stringify(i),n.method)},t.prototype.S2C_SetProportionAllGame=function(e){l.EventManager.emit(p.EventClubDef.ClubSetProportionAllGame,e)},t.prototype.S2S_ApplyMessage=function(e){l.EventManager.emit(p.EventClubDef.clubRepeatApplication,e)},t.prototype.sendC2S_ClubBaseSet=function(e,t,n){var i=new this.pb.rpc.Request;i.method="rpc.C2S_ClubBaseSet";var r=new this.pb.rpc.C2S_ClubBaseSet;r.open=e,r.name=t,r.annoucement=n,i.serialized_request=r.toArrayBuffer(),this.send(i.toArrayBuffer(),i.method),y.LogWrap.C2Sargs(JSON.stringify(r),i.method)},t.prototype.S2C_ClubBaseSet=function(e){l.EventManager.emit(p.EventClubDef.ClubBaseSet,e)},t.prototype.S2C_Abnormaltable=function(e){l.EventManager.emit(p.EventClubDef.Abnormaltable,e)},t.prototype.sendC2S_Match=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_Match";var n=new this.pb.rpc.C2S_Match;n.gameId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_MatchPlayers=function(e){l.EventManager.emit(p.EventClubDef.ClubMatchPlayers,e)},t.prototype.sendC2S_CancleMatch=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_CancleMatch";var t=new this.pb.rpc.C2S_CancleMatch;e.serialized_request=t.toArrayBuffer(),this.send(e.toArrayBuffer(),e.method),y.LogWrap.C2Sargs(JSON.stringify(t),e.method)},t.prototype.S2C_CancleMatch=function(e){l.EventManager.emit(p.EventClubDef.ClubCancleMatch,e)},t.prototype.decode=function(e){return this.pb[this.pbName].MsgBody.decode(e)},t.prototype.sendC2S_SetWarningValue=function(e,t,n,i){var r=new this.pb.rpc.Request;r.method="rpc.C2S_SetWarningValue";var a=new this.pb.rpc.C2S_SetWarningValue;a.playerId=e,a.open=t,a.remindValue=n,a.waningValue=i,r.serialized_request=a.toArrayBuffer(),this.send(r.toArrayBuffer(),r.method),y.LogWrap.C2Sargs(JSON.stringify(a),r.method)},t.prototype.S2C_SetWarningValue=function(e){l.EventManager.emit(p.EventClubDef.SetWarningValue,e)},t.prototype.sendC2S_GetWaningValue=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_GetWaningValue";var n=new this.pb.rpc.C2S_GetWaningValue;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(n),t.method)},t.prototype.S2C_GetWaningValue=function(e){l.EventManager.emit(p.EventClubDef.GetWaningValue,e)},t.prototype.sendC2S_Abnormaltable=function(e){var t=new this.pb.rpc.Request;t.method="rpc.C2S_Abnormaltable";var n=new this.pb.rpc.C2S_Abnormaltable;n.playerId=e,t.serialized_request=n.toArrayBuffer(),this.send(t.toArrayBuffer(),t.method),y.LogWrap.C2Sargs(JSON.stringify(t),t.method)},t.prototype.sendC2S_Clubstatus=function(){var e=new this.pb.rpc.Request;e.method="rpc.C2S_Clubstatus";var t=new this.pb.rpc.C2S_Clubstatus;e.serialized_request=t.toArrayBuffer(),this.send(e.toArrayBuffer(),e.method),y.LogWrap.C2Sargs(JSON.stringify(e),e.method)},t.prototype.S2C_Clubstatus=function(e){l.EventManager.emit(p.EventClubDef.Clubstatus,e)},t=r([_],t)}(s.default));n.default=C,cc._RF.pop()},{"../Define":"Define","../common/log/LogWrap":"LogWrap","../manager/DataManager":"DataManager","../manager/DataManagerClub":"DataManagerClub","../manager/EventClubDef":"EventClubDef","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/ResManager":"ResManager","../manager/UIManager":"UIManager","./NetCmd":"NetCmd","./NetCode":"NetCode","./ProtocolBase":"ProtocolBase"}],QRCode:[function(e,t,n){"use strict";function i(e){this.mode=a.MODE_8BIT_BYTE,this.data=e}cc._RF.push(t,"22ef0gNrA1M4arxi/5wj+vQ","QRCode"),i.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var r=function(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array};r.prototype={addData:function(e){var t=new i(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=w.getRSBlocks(e,this.errorCorrectLevel),n=new D,i=0,r=0;r<t.length;r++)i+=t[r].dataCount;for(var a=0;a<this.dataList.length;a++){var o=this.dataList[a];n.put(o.mode,4),n.put(o.getLength(),b.getLengthInBits(o.mode,e)),o.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=b.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var a=1*r,o=0;o<this.modules[r].length;o++){var s=1*o;this.modules[r][o]&&(i.beginFill(0,100),i.moveTo(s,a),i.lineTo(s+1,a),i.lineTo(s+1,a+1),i.lineTo(s,a+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=b.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)this.modules[i+a][r+o]=-2==a||2==a||-2==o||2==o||0==a&&0==o}},setupTypeNumber:function(e){for(var t=b.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var r=0;r<18;r++){var a=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=a}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=b.getBCHTypeInfo(n),r=0;r<15;r++){var a=!e&&1==(i>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var o=0;o<15;o++){var s=!e&&1==(i>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=s:o<9?this.modules[8][15-o-1+1]=s:this.modules[8][15-o-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[i][o-s]){var c=!1;a<e.length&&(c=1==(e[a]>>>r&1)),b.getMask(t,i,o-s)&&(c=!c),this.modules[i][o-s]=c,-1==--r&&(a++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(e,t,n){for(var i=w.getRSBlocks(e,t),a=new D,o=0;o<n.length;o++){var s=n[o];a.put(s.mode,4),a.put(s.getLength(),b.getLengthInBits(s.mode,e)),s.write(a)}for(var c=0,l=0;l<i.length;l++)c+=i[l].dataCount;if(a.getLengthInBits()>8*c)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*c+")");for(a.getLengthInBits()+4<=8*c&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=8*c||(a.put(r.PAD0,8),a.getLengthInBits()>=8*c));)a.put(r.PAD1,8);return r.createBytes(a,i)},r.createBytes=function(e,t){for(var n=0,i=0,r=0,a=new Array(t.length),o=new Array(t.length),s=0;s<t.length;s++){var c=t[s].dataCount,l=t[s].totalCount-c;i=Math.max(i,c),r=Math.max(r,l),a[s]=new Array(c);for(var u=0;u<a[s].length;u++)a[s][u]=255&e.buffer[u+n];n+=c;var h=b.getErrorCorrectPolynomial(l),f=new S(a[s],h.getLength()-1).mod(h);o[s]=new Array(h.getLength()-1);for(var d=0;d<o[s].length;d++){var p=d+f.getLength()-o[s].length;o[s][d]=p>=0?f.get(p):0}}for(var g=0,m=0;m<t.length;m++)g+=t[m].totalCount;for(var y=new Array(g),v=0,_=0;_<i;_++)for(var C=0;C<t.length;C++)_<a[C].length&&(y[v++]=a[C][_]);for(var M=0;M<r;M++)for(var w=0;w<t.length;w++)M<o[w].length&&(y[v++]=o[w][M]);return y};for(var a={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o=1,s=0,c=3,l=2,u=0,h=1,f=2,d=3,p=4,g=5,m=6,y=7,b={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;b.getBCHDigit(t)-b.getBCHDigit(b.G15)>=0;)t^=b.G15<<b.getBCHDigit(t)-b.getBCHDigit(b.G15);return(e<<10|t)^b.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;b.getBCHDigit(t)-b.getBCHDigit(b.G18)>=0;)t^=b.G18<<b.getBCHDigit(t)-b.getBCHDigit(b.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return b.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case u:return(t+n)%2==0;case h:return t%2==0;case f:return n%3==0;case d:return(t+n)%3==0;case p:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case g:return t*n%2+t*n%3==0;case m:return(t*n%2+t*n%3)%2==0;case y:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new S([1],0),n=0;n<e;n++)t=t.multiply(new S([1,v.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var r=0;r<t;r++){for(var a=0,o=e.isDark(i,r),s=-1;s<=1;s++)if(!(i+s<0||t<=i+s))for(var c=-1;c<=1;c++)r+c<0||t<=r+c||0==s&&0==c||o==e.isDark(i+s,r+c)&&a++;a>5&&(n+=3+a-5)}for(var l=0;l<t-1;l++)for(var u=0;u<t-1;u++){var h=0;e.isDark(l,u)&&h++,e.isDark(l+1,u)&&h++,e.isDark(l,u+1)&&h++,e.isDark(l+1,u+1)&&h++,0!=h&&4!=h||(n+=3)}for(var f=0;f<t;f++)for(var d=0;d<t-6;d++)e.isDark(f,d)&&!e.isDark(f,d+1)&&e.isDark(f,d+2)&&e.isDark(f,d+3)&&e.isDark(f,d+4)&&!e.isDark(f,d+5)&&e.isDark(f,d+6)&&(n+=40);for(var p=0;p<t;p++)for(var g=0;g<t-6;g++)e.isDark(g,p)&&!e.isDark(g+1,p)&&e.isDark(g+2,p)&&e.isDark(g+3,p)&&e.isDark(g+4,p)&&!e.isDark(g+5,p)&&e.isDark(g+6,p)&&(n+=40);for(var m=0,y=0;y<t;y++)for(var b=0;b<t;b++)e.isDark(b,y)&&m++;return n+=10*(Math.abs(100*m/t/t-50)/5)}},v={glog:function(e){if(e<1)throw new Error("glog("+e+")");return v.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return v.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},_=0;_<8;_++)v.EXP_TABLE[_]=1<<_;for(var C=8;C<256;C++)v.EXP_TABLE[C]=v.EXP_TABLE[C-4]^v.EXP_TABLE[C-5]^v.EXP_TABLE[C-6]^v.EXP_TABLE[C-8];for(var M=0;M<255;M++)v.LOG_TABLE[v.EXP_TABLE[M]]=M;function S(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function w(e,t){this.totalCount=e,this.dataCount=t}function D(){this.buffer=new Array,this.length=0}S.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=v.gexp(v.glog(this.get(n))+v.glog(e.get(i)));return new S(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=v.glog(this.get(0))-v.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var r=0;r<e.getLength();r++)n[r]^=v.gexp(v.glog(e.get(r))+t);return new S(n,0).mod(e)}},w.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],w.getRSBlocks=function(e,t){var n=w.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,r=new Array,a=0;a<i;a++)for(var o=n[3*a+0],s=n[3*a+1],c=n[3*a+2],l=0;l<o;l++)r.push(new w(s,c));return r},w.getRsBlockTable=function(e,t){switch(t){case o:return w.RS_BLOCK_TABLE[4*(e-1)+0];case s:return w.RS_BLOCK_TABLE[4*(e-1)+1];case c:return w.RS_BLOCK_TABLE[4*(e-1)+2];case l:return w.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},D.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},cc.Class({extends:cc.Component,editor:{requireComponent:cc.Graphics,executeInEditMode:!0},properties:{url:{default:"Hello World!",notify:function(e){this.url!==e&&this.setContent()}},backColor:{type:cc.Color,default:cc.Color.WHITE,notify:function(){this.setContent()}},foreColor:{type:cc.Color,default:cc.Color.BLACK,notify:function(e){this.node.color=this.graphics.fillColor,this.setContent()}},margin:{type:cc.Float,default:10,notify:function(e){e!==this.margin&&this.setContent()}},_size:200,size:{type:cc.Float,get:function(){return this._size},set:function(e){this._size!==e&&(this.node.setContentSize(e,e),this.setContent(),this._size=e)}}},onLoad:function(){this.graphics=this.node.getComponent(cc.Graphics),this.node.setContentSize(this.size,this.size),this.setContent()},setContent:function(){this.graphics=this.node.getComponent(cc.Graphics),this.graphics.clear(),this.graphics.fillColor=this.backColor;var e=this.node.width;this.graphics.rect(0-.5*e,0-.5*e,e,e),this.graphics.fill(),this.graphics.close();var t=new r(-1,2);t.addData(this.url),t.make(),this.graphics.fillColor=this.foreColor;for(var n=e-2*this.margin,i=t.getModuleCount(),a=n/i,o=n/i,s=Math.ceil(a),c=Math.ceil(o),l=0;l<i;l++)for(var u=0;u<i;u++)t.isDark(l,u)&&(this.graphics.rect(this.margin+u*a-.5*e,n-o-Math.round(l*o)+this.margin-.5*e,s,c),this.graphics.fill())}}),cc._RF.pop()},{}],Record:[function(e,t,n){"use strict";cc._RF.push(t,"d31b217ig9GA40qi2LI025q","Record"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./base/BaseView"),r=cc._decorator,a=r.ccclass,o=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mRiQi=null,t}return __extends(t,e),t.prototype.onLoad=function(){for(var e=new Date,t=e.getMonth()+1,n=e.getDate(),i=1;i<8;i++)1===i?this.mRiQi.getChildByName("tab").getChildByName("toggle1").getChildByName("Label").getComponent(cc.Label).string="\u4eca\u65e5":2===i?this.mRiQi.getChildByName("tab").getChildByName("toggle2").getChildByName("Label").getComponent(cc.Label).string="\u6628\u65e5":3===i?this.mRiQi.getChildByName("tab").getChildByName("toggle3").getChildByName("Label").getComponent(cc.Label).string=t+"-"+(n-2):4===i?this.mRiQi.getChildByName("tab").getChildByName("toggle4").getChildByName("Label").getComponent(cc.Label).string=t+"-"+(n-3):5===i?this.mRiQi.getChildByName("tab").getChildByName("toggle5").getChildByName("Label").getComponent(cc.Label).string=t+"-"+(n-4):6===i?this.mRiQi.getChildByName("tab").getChildByName("toggle6").getChildByName("Label").getComponent(cc.Label).string=t+"-"+(n-5):7===i&&(this.mRiQi.getChildByName("tab").getChildByName("toggle7").getChildByName("Label").getComponent(cc.Label).string=t+"-"+(n-6))},t.prototype.start=function(){},__decorate([o(cc.Node)],t.prototype,"mRiQi",void 0),t=__decorate([a],t)}(i.default);n.default=s,cc._RF.pop()},{"./base/BaseView":"BaseView"}],ResManager:[function(e,t,n){"use strict";cc._RF.push(t,"c7064ZZFLhI9JhM4oEEzpjQ","ResManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../libs/pbkiller/src/pbkiller"),s=e("../common/log/LogWrap"),c=e("./UIManager"),l=cc._decorator,u=l.ccclass,h=(l.property,["cc.AnimationClip","cc.SpriteFrame","cc.Asset","sp.SkeletonData","cc.Texture2D","cc.SpriteAtlas","cc.EffectAsset","cc.BitmapFont","cc.TTFFont","cc.Prefab","cc.AudioClip","cc.TextAsset","dragonBones.DragonBonesAsset","dragonBones.DragonBonesAtlasAsset","cc.Material"]),f=function(){function e(){this.atlas=[],this.caches=[],this.commonRes=[],this.pbs=[]}var t;return t=e,e.prototype.loadResAsync=function(e,t,n){return void 0===n&&(n=!0),r(this,void 0,void 0,function(){var i=this;return a(this,function(r){return[2,new Promise(function(r,a){var o=cc.loader.getRes(e,t);o?r(o):cc.loader.loadRes(e,t,function(o,s){if(o)a(o.message||o);else{switch(t){case cc.SpriteAtlas:-1==i.atlas.indexOf(s)&&i.atlas.push(s);default:if(n)t==cc.Prefab?i.caches.push({url:e,type:t}):i.caches.unshift({url:e,type:t});else for(var c=0,l=cc.loader.getDependsRecursively(e);c<l.length;c++){var u=l[c];-1===i.commonRes.indexOf(u)&&i.commonRes.push(u)}}r(s)}})})]})})},e.prototype.loadDirResAsync=function(e,t){return new Promise(function(n,i){cc.loader.loadResDir(e,t,function(e,t){e?i(e.message||e):n(t)})})},e.prototype.loadAsync=function(e){return r(this,void 0,void 0,function(){return a(this,function(t){return[2,new Promise(function(t,n){cc.loader.load(e,function(e,i){e?n(e.message||e):t(i)})})]})})},e.prototype.loadProto=function(e){return r(this,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return this.pbs[e]?[2,this.pbs[e]]:[4,this.loadDirResAsync(e,cc.Asset)];case 1:return n.sent(),t=o.loadProtoDir(e),this.pbs[e]=t,[2,t]}})})},e.prototype.getRes=function(e,t){return cc.loader.getRes(e,t)},e.prototype.getSpriteFrame=function(e){for(var t=0,n=this.atlas;t<n.length;t++){return n[t].getSpriteFrame(e)}return null},e.prototype.clear=function(){this.atlas.forEach(function(e){e.destroy()})},e.prototype.loadSubSettings=function(e){if(cc.sys.isNative&&!cc.loader.downloader._subpackages[e]){var t=jsb.fileUtils.getStringFromFile("subpackages/"+e+"/"+e+".settings");if(t&&""!=t){var n=JSON.parse(t);cc.loader.downloader._subpackages[e]=n.subpackages[e];var i=new cc.Pipeline.SubPackPipe(n.subpackages);cc.loader.insertPipeAfter(cc.loader.assetLoader,i);var r=cc.loader._assetTables,a=n.rawAssets;if(a)for(var o in a){var c=a[o];for(var l in c){var u=c[l],f=u[0],d=u[1];"number"==typeof d&&(d=h[d]);var p=cc.js._getClassById(d);if(p){var g=cc.path.extname(f);g&&(f=f.slice(0,-g.length));var m=1===u[2];r[o]&&r[o].add(f,l,p,!m)}else cc.error("Cannot get",d)}}}else s.LogWrap.warn("subpackages/"+e+"/"+e+".settings is not exits!")}},e.prototype.loadSubPackage=function(e,t){this.loadSubSettings(e),cc.loader.downloader.loadSubpackage(e,function(e){e?(s.LogWrap.log(JSON.stringify(e)),t(!1)):t(!0)})},e.prototype.releasePrefab=function(){for(var e=cc.loader.getDependsRecursively(c.UIManager.viewPath),t=this.caches.length-1;t--;t>=0){var n=this.caches[t],i=n.url;if(i!=c.UIManager.viewPath){switch(n.type){case cc.SpriteFrame:case sp.SkeletonData:case dragonBones.DragonBonesAsset:case dragonBones.DragonBonesAtlasAsset:cc.loader.releaseRes(i,n.type);break;case cc.SpriteAtlas:for(var r=0,a=this.atlas;r<a.length;r++){var o=a[r];if(-1!=n.url.indexOf(o.name.replace(".plist",""))){var s=this.atlas.indexOf(o);if(-1!=s){this.atlas.splice(s,1);break}}}cc.loader.releaseRes(i,n.type);break;default:for(var l=cc.loader.getDependsRecursively(i),u=l.length-1;u--;u>=0){var h=e.indexOf(l[u]),f=this.commonRes.indexOf(l[u]);-1===h&&-1===f||l.splice(u,1)}cc.loader.release(l)}this.caches.splice(t,1)}}},e.instance=new t,e=t=i([u],e)}();n.default=f,n.ResManager=f.instance,cc._RF.pop()},{"../common/log/LogWrap":"LogWrap","../libs/pbkiller/src/pbkiller":"pbkiller","./UIManager":"UIManager"}],Roominformation:[function(e,t,n){"use strict";cc._RF.push(t,"77886ybVthIZaU96uoowOHE","Roominformation");var i=l(e("../view/base/BaseView")),r=e("../manager/DataManagerClub"),a=(e("../manager/EventManager"),e("../manager/UIManager")),o=e("../manager/NetManager"),s=l(e("../common/UIHelper")),c=e("../game/nn/NNData");function l(e){return e&&e.__esModule?e:{default:e}}cc.Class({extends:i.default,properties:{mmname:cc.Label,renshu:cc.Label,ruzhuo:cc.Label,jishu:cc.Label,chuju:cc.Label,guizhe:cc.Label,wanfa:cc.Label,icon:[cc.Node],dengdai:cc.Label},onLoad:function(){console.log("Roominformation",this.data);var e="\u7ecf\u5178\u725b\u725b",t="(\u725b\u4e03\u3001\u725b\u516b)2\u500d\u3001\u725b\u4e5d3\u500d\u3001\u725b\u725b4\u500d\u3001\u94f6\u725b4\u500d\u3001\u987a\u5b50\u725b5\u500d\u3001\u540c\u82b1\u725b5\u500d\u3001\u4e94\u82b1\u725b5\u500d\u3001\u846b\u82a6\u725b6\u500d\u3001\u70b8\u5f39\u725b6\u500d\u3001\u4e94\u5c0f\u725b7\u500d\u3001\u5feb\u4e50\u725b8\u500d";if(409!=this.data.gameWanfa&&407!=this.data.gameWanfa||(e="\u70b9\u5b50\u725b\u725b",t="\u725bN*1\u500d\u3001\u725b\u725b10\u500d\u3001\u94f6\u725b10\u500d\u3001\u987a\u5b50\u725b11\u500d\u3001\u4e94\u82b1\u725b11\u500d\u3001\u540c\u82b1\u725b11\u500d\u3001\u846b\u82a6\u725b12\u500d\u3001\u70b8\u5f39\u725b12\u500d\u3001\u4e94\u5c0f\u725b13\u500d\u3001\u5feb\u4e50\u725b14\u500d"),this.mmname.string=e,this.data.roomId<=0)this.jishu.string="\u5c40\u6570:\u672a\u5f00\u5c40",this.dengdai.node.active=!0;else{this.dengdai.node.active=!1,this.jishu.string="\u5c40\u6570:\u7b2c"+this.data.juShu+"\u5c40";for(var n=0;n<r.DataManagerClub.CurClubInfo.dis.length;n++){if(r.DataManagerClub.CurClubInfo.dis[n].deskId==this.data.deskId)break}for(var i=0;i<r.DataManagerClub.CurClubInfo.unfullDesk.length;i++){if(r.DataManagerClub.CurClubInfo.unfullDesk[i].deskId==this.data.deskId)break}for(var a=0;a<this.data.playerCount;a++)this.icon[a].active=!0,null!=this.data.usericon[a]&&s.default.loadHead(this.data.usericon[a].icon,this.icon[a].getChildByName("icon"));this.data.playerCount==this.data.usericon.length&&(this.node.getChildByName("button").getChildByName("jinru").active=!1,this.dengdai.string="\u5bf9\u5c40\u4eba\u6570\u5df2\u6ee1",this.dengdai.node.position=cc.v2(0,-194.486),this.dengdai.node.active=!0)}this.renshu.string="\u4eba\u6570:"+this.data.playerCount,this.ruzhuo.string="\u5165\u684c:"+this.data.joinLimit/100,this.chuju.string="\u51fa\u5c40:"+this.data.leavelimit/100,this.guizhe.string="\u89c4\u5219:\u9505\u5e95"+this.data.gameRadix/100+"\u3001\u6700\u4f4e\u4e0b\u6ce8:"+this.data.param[2]/100+"\u3001\u6ee12\u4eba\u5f00\u5c40",this.wanfa.string="\u7279\u6b8a\u73a9\u6cd5:"+t},start:function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1))},onEnterRoom:function(){if(console.log("\u8fdb\u5165\u623f\u95f4"),a.UIManager.showLoading("\u52a0\u8f7d\u4e2d..."),0==r.DataManagerClub.MyClickDesks)return a.UIManager.showTips("\u4ff1\u4e50\u90e8\u5173\u95ed\u4e2d\uff0c\u65e0\u6cd5\u8fdb\u884c\u76f8\u5173\u64cd\u4f5c"),void a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");if(r.DataManagerClub.CurClubInfo.score<this.data.joinLimit)return a.UIManager.showTips("\u79ef\u5206\u4e0d\u8db3"),void a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");if(this.isDeskFull)return a.UIManager.showTips("\u5f53\u524d\u684c\u5df2\u6ee1\u5458"),void a.UIManager.hideLoading("\u52a0\u8f7d\u4e2d...");if(this.data.isMatch){var e=[];return e.jushu=this.juShu,e.playerCount=this.playerCount,e.deskId=this.deskId,void a.UIManager.open("prefabs/club/ClubRoomMatch",e)}return this.data.deskId>0?(r.DataManagerClub.complete=!0,o.NetManager.protocolRpc.sendC2S_CreateDesk(this.data.deskId,0),void(c.NNData.preparation=!0)):this.data.roomId>0?(r.DataManagerClub.join=!0,o.NetManager.protocolRpc.sendC2S_JoinInRoom(this.data.roomId),void(c.NNData.preparation=!0)):void 0},onWatch:function(){console.log("\u89c2\u6218")},close:function(){this.node.destroy()}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../game/nn/NNData":"NNData","../manager/DataManagerClub":"DataManagerClub","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../view/base/BaseView":"BaseView"}],SelectList:[function(e,t,n){"use strict";cc._RF.push(t,"369459lopNAs7Fm9K8EQBbh","SelectList"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../common/utils/Utils"),r=cc._decorator,a=r.ccclass,o=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.select=null,t.select_label=null,t.arrow=null,t.select_item=null,t.menu_content=null,t.select_list=[],t.is_select=!1,t}return __extends(t,e),t.prototype.init=function(e,t,n){var r=this;this.select_list=e,this.menu_content.destroyAllChildren();for(var a=function(e){var a=cc.instantiate(o.select_item);a.getChildByName("Label").getComponent(cc.Label).string=o.select_list[e],i.default.removeClickEvent(a),i.default.addClickEventEND(a,function(){r.onSelectEvent(e,t,n)}),a.active=!0,o.menu_content.addChild(a)},o=this,s=0;s<this.select_list.length;s++)a(s);this.select_label.string=this.select_list[0],this.arrow.scaleY=1,this.menu_content.active=!1,i.default.removeClickEvent(this.select),i.default.addClickEventEND(this.select,function(){r.onShowMenuList()})},t.prototype.onShowMenuList=function(){this.menu_content.active=!this.is_select,this.arrow.scaleY=this.is_select?1:-1,this.is_select=!this.is_select},t.prototype.onSelectEvent=function(e,t,n){this.select_label.string=this.select_list[e],this.onShowMenuList(),t&&t(e,n)},t.prototype.onShowSelectLabel=function(e){this.select_label.string=this.select_list[e]},__decorate([o(cc.Node)],t.prototype,"select",void 0),__decorate([o(cc.Label)],t.prototype,"select_label",void 0),__decorate([o(cc.Node)],t.prototype,"arrow",void 0),__decorate([o(cc.Node)],t.prototype,"select_item",void 0),__decorate([o(cc.Node)],t.prototype,"menu_content",void 0),t=__decorate([a],t)}(cc.Component);n.default=s,cc._RF.pop()},{"../../common/utils/Utils":"Utils"}],Setting:[function(e,t,n){"use strict";cc._RF.push(t,"b8727GrnFVPN7GXXBxph2Em","Setting");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/BaseView"),o=e("../manager/AudioManager"),s=e("../manager/DataManager"),c=e("../manager/UIManager"),l=e("../manager/EventManager"),u=e("../Define"),h=e("../common/UIHelper"),f=e("../manager/SoundEffect"),d=e("../manager/NetManager"),p=cc._decorator,g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myinyue=null,t.myinxiao=null,t.mId=null,t.mName=null,t.mTouXiang=null,t.mVersion=null,t.miphone=null,t}return i(t,e),t.prototype.onLoad=function(){this.mVersion.string="\u7248\u672c\u53f7: "+s.DataManager.getHallVersion(),l.EventManager.on(this,u.EventDef.UpateHall,this.onPlayerData.bind(this)),this.onPlayerData(s.DataManager.playerInfo);var e=s.DataManager.storage.get("Music_switch");null==e?(this.myinyue.getComponent(cc.Toggle).isChecked=!0,o.AudioManager.setBGMVolume(.3)):(1==e&&o.AudioManager.setBGMVolume(.3),this.myinyue.getComponent(cc.Toggle).isChecked=e),this.onYinYueQuan();var t=s.DataManager.storage.get("Music_YinXiaoQuan");this.myinxiao.getComponent(cc.Toggle).isChecked=null==t||t,this.onYinXiaoQuan()},t.prototype.start=function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1))},t.prototype.onPlayerData=function(e){console.log(e),this.mName.getComponent(cc.Label).string="\u6635\u79f0:"+e.name,this.mId.getComponent(cc.Label).string="ID:"+e.id;var t=this.mTouXiang;h.default.loadHead(e.icon,t),console.log(t)},t.prototype.onYinYueQuan=function(){0==this.myinyue.getComponent(cc.Toggle).isChecked?(o.AudioManager.setBGMVolume(0),s.DataManager.storage.set("Music_switch",!1)):(o.AudioManager.setBGMVolume(.3),s.DataManager.storage.set("Music_switch",!0))},t.prototype.onYinXiaoQuan=function(){0==this.myinxiao.getComponent(cc.Toggle).isChecked?(o.AudioManager.setSFXVolume(0),s.DataManager.storage.set("Music_YinXiaoQuan",!1)):(o.AudioManager.setSFXVolume(1),s.DataManager.storage.set("Music_YinXiaoQuan",!0))},t.prototype.onQiehuan=function(){o.AudioManager.playSFX(f.SoundEffect.click),d.NetManager.succeeded(!1),s.DataManager.storage.remove("token"),s.DataManager.storage.set("loginType",!1),s.DataManager.storage.remove("SelectClubId"),c.UIManager.popup("prefabs/LogoView")},t.prototype.onTuichu=function(){o.AudioManager.playSFX(f.SoundEffect.click),cc.game.end()},r([m(cc.Node)],t.prototype,"myinyue",void 0),r([m(cc.Node)],t.prototype,"myinxiao",void 0),r([m(cc.Node)],t.prototype,"mId",void 0),r([m(cc.Node)],t.prototype,"mName",void 0),r([m(cc.Node)],t.prototype,"mTouXiang",void 0),r([m(cc.Label)],t.prototype,"mVersion",void 0),r([m(cc.Node)],t.prototype,"miphone",void 0),t=r([g],t)}(a.default);n.default=y,cc._RF.pop()},{"../Define":"Define","../common/UIHelper":"UIHelper","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","./base/BaseView":"BaseView"}],Share:[function(e,t,n){"use strict";cc._RF.push(t,"a4587gdzvhJSZKTvQ1s3WIY","Share");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/BaseView"),o=e("../manager/AudioManager"),s=e("../manager/DataManager"),c=e("../net/HttpUrl"),l=e("../manager/UIManager"),u=e("../manager/NetManager"),h=e("../net/NetCode"),f=e("../common/UIHelper"),d=e("../common/Device"),p=e("../manager/SoundEffect"),g=cc._decorator,m=g.ccclass,y=g.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mRQCode=null,t.mAddress=null,t.QRcode=null,t}return i(t,e),t.prototype.start=function(){var e=this;this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1));var t=s.DataManager.playerInfo.id,n=s.DataManager.storage.getItem("token"),i=c.HttpUrl.getHallRQCode.url+"?userId="+t+"&loginToken="+n+"&teamId=111";u.NetManager.requestGetUrl(i,function(t,n){var i=JSON.parse(n);i.status==h.HTTP_CODE.SUCCESS?(f.default.loadHead(i.data.pic,e.QRcode),e.mAddress.string=i.data.url):l.UIManager.showTips(h.HTTP_CODE_MSG[i.status])})},t.prototype.onClickSavePic=function(e){o.AudioManager.playSFX(p.SoundEffect.click)},t.prototype.onClickAddress=function(e){o.AudioManager.playSFX(p.SoundEffect.click),d.default.setClipBoard(this.mAddress.string),l.UIManager.showTips("\u590d\u5236\u6210\u529f")},r([y(cc.Node)],t.prototype,"mRQCode",void 0),r([y(cc.Label)],t.prototype,"mAddress",void 0),r([y(cc.Node)],t.prototype,"QRcode",void 0),t=r([m],t)}(a.default);n.default=b,cc._RF.pop()},{"../common/Device":"Device","../common/UIHelper":"UIHelper","../manager/AudioManager":"AudioManager","../manager/DataManager":"DataManager","../manager/NetManager":"NetManager","../manager/SoundEffect":"SoundEffect","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode","./base/BaseView":"BaseView"}],Socket:[function(e,t,n){"use strict";cc._RF.push(t,"981d7uicndMxowzNawE0KJR","Socket"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Define"),r=e("../common/log/LogWrap"),a=e("../manager/EventManager"),o=e("../manager/NetManager"),s=e("../manager/UIManager"),c=e("../common/Text"),l=e("../libs/pbkiller/src/pbkiller"),u=function(){function e(e,t){this.webSocket=null,this.type=i.SocketType.Hall,this.isConnect=!1,this.url=null,this.pb=null,this.intervalId=null,this.isNeedReconnect=!0,this.ReconnectionsNumber=0,this.type=t,e?this.url=e:(this.url=i.wsUrl,r.LogWrap.err("\u8fde\u63a5\u5730\u5740\u9519\u8beferr",e)),this.connect()}return e.prototype.connect=function(){var e=this;if(!this.url)return console.warn("Socket","url is null!"),void r.LogWrap.err("\u8fde\u63a5\u5730\u5740\u9519\u8beferr",this.url);l.preload(function(){e.pb=l.loadAll()}),console.log("connect",this.url,this.type),this.webSocket=new WebSocket(this.url),this.webSocket.binaryType="arraybuffer",this.webSocket.onopen=this.onOpen.bind(this),this.webSocket.onmessage=this.onMessage.bind(this),this.webSocket.onerror=this.onError.bind(this),this.webSocket.onclose=this.onClose.bind(this)},e.prototype.send=function(e){this.isConnect?(console.log("readyState->",this.webSocket.readyState),this.webSocket.send(e)):console.log("Socket","no connect!",this.type)},e.prototype.onOpen=function(e){console.log("Socket","connect onOpen!",this.type),o.NetManager.protocolRpc.heartTime=cc.sys.now(),this.isConnect=!0,s.UIManager.hideLoading(c.Tips.NetCloseWaiting),s.UIManager.hideLoading(c.Tips.NetError),a.EventManager.emit(i.EventDef.SocketOpen,this.type,this.isNeedReconnect),this.startHeart()},e.prototype.onMessage=function(e){if(this.isConnect)if(cc.sys.WECHAT_GAME||cc.sys.isNative)this.decode(e.data);else{var t=new FileReader;t.readAsArrayBuffer(e.data),t.onload=function(e){this.decode(t.result)}.bind(this)}},e.prototype.onError=function(e){console.log("Socket","connect onError!",this.type),this.ReconnectionsNumber++,1==this.ReconnectionsNumber&&s.UIManager.showLoading(c.Tips.NetError),this.isConnect=!1},e.prototype.onClose=function(e){console.log("Socket","connect onClose!",this.isNeedReconnect,this.type),this.isConnect=!1,this.isNeedReconnect&&(this.close(),setTimeout(this.connect.bind(this),500)),this.isNeedReconnect=!0},e.prototype.decode=function(e){var t=new this.pb.rpc.Request.decode(e);console.log("\u5916\u5c42\u89e3\u6790",t);var n=t.method,i=n.split(".");if(this.pb[i[0]][i[1]]){var r=new this.pb[i[0]][i[1]].decode(t.serialized_request);console.log("\u5185\u5c42\u89e3\u6790",r),o.NetManager.handlerMessage(n,r)}},e.prototype.string2buffer=function(e){for(var t="",n=0;n<e.length;n++)""===t?t=e.charCodeAt(n).toString(16):t+=","+e.charCodeAt(n).toString(16);return new Uint8Array(t.match(/[\da-f]{2}/gi).map(function(e){return parseInt(e,16)})).buffer},e.prototype.stringToByte=function(e){var t,n,i=new Array;t=e.length;for(var r=0;r<t;r++)(n=e.charCodeAt(r))>=65536&&n<=1114111?(i.push(n>>18&7|240),i.push(n>>12&63|128),i.push(n>>6&63|128),i.push(63&n|128)):n>=2048&&n<=65535?(i.push(n>>12&15|224),i.push(n>>6&63|128),i.push(63&n|128)):n>=128&&n<=2047?(i.push(n>>6&31|192),i.push(63&n|128)):i.push(255&n);return i},e.prototype.encode=function(e,t){var n=new this.pb.rpc.Request;n.method=e;var i=new this.pb.rpc.LoginArgs;i.account="18668010130",i.AccountType=2,i.Token="6666",i.Version="0.0.1",i.DeviceType=1,i.DeviceDescription="windows",i.LoginIp="",i.pkgId="com.tongyou.game",i.channelId=9,i.icon="10",i.name="test_account";var r=new this.pb.rpc.C2S_AuthLogin;return r.accountType=2,r.loginArgs=i,n.serialized_request=r.toArrayBuffer(),n},e.prototype.heart=function(){var e=cc.sys.now()-o.NetManager.protocolRpc.heartTime;if(e>21e3&&0!=o.NetManager.protocolRpc.heartTime)return s.UIManager.showTips("\u5fc3\u8df3\u8d85\u65f6\u65f6\u95f4:"+e),cc.log("\u5fc3\u8df3\u5305\u8d85\u65f6,\u76f4\u63a5\u65ad\u7ebf\u91cd\u8fde"),s.UIManager.showLoading(c.Tips.NetCloseWaiting),void this.close(!0);o.NetManager.protocolRpc.sendHeart()},e.prototype.startHeart=function(){i.HeartEnabled&&(this.stopHeart(),this.intervalId=setInterval(this.heart.bind(this),5e3))},e.prototype.stopHeart=function(){null!=this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},e.prototype.close=function(e){void 0===e&&(e=!1),this.isConnect=!1,this.isNeedReconnect=e,this.stopHeart(),this.webSocket&&(this.webSocket.close(),this.webSocket=null)},e.prototype.getType=function(){return this.type},e}();n.default=u,cc._RF.pop()},{"../Define":"Define","../common/Text":"Text","../common/log/LogWrap":"LogWrap","../libs/pbkiller/src/pbkiller":"pbkiller","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager"}],SoundEffect:[function(e,t,n){"use strict";cc._RF.push(t,"24727uuL9pEDZbvUd5E7Vs2","SoundEffect"),Object.defineProperty(n,"__esModule",{value:!0}),n.SoundEffect={HallMusic:"HallMusic.mp3",button:"button.mp3",click:"ui_click.mp3",kawuxingbj:"kwx_sound/bgmdz.mp3",pdkbj1:"pdk_sound/bgMusicPDK1.mp3",pdkbj:"pdk_sound/bgMusicPDK.mp3",ClickVoice:"ClickVoice.mp3"},cc._RF.pop()},{}],SpineAdapter:[function(e,t,n){"use strict";cc._RF.push(t,"1b5d6qiiNNJS7WPfoHv9Pgg","SpineAdapter");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.adapter()},t.prototype.start=function(){},t.prototype.onDestroy=function(){},t.prototype.onSizeChanged=function(){this.adapter()},t.prototype.adapter=function(){var e=cc.winSize.width/1280,t=cc.winSize.height/720;t>e&&(this.node.scale=t)},t=r([o],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],Text:[function(e,t,n){"use strict";cc._RF.push(t,"df0aa8B00RBNJZ2EYaB4yFv","Text"),Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorCode={10101:"\u670d\u52a1\u5668\u65e0\u6cd5\u89e3\u6790",10102:"\u9a8c\u8bc1\u7801\u9519\u8bef",10104:"\u624b\u673a\u53f7\u672a\u88ab\u6ce8\u518c",10202:"\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",10203:"\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",10301:"\u539f\u5bc6\u7801\u9519\u8bef",10302:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4",10501:"\u6635\u79f0\u5df2\u88ab\u4f7f\u7528",10601:"\u539f\u5b89\u5168\u7801\u9519\u8bef",10602:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4",106:"\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25",11002:"\u91d1\u5e01\u4e0d\u8db3",11003:"token\u9519\u8bef"},n.Tips={InputPhone:"\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7",InputAccount:"\u8bf7\u8f93\u51654-16\u4f4d\u8d26\u53f7",PhoneNumberError:"\u624b\u673a\u53f7\u7801\u6709\u8bef",SendCodeSuccess:"\u9a8c\u8bc1\u7801\u5df2\u53d1\u9001\u81f3\u60a8\u7684\u624b\u673a, \u8bf7\u6ce8\u610f\u67e5\u6536",SendCodeFail:"\u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25",InputCode:"\u8bf7\u8f93\u51656\u4f4d\u9a8c\u8bc1\u7801",InputSafeCode:"\u8bf7\u8f93\u51656-16\u4f4d\u5b89\u5168\u7801",InputPassword:"\u8bf7\u8f93\u51656-16\u4f4d\u5bc6\u7801",InputOldPassword:"\u8bf7\u8f93\u5165\u539f\u5bc6\u7801",InputNewOldNotSame:"\u65b0\u65e7\u5bc6\u7801\u4e0d\u80fd\u76f8\u540c",PasswordNotSame:"\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4,\u8bf7\u91cd\u65b0\u8f93\u5165",RetrievePasswordSuccess:"\u5bc6\u7801\u627e\u56de\u6210\u529f",RetrievePasswordFail:"\u5bc6\u7801\u627e\u56de\u5931\u8d25",SafeCodeNotSame:"\u4e24\u6b21\u8f93\u5165\u7684\u5b89\u5168\u7801\u4e0d\u4e00\u81f4",RetrieveSafeCodeSuccess:"\u5b89\u5168\u7801\u627e\u56de\u6210\u529f",RetrieveSafeCodeFail:"\u5b89\u5168\u7801\u627e\u56de\u5931\u8d25",InputFormat:"\u8bf7\u8f93\u5165\u7b26\u5408\u7684\u683c\u5f0f",ChangePhoneSuccess:"\u66f4\u6362\u624b\u673a\u6210\u529f",BindPhone:"\u7ed1\u5b9a\u624b\u673a\u540e\u624d\u53ef\u4f7f\u7528\u6b64\u529f\u80fd",BindAccount:"\u6e38\u5ba2\u4e0d\u5f00\u653e\u6b64\u529f\u80fd\uff0c\u8bf7\u5148\u7ed1\u5b9a\u624b\u673a\u5347\u7ea7\u6210\u6b63\u5f0f\u8d26\u6237",BindPhoneSuccess:"\u7ed1\u5b9a\u624b\u673a\u6210\u529f",BindPhoneFail:"\u7ed1\u5b9a\u624b\u673a\u5931\u8d25",BindPhoneShort:"\u8bf7\u5148\u7ed1\u5b9a\u624b\u673a\u54e6",BindPhoneAndSafeCode:"\u4e3a\u4e86\u60a8\u7684\u8d26\u6237\u5b89\u5168\uff0c\u8bf7\u5148\u7ed1\u5b9a\u624b\u673a\u5e76\u8bbe\u7f6e\u5b89\u5168\u7801",BindSafeCode:"\u8bf7\u8bbe\u7f6e\u5b89\u5168\u7801",UpdateFail:"\u66f4\u65b0\u5931\u8d25\u662f\u5426\u91cd\u542f\u540e\u518d\u8bd5\uff01",ReciveSuccess:"\u9886\u53d6\u6210\u529f",ReciveFail:"\u9886\u53d6\u5931\u8d25",NotActivity:"\u6682\u65e0\u6d3b\u52a8",NotPlayerId:"\u73a9\u5bb6ID\u4e0d\u5b58\u5728\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",SetSuccess:"\u8bbe\u7f6e\u6210\u529f",SetFail:"\u8bbe\u7f6e\u5931\u8d25",ModifySuccess:"\u4fee\u6539\u6210\u529f",ModifyFail:"\u4fee\u6539\u5931\u8d25",NotKeFu:"\u6682\u65e0\u5ba2\u670d",CopySuccess:"\u590d\u5236\u6210\u529f",RedPacketRainCD:"\u65f6\u95f4\u672a\u5230\u6216\u5df2\u62a2\u8fc7\uff0c\u8bf7\u7b49\u5f85\u4e0b\u6b21\u673a\u4f1a",RedPacketOver:"\u672c\u6b21\u62a2\u5305\u5df2\u7ed3\u675f, \u8bf7\u7b49\u5f85\u4e0b\u4e00\u6b21",ShakeGoldenGoose:"\u79ef\u5206\u4e0d\u8db3\uff0cVIP\u7b49\u7ea7\u8d8a\u9ad8\u6bcf\u65e5\u79ef\u5206\u8d8a\u591a\uff0c\u90e8\u5206\u6d3b\u52a8\u5145\u503c\u8d60\u9001",NetError:"\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",DownloadFail:"\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",EnterRoomWaiting:"\u8fdb\u5165\u623f\u95f4\u4e2d...",NetCloseWaiting:"\u7f51\u7edc\u5df2\u7ecf\u65ad\u5f00...",RechargeWaiting:"\u8bf7\u6c42\u8ba2\u5355\u4e2d..."},cc._RF.pop()},{}],TipsPopup:[function(e,t,n){"use strict";cc._RF.push(t,"bdd21vzoXNKtKCCQ6MrqDOZ","TipsPopup"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../base/PopupView"),r=cc._decorator,a=r.ccclass,o=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.initComponent=function(){if(this.getItem("btn_sure").registerClick(this.onClickSure.bind(this)),this.getItem("btn_cancel").registerClick(this.onClickCancel.bind(this)),this.getItem("btn_close").registerClick(this.onClickCancel.bind(this)),this.data&&this.data.status)switch(this.data.status){case 1:this.getItem("btn_cancel").node.parent.active=!1,this.getItem("btn_close").node.active=!1;break;case 2:this.getItem("btn_cancel").node.parent.active=!1}this.getItem("label_info").string=this.data.text,this.getItem("label_sure").string=this.data.btnText.sure,this.getItem("label_cancel").string=this.data.btnText.cancel},t.prototype.onClickSure=function(){this.node.destroy(),this.data&&this.data.callback&&this.data.callback(!0)},t.prototype.onClickCancel=function(){this.node.destroy(),this.data&&this.data.callback&&this.data.callback(!1)},t=__decorate([a],t)}(i.default));n.default=o,cc._RF.pop()},{"../base/PopupView":"PopupView"}],TipsServerPopup:[function(e,t,n){"use strict";cc._RF.push(t,"27beeXCHLtPxq8VLe7fbS9Z","TipsServerPopup"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../common/Device"),r=e("../../common/utils/Utils"),a=e("../base/PopupView"),o=cc._decorator,s=o.ccclass,c=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=300,t}return __extends(t,e),t.prototype.initComponent=function(){this.getItem("btn_sure").registerClick(this.onClickSure.bind(this)),this.getItem("btn_cancel").registerClick(this.onClickCancel.bind(this)),this.getItem("btn_close").registerClick(this.onClickClose.bind(this))},t.prototype.start=function(){this.data.left_open_time&&(this.time=this.data.left_open_time),this.updateTime(),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.callFunc(this.updateTime.bind(this)))))},t.prototype.updateTime=function(){var e=r.default.timeStrFormat(this.time);this.getItem("label_info").string="\u6e38\u620f\u6b63\u5728\u5347\u7ea7\u66f4\u65b0\u4e2d\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u5ba2\u670d\n\u9884\u8ba1\u66f4\u65b0\u65f6\u95f4\uff1a"+e,this.time-=1,this.time<-1&&cc.game.restart()},t.prototype.onClickSure=function(){cc.game.restart()},t.prototype.onClickCancel=function(){i.default.openUrl(this.data.serviceLink)},t.prototype.onClickClose=function(){cc.game.end()},t=__decorate([s],t)}(a.default));n.default=c,cc._RF.pop()},{"../../common/Device":"Device","../../common/utils/Utils":"Utils","../base/PopupView":"PopupView"}],UIHelper:[function(e,t,n){"use strict";cc._RF.push(t,"f9bc9DSJD5FqYkANWk5bf8Z","UIHelper");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../view/common/componet/ButtonEx"),s=e("../manager/ResManager"),c=e("./log/LogWrap"),l=e("./Device"),u=e("../Define"),h=e("./Text"),f=cc._decorator,d=f.ccclass,p=(f.property,{btn_:o.default,label_:cc.Label,input_:cc.EditBox,toggle_:cc.Toggle,bar_:cc.ProgressBar,sp_:sp.Skeleton,page_:cc.PageView,slider_:cc.Slider,scroll_:cc.ScrollView}),g=function(){function e(){}var t;return t=e,e.parseItem=function(e){var t=e.name;for(var n in p){if(0==t.indexOf(n)){var i=e.getComponent(p[n]);if(i)return i;switch(n){case"btn_":(i=e.getComponent(cc.Button))||(i=e.addComponent(p[n]));break;default:i=e.addComponent(p[n])}return i}}return e},e.loadItem=function(e){var n={},i=function(e){e.children.forEach(function(e){n[e.name]=t.parseItem(e),i(e)})};return i(e),n},e.loadHead=function(e,t){return r(this,void 0,void 0,function(){var n;return a(this,function(i){return cc.sys.isNative||(n="resources/view/logo/acc/headIcon.jpg",e=cc.url.raw(n)),cc.loader.load({url:e,type:"jpg"},function(e,n){e?console.log(e):cc.isValid(t)&&(t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n))}),[2]})})},e.setHeadIcon=function(e,t){return r(this,void 0,void 0,function(){var n,i,r,o;return a(this,function(a){switch(a.label){case 0:return n=parseInt(e)||1,i="",9999==n?r="system_head":(i=n>200?"girl/":"boy/",(r=n>200?n-200:n)>14&&(r=1)),[4,s.ResManager.loadResAsync("view/icon_head/"+i+r,cc.SpriteFrame,!1)];case 1:return o=a.sent(),cc.isValid(t)&&(t.getComponent(cc.Sprite).spriteFrame=o),[2]}})})},e.setCircleHeadIcon=function(e,t){return r(this,void 0,void 0,function(){var n,i,r,o;return a(this,function(a){switch(a.label){case 0:return n=parseInt(e)||1,i="",9999==n?r="img_xitongzhuang":(i=n>200?"nv_":"nan_",(r=n>200?n-200:n)>14&&(r=1)),[4,s.ResManager.loadResAsync("view/icon_head_circle/"+i+r,cc.SpriteFrame,!1)];case 1:return o=a.sent(),cc.isValid(t)&&(t.getComponent(cc.Sprite).spriteFrame=o),[2]}})})},e.setHeadFrame=function(e,t){return r(this,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return[4,s.ResManager.loadResAsync("view/common/img_touxiangkuang_v"+e,cc.SpriteFrame,!1)];case 1:return n=i.sent(),cc.isValid(t)&&(t.getComponent(cc.Sprite).spriteFrame=n),[2]}})})},e.setVipLevel=function(e,t){return r(this,void 0,void 0,function(){return a(this,function(e){return null,[2]})})},e.screenShot=function(e,t,n,i){if(void 0===n&&(n=!0),cc.sys.isNative){var r=cc.winSize,a=jsb.fileUtils.getWritablePath()+t;jsb.fileUtils.isFileExist(a)&&jsb.fileUtils.removeFile(a);var o=e.getComponent(cc.Camera);o||(o=e.addComponent(cc.Camera)),n||(r=cc.size(e.width,e.height),o.alignWithScreen=!1,o.orthoSize=100);var s=new cc.RenderTexture;s.initWithSize(Math.floor(r.width),Math.floor(r.height),gfx.RB_FMT_S8),o.targetTexture=s,o.render(null);var l=s.readPixels();l=function(e,t,n){for(var i=new Uint8Array(t*n*4),r=4*t,a=0;a<n;a++)for(var o=(n-1-a)*t*4,s=a*t*4,c=0;c<r;c++)i[s+c]=e[o+c];return i}(l,r.width,r.height);var u=jsb.saveImageData(l,r.width,r.height,a);u?c.LogWrap.log("save success"):c.LogWrap.log("save fail"),i&&i(u,a),e.removeComponent(cc.Camera)}},e.screenShotToLocal=function(e,n,i,r){void 0===i&&(i=!0),l.default.checkSelfPermission(u.PhonePermission.WriteExternalStotage)?t.screenShot(e,n,i,function(e,t){e&&l.default.saveTextureToLocal(t),r&&r(e,t)}):l.default.requestPermission(u.PhonePermission.WriteExternalStotage)},e.checkBindPhone=function(e,t,n){void 0===t&&(t=h.Tips.BindPhone),void 0===n&&(n="prefabs/account/BindPhoneNum")},e.checkTourist=function(e,t,n){void 0===t&&(t=h.Tips.BindAccount),void 0===n&&(n="prefabs/account/BindPhoneNum")},e.checkBindSafeCode=function(e,t){void 0===t&&(t=h.Tips.BindSafeCode)},e=t=i([d],e)}();n.default=g,cc._RF.pop()},{"../Define":"Define","../manager/ResManager":"ResManager","../view/common/componet/ButtonEx":"ButtonEx","./Device":"Device","./Text":"Text","./log/LogWrap":"LogWrap"}],UIManager:[function(e,t,n){"use strict";cc._RF.push(t,"6376blhJ/dCibZOh7O9nK9I","UIManager");var i=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(o,s)}c((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ResManager"),s=e("../view/base/BaseView"),c=e("../common/log/LogWrap"),l=e("../view/common/TipsPopup"),u=e("./DataManager"),h=e("../game/kwx/ui/KWXTips"),f=cc._decorator,d=f.ccclass,p=(f.property,function(){function e(){this.root=null,this.node_loading=null,this.node_marquee=null,this.viewName="",this.viewPath="",this.loadings={},this.popupOpenEnabled=!0}var t;return t=e,e.prototype.init=function(e){this.root=e},e.prototype.isInGameView=function(){return-1!=this.viewName.indexOf("GameView")},e.prototype.open=function(e,t,n){return r(this,void 0,void 0,function(){var i,r,l;return a(this,function(a){switch(a.label){case 0:return this.viewPath==e?(c.LogWrap.log("already open",e),[2]):(this.popupOpenEnabled=!1,[4,o.ResManager.loadResAsync(e,cc.Prefab)]);case 1:return i=a.sent(),(r=cc.instantiate(i))&&(this.viewName=r.name,this.viewPath=e,null!=t&&r.getComponent(s.default).initData(t),this.root.node_view.addChild(r),(l=r.getComponent(cc.Widget))&&l.updateAlignment()),this.root.node_view.children.forEach(function(e){e!=r&&cc.isValid(e)&&e.destroy()}),this.root.node_popup.destroyAllChildren(),o.ResManager.releasePrefab(),c.LogWrap.log("open finished",e),this.popupOpenEnabled=!0,n&&n(),[2,r]}})})},e.prototype.popup=function(e,t){return r(this,void 0,void 0,function(){var n,i,r,l,u,h;return a(this,function(a){switch(a.label){case 0:return this.popupOpenEnabled?(console.log("\u6253\u5f00\u5f39\u51fa\u6846",e),"prefabs/club/ClubHall"!=e&&"prefabs/HallView"!=e&&"prefabs/club/ClubList"!=e?[3,2]:[4,o.ResManager.loadResAsync(e,cc.Prefab,!1)]):(c.LogWrap.log("can't popup",e),[2,null]);case 1:return n=a.sent(),[3,4];case 2:return[4,o.ResManager.loadResAsync(e,cc.Prefab)];case 3:n=a.sent(),a.label=4;case 4:for(i=e.replace(/\//g,"."),r=0,l=this.root.node_popup.children;r<l.length;r++)if(u=l[r],i==u.name)return c.LogWrap.log("already popup",e),[2];return c.LogWrap.log("popup",e),(h=cc.instantiate(n))&&(h.name=i,null!=t&&h.getComponent(s.default).initData(t),this.root.node_popup.addChild(h)),[2,h]}})})},e.prototype.openGame=function(e){return r(this,void 0,void 0,function(){var t,n;return a(this,function(i){switch(i.label){case 0:return t=u.DataManager.getGameName(u.DataManager.gameType),n="game/"+t+"/"+t.toUpperCase()+"GameView",console.log("\u6253\u5f00\u6e38\u620f\u89c6\u56fe",t,n),this.viewPath==n?(c.LogWrap.log("already open game",n),[2]):[4,this.open(n,e)];case 1:return i.sent(),[2]}})})},e.prototype.showLoading=function(e,t,n,i){return void 0===t&&(t=!1),void 0===n&&(n=null),void 0===i&&(i="\u53d6  \u6d88"),r(this,void 0,void 0,function(){var t,n,i;return a(this,function(r){switch(r.label){case 0:return c.LogWrap.log("UIManager","showLoading",e),this.loadings[e]=!0,this.node_loading?[3,2]:[4,o.ResManager.loadResAsync("prefabs/common/Loading",cc.Prefab,!1)];case 1:t=r.sent(),this.node_loading=cc.instantiate(t),this.root.node_tips.addChild(this.node_loading),r.label=2;case 2:return 0==Object.keys(this.loadings).length?(this.hideLoading(),[2]):(this.node_loading&&(this.node_loading.active=!0,n=this.node_loading.getComponentsInChildren(cc.Label),(i=n[0])&&(i.string=e)),[2])}})})},e.prototype.hideLoading=function(e){if(c.LogWrap.log("UIManager","hideLoading",e),e){if(this.loadings[e]&&delete this.loadings[e],Object.keys(this.loadings).length>0)return void c.LogWrap.log(Object.keys(this.loadings).length)}else this.loadings={};cc.isValid(this.node_loading)?(c.LogWrap.log("UIManager","hideLoading ok"),this.node_loading.active=!1):c.LogWrap.log("UIManager","hideLoading vaild",e)},e.prototype.showTips=function(e){return r(this,void 0,void 0,function(){var t,n;return a(this,function(i){switch(i.label){case 0:return c.LogWrap.log("showTips->",e),[4,o.ResManager.loadResAsync("prefabs/common/Tips",cc.Prefab,!1)];case 1:return t=i.sent(),(n=cc.instantiate(t))&&(n.getComponentInChildren(cc.Label).string=e,this.root.node_tips.addChild(n)),[2]}})})},e.prototype.showTipsPopup=function(e,t,n,i){return void 0===n&&(n=2),void 0===i&&(i={sure:"\u786e   \u8ba4",cancel:"\u53d6   \u6d88"}),r(this,void 0,void 0,function(){var r,s;return a(this,function(a){switch(a.label){case 0:return c.LogWrap.log("showTipsPopup->",e),[4,o.ResManager.loadResAsync("prefabs/common/TipsPopup",cc.Prefab,!1)];case 1:return r=a.sent(),(s=cc.instantiate(r))&&(c.LogWrap.log("showTipsPopup finished->",e),s.getComponent(l.default).initData({text:e,callback:t,status:n,btnText:i}),this.root.node_tips.addChild(s)),[2]}})})},e.prototype.showKWXTipsPopup=function(e,t,n){return void 0===n&&(n=0),r(this,void 0,void 0,function(){var i,r;return a(this,function(a){switch(a.label){case 0:return[4,o.ResManager.loadResAsync("game/kwx/prefabs/KWXTips",cc.Prefab,!1)];case 1:return i=a.sent(),(r=cc.instantiate(i))&&(r.getComponent(h.default).initData({text:e,callback:t,status:n}),this.root.node_tips.addChild(r)),[2]}})})},e.prototype.showMarquee=function(){return r(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return this.node_marquee?[3,2]:[4,o.ResManager.loadResAsync("prefabs/common/Marquee",cc.Prefab,!1)];case 1:e=t.sent(),this.node_marquee=cc.instantiate(e),this.root.node_tips.addChild(this.node_marquee),t.label=2;case 2:return this.node_marquee.active=!0,[2]}})})},e.prototype.hideMarquee=function(){cc.isValid(this.node_marquee)&&(c.LogWrap.log("UIManager","hideMarquee"),this.node_marquee.active=!1)},e.prototype.close=function(e,t,n){return r(this,void 0,void 0,function(){var t,i,r,o;return a(this,function(a){for(c.LogWrap.log("close",e),t=e.replace(/\//g,"."),i=0,r=this.root.node_popup.children;i<r.length;i++)if(o=r[i],t==o.name&&cc.isValid(o))return o.destroy(),[2];return n&&n(),[2]})})},e.instance=new t,e=t=i([d],e)}());n.default=p,n.UIManager=p.instance,cc._RF.pop()},{"../common/log/LogWrap":"LogWrap","../game/kwx/ui/KWXTips":"KWXTips","../view/base/BaseView":"BaseView","../view/common/TipsPopup":"TipsPopup","./DataManager":"DataManager","./ResManager":"ResManager"}],UserInfo:[function(e,t,n){"use strict";cc._RF.push(t,"260c6q2QZVBE6WBmf5WKT6O","UserInfo");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../net/HttpUrl"),o=e("../manager/NetManager"),s=e("../manager/UIManager"),c=e("./base/PopupView"),l=e("../common/Device"),u=e("../manager/DataManager"),h=e("../manager/EventManager"),f=e("../common/UIHelper"),d=e("../net/NetCmd"),p=cc._decorator,g=p.ccclass,m=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userid=null,t.nicename=null,t.mTouXiang=null,t.mNameOn=null,t.mNamemima=null,t.mNameOf=null,t.mWenZhi=null,t.mButton=null,t.mButton1=null,t.niceiphone=null,t.nicemima=null,t.nicemima1=null,t.data=null,t.pictureData=null,t.headphotoPath=null,t.phoneCode="",t.isAnimation=!1,t.namespace="",t.first=!1,t}return i(t,e),t.prototype.onLoad=function(){this.mButton.getComponent(cc.Button).enableAutoGrayEffect=!0,this.namespace=this.nicename.string;this.node.getChildByName("input").getChildByName("input_nick").getComponent(cc.EditBox);h.EventManager.on(this,d.ProtocolRpcCmd.S2C_UpdateUserInfo,this.S2C_UpdateUserInfo.bind(this))},t.prototype.start=function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1)),h.EventManager.on(this,"openPhoto",this.getPhotoCallback.bind(this))},t.prototype.EditingDidEnded=function(e){this.namespace!=e.string?this.mButton.getComponent(cc.Button).enableAutoGrayEffect=!1:this.mButton.getComponent(cc.Button).enableAutoGrayEffect=!0},t.prototype.initData=function(e,t){if(void 0===t&&(t=!1),null!=e){console.log(e),e.mNameOn&&(this.mNameOn.active=!1,this.mNameOf.active=!0,this.mWenZhi.getComponent(cc.Label).string="\u5934\u50cf\u548c\u6635\u79f07\u5929\u5185\u53ea\u80fd\u4fee\u6539\u4e00\u6b21!"),this.data=e;var n=e.result;if(1==e.from){var i=u.DataManager.storage.getItem("userid");this.userid.getComponent(cc.Label).string=i,this.data.id=i,this.node.getChildByName("botton").getChildByName("6-bottom-wxz").active=!1}else{if(3==e.from||t){if(3==e.from&&(this.first=!0),t)this.mNamemima.active=!0,this.mWenZhi.active=!1,this.niceiphone.string=u.DataManager.playerInfo.phone+"",this.niceiphone.node.getComponent(cc.EditBox).enabled=!1;else{var r=u.DataManager.playerInfo.icon,a=this.mTouXiang;f.default.loadHead(r,a),this.node.getChildByName("gb").active=!1,this.mNameOn.active=!0,this.mWenZhi.getComponent(cc.Label).string="\u9996\u6b21\u767b\u5f55\u9700\u8981\u7ed1\u5b9a\u624b\u673a\u53f7/\u5bc6\u7801!"}this.node.getChildByName("botton").getChildByName("6-bottom-wxz").active=!1,this.nicename.node.active=!1,this.node.getChildByName("shangchuan").active=!1,this.mNameOf.active=!1,this.mButton.active=!1,this.mButton1.active=!0,this.niceiphone.node.active=!0,this.nicemima.node.active=!0,this.nicemima1.node.active=!0}else if(null!=n.name){this.nicename.getComponent(cc.EditBox).string=n.name}else{this.nicename.getComponent(cc.EditBox).string=""}if(null!=n.id)this.userid.getComponent(cc.Label).string=n.id,this.data.id=n.id;else this.userid.string=u.DataManager.storage.getItem("userid");if(null!=n.icon){console.log("data.icon",n.icon);a=this.mTouXiang;f.default.loadHead(n.icon,a)}}}},t.prototype.onOpenPictor=function(){l.default.openPhoto()},t.prototype.getPhotoCallback=function(e){var t=JSON.parse(e);console.log("\u5934\u50cf\u8def\u5f84"),console.log(t.path),this.pictureData=t.path;var n=this.mTouXiang;f.default.loadHead(t.path,n),this.mButton.getComponent(cc.Button).interactable=!0,this.mButton.getComponent(cc.Button).enableAutoGrayEffect=!1},t.prototype.onOpenPassword=function(){this.initData(this.data,!0)},t.prototype.S2C_UpdateUserInfo=function(e){0==e.result?(this.close(),this.first?(s.UIManager.showTips("\u8bbe\u7f6e\u6210\u529f"),o.NetManager.webChatLoginSuccess()):s.UIManager.showTips("\u4fee\u6539\u6210\u529f"),this.first=!1):3==e.result?s.UIManager.showTips("\u624b\u673a\u53f7\u88ab\u5360\u7528\u8bf7\u66f4\u6362\u624b\u673a\u53f7"):s.UIManager.showTips("\u4fee\u6539\u5931\u8d25")},t.prototype.onLogin=function(){var e=this.niceiphone.string,t=this.nicemima.string,n=this.nicemima1.string;if(e&&11==e.length)if(/^1[3456789]\d{9}$/.test(e))if(""!=t)if(""!=n)if(t==n){var i=parseInt(this.userid.string);console.log("\u9996\u6b21\u767b\u5f55\u63d0\u4ea4\u8d26\u53f7\u5bc6\u7801",i),o.NetManager.protocolRpc.sendC2S_UpdateUserInfo(i,e,t)}else s.UIManager.showTips("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4");else s.UIManager.showTips("\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801");else s.UIManager.showTips("\u8bf7\u8f93\u5165\u5bc6\u7801");else s.UIManager.showTips("\u624b\u673a\u53f7\u7801\u6709\u8bef");else s.UIManager.showTips("\u8bf7\u8f93\u516511\u4f4d\u624b\u673a\u53f7")},t.prototype.onPostHeadIconAndNick=function(){if(cc.sys.isNative){if(null==this.pictureData)return void s.UIManager.showTips("\u5934\u50cf\u672a\u9009\u62e9")}else!0,this.pictureData="resources/view/logo/acc/headIcon.jpg";if(""!=this.nicename.string){1!=this.data.from&&""==this.phoneCode&&(this.phoneCode=u.DataManager.storage.getItem("token"));this.pictureData,this.data.id,this.nicename.string,this.phoneCode;this.phoneCode=""==this.phoneCode?"6666":this.phoneCode;var e={url:a.HttpUrl.updateSignUp.url,id:this.data.id,name:this.nicename.string,code:this.phoneCode,imgpath:this.pictureData},t=l.default.sendPicture(JSON.stringify(e)),n=parseInt(t);if(2011==n)s.UIManager.showTips("\u6635\u79f0\u8d85\u957f");else if(2005==n)s.UIManager.showTips("\u5934\u50cf7\u5929\u5185\u53ea\u80fd\u4fee\u6539\u4e00\u6b21!");else if(2006==n)s.UIManager.showTips("\u6635\u79f07\u5929\u5185\u53ea\u80fd\u4fee\u6539\u4e00\u6b21!");else if(2004==n)s.UIManager.showTips("\u5fc5\u987b\u4e0a\u4f20\u5934\u50cf!");else if(2002==n)s.UIManager.showTips("\u5fc5\u987b\u586b\u5199\u6635\u79f0!");else if(0==n){if(s.UIManager.showTips("\u4e0a\u4f20\u6210\u529f"),1==this.data.from){s.UIManager.close("prefabs/UserInfo");var i=u.DataManager.storage.get("phone_number"),r=u.DataManager.storage.getItem("token"),c=l.default.getDeviceId();o.NetManager.protocolRpc.sendC2S_AuthLogin(3,r,i,c)}else h.EventManager.emit("head_img_update_success",e),u.DataManager.playerInfo.name=e.name,u.DataManager.playerInfo.icon=e.imgpath;this.close()}else s.UIManager.showTips("\u5f02\u5e38\u9519\u8bef!")}else s.UIManager.showTips("\u672a\u8f93\u5165\u6635\u79f0")},r([m(cc.Label)],t.prototype,"userid",void 0),r([m(cc.EditBox)],t.prototype,"nicename",void 0),r([m(cc.Node)],t.prototype,"mTouXiang",void 0),r([m(cc.Node)],t.prototype,"mNameOn",void 0),r([m(cc.Node)],t.prototype,"mNamemima",void 0),r([m(cc.Node)],t.prototype,"mNameOf",void 0),r([m(cc.Node)],t.prototype,"mWenZhi",void 0),r([m(cc.Node)],t.prototype,"mButton",void 0),r([m(cc.Node)],t.prototype,"mButton1",void 0),r([m(cc.EditBox)],t.prototype,"niceiphone",void 0),r([m(cc.EditBox)],t.prototype,"nicemima",void 0),r([m(cc.EditBox)],t.prototype,"nicemima1",void 0),t=r([g],t)}(c.default);n.default=y,cc._RF.pop()},{"../common/Device":"Device","../common/UIHelper":"UIHelper","../manager/DataManager":"DataManager","../manager/EventManager":"EventManager","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCmd":"NetCmd","./base/PopupView":"PopupView"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"bbffeddbylBu7NpAhji45+/","Utils");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../manager/AudioManager"),o=e("../../manager/DataManager"),s=e("../../manager/SoundEffect"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return i(t,e),n=t,t.removeClickEvent=function(e){e.off(cc.Node.EventType.TOUCH_END);var t=e.getComponent(cc.Button);if(t){var n=t.clickEvents;n.splice(0,n.length)}},t.addClickEvent=function(e,t,n,i,r){var a=new cc.Component.EventHandler;a.target=t,a.component=n,a.handler=i,a.customEventData=r,e.getComponent(cc.Button).clickEvents.push(a)},t.addClickEventEND=function(e,t,n){e.on(cc.Node.EventType.TOUCH_END,function(i){if(i.stopPropagation(),t&&t(e,n),n){if(n.customAudio)return;a.AudioManager.playSFX(s.SoundEffect.button)}})},t.addSlideEvent=function(e,t,n,i){var r=new cc.Component.EventHandler;r.target=t,r.component=n,r.handler=i,e.getComponent(cc.Slider).slideEvents.push(r)},t.isEmpty=function(e){return 0!=e.replace(/(^s*)|(s*$)/g,"").length},t.isName=function(e){return!!/^[\u4e00-\u9fa5]{2,4}$/.test(e)},t.isIdCardNum=function(e){var t=!0;if(e&&/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e))if({11:"\u5317\u4eac",12:"\u5929\u6d25",13:"\u6cb3\u5317",14:"\u5c71\u897f",15:"\u5185\u8499\u53e4",21:"\u8fbd\u5b81",22:"\u5409\u6797",23:"\u9ed1\u9f99\u6c5f",31:"\u4e0a\u6d77",32:"\u6c5f\u82cf",33:"\u6d59\u6c5f",34:"\u5b89\u5fbd",35:"\u798f\u5efa",36:"\u6c5f\u897f",37:"\u5c71\u4e1c",41:"\u6cb3\u5357",42:"\u6e56\u5317",43:"\u6e56\u5357",44:"\u5e7f\u4e1c",45:"\u5e7f\u897f",46:"\u6d77\u5357",50:"\u91cd\u5e86",51:"\u56db\u5ddd",52:"\u8d35\u5dde",53:"\u4e91\u5357",54:"\u897f\u85cf",61:"\u9655\u897f",62:"\u7518\u8083",63:"\u9752\u6d77",64:"\u5b81\u590f",65:"xinjiang",71:"\u53f0\u6e7e",81:"\u9999\u6e2f",82:"\u6fb3\u95e8",91:"\u56fd\u5916"}[e.substr(0,2)]){if(18==e.length){e=e.split("");for(var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=[1,0,"X",9,8,7,6,5,4,3,2],r=0,a=0;a<17;a++)r+=e[a]*n[a];i[r%11]!=e[17]&&("\u6821\u9a8c\u4f4d\u9519\u8bef",t=!1)}}else"\u5730\u5740\u7f16\u7801\u9519\u8bef",t=!1;else"\u8eab\u4efd\u8bc1\u53f7\u683c\u5f0f\u9519\u8bef",t=!1;return t},t.addSpriteFrameByAltas=function(e,t,n){cc.loader.loadRes(t,cc.SpriteAtlas,function(t,i){var r=i.getSpriteFrame(n);e.getComponent(cc.Sprite).spriteFrame=r})},t.addEditBoxEvent=function(e,t,n,i){var r=new cc.Component.EventHandler;r.target=t,r.component=t.__classname__,r.handler=n,r.customEventData=i,e.getComponent(cc.EditBox).textChanged.push(r)},t.timestampToTime=function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},t.timestampToTimeString=function(e){return new Date(parseInt(e)+288e5).toJSON().substr(0,19).replace("T"," ")},t.timeStrFormat=function(e,t){if(void 0===t&&(t=":"),e<=0)return"00"+t+"00"+t+"00";var n=Math.floor(e/3600),i=n<10?"0"+n:n,r=Math.floor(e/60%60),a=r<10?"0"+r:r,o=Math.floor(e%60);return i+t+a+t+(o<10?"0"+o:o)},t.getFormatDate=function(e,t){var n=new Date(e);return function(e){var t={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),"S+":n.getMilliseconds()};for(var i in/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e}(t)},t.b64EncodeUnicode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){var n="0x"+t;return String.fromCharCode(n)}))},t.b64Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t},t.b64decode=function(e){for(var t="",n=0,i=0,r=0,a=0;n<e.length;)(i=e.charCodeAt(n))<128?(t+=String.fromCharCode(i),n++):i>191&&i<224?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&a),n+=3);return t},t.b64DecodeUnicode=function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},t.myDesrypt=function(e,t){return this.b64EncodeUnicode(t+7895^e)},t.myDecode=function(e,t){var n=this.b64DecodeUnicode(t);return(n^=e)-7895},t.myDesryptEx=function(e){for(var t=JSON.stringify(e),n="",i=0;i<t.length;i++)n+=String.fromCharCode(12^t[i].charCodeAt(0));return JSON.stringify(n)},t.myDecodeEx=function(e){for(var t=e,n="",i=0;i<t.length;i++)n+=String.fromCharCode(12^t[i].charCodeAt());return n},t.encrypt=function(e,t){},t.decrypt=function(e,t){},t.getSubStringLengTxt=function(e,t){return void 0===t&&(t=12),e&&e.length>6?e.substring(0,4)+"...":n.getNameStr(e,t)},t.getReplaceStrToStar=function(e){return o.DataManager.userInfo.userid==e?e:(e+="").substr(0,2)+"**"+e.substr(e.length-2,e.length)},t.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.getFormatGold=function(e){return e?("string"==typeof e&&(e=parseFloat(e)),e>=1e4?parseInt(e/100+"")/100+"\u4e07":e.toFixed(2)):"0"},t.getFormatPlay=function(e){return e?("string"==typeof e&&(e=parseFloat(e)),e>=1e4?parseInt(e/100+"")/100+"\u4e07+":e.toFixed(0)):"0"},t.getFormatStrGold=function(e){return e>=1e3&&e<1e4?(e/1e3).toString().substring(0,4)+"K":e>=1e4?(e/1e4).toString().substring(0,4)+"W":e},t.getNameStr=function(e,t){if(void 0===t&&(t=12),!e)return e;if((e=(e+="").replace(/[^a-zA-Z*0-9\u4e00-\u9fa5]+/g,"")).replace(/[\u0391-\uFFE5]/g,"aa").length>t){for(var n=e.split(""),i=0,r=-1,a=0;a<n.length;a++)(i+=n[a].replace(/[\u0391-\uFFE5]/g,"aa").length)>t&&-1==r&&(r=a);return r>=0&&n.splice(r),n.join("")}return e},t.resetiPhoneXPos=function(e){},t.isEmojiCharacter=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(55296<=n&&n<=56319){if(e.length>1){var i=1024*(n-55296)+(e.charCodeAt(t+1)-56320)+65536;if(118784<=i&&i<=128895)return!0}}else if(e.length>1){if(8419==e.charCodeAt(t+1))return!0}else{if(8448<=n&&n<=10239)return!0;if(11013<=n&&n<=11015)return!0;if(10548<=n&&n<=10549)return!0;if(12951<=n&&n<=12953)return!0;if(169==n||174==n||12349==n||12336==n||11093==n||11036==n||11035==n||11088==n)return!0}}},t.insretNewLine=function(e,t){if(e.length>t){var n=Array.from(e);return n.splice(Math.ceil(n.length/2),0,"\n"),n.join("")}return e},t=n=r([l],t)}(cc.Component));n.default=u,String.prototype.insert=function(e,t){return this.slice(0,e)+t+this.slice(e)},cc._RF.pop()},{"../../manager/AudioManager":"AudioManager","../../manager/DataManager":"DataManager","../../manager/SoundEffect":"SoundEffect"}],VideoPlayerEx:[function(e,t,n){"use strict";cc._RF.push(t,"1d525PcQ8VJzI2lNbzIu7K/","VideoPlayerEx"),Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype._updateVideoSource=function(){var e="";this.resourceType===cc.VideoPlayer.ResourceType.REMOTE?e=this.remoteURL:this._clip&&(e=this._clip.url||""),this._impl.setURL(e,this._mute||0===this._volume)},t=__decorate([r],t)}(cc.VideoPlayer));n.default=a,cc._RF.pop()},{}],XXTea:[function(e,t,n){"use strict";cc._RF.push(t,"065bfkTcZVGG6voe23bSKX9","XXTea"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.xxtea_encrypt=function(e,t){if(""==e)return"";var n=s(e=r(e),!0),i=s(t,!1);i.length<4&&(i.length=4);for(var a,l,u,h=n.length-1,f=n[h],d=n[0],p=Math.floor(6+52/(h+1)),g=0;0<p--;){for(l=(g=g+2654435769&4294967295)>>>2&3,u=0;u<h;u++)a=(f>>>5^(d=n[u+1])<<2)+(d>>>3^f<<4)^(g^d)+(i[3&u^l]^f),f=n[u]=n[u]+a&4294967295;a=(f>>>5^(d=n[0])<<2)+(d>>>3^f<<4)^(g^d)+(i[3&u^l]^f),f=n[h]=n[h]+a&4294967295}return c(e=o(n,!1))},e.xxtea_decrypt=function(e,t){if(""==e)return"";var n=s(e=l(e),!1),i=s(t,!1);i.length<4&&(i.length=4);for(var r,c,u,h=n.length-1,f=n[h],d=n[0],p=2654435769*Math.floor(6+52/(h+1))&4294967295;0!=p;){for(c=p>>>2&3,u=h;u>0;u--)r=((f=n[u-1])>>>5^d<<2)+(d>>>3^f<<4)^(p^d)+(i[3&u^c]^f),d=n[u]=n[u]-r&4294967295;r=((f=n[h])>>>5^d<<2)+(d>>>3^f<<4)^(p^d)+(i[3&u^c]^f),d=n[0]=n[0]-r&4294967295,p=p-2654435769&4294967295}var g=o(n,!0);return g=a(g)},e}();function r(e){var t,n,i,r;for(t="",i=e.length,n=0;n<i;n++)(r=e.charCodeAt(n))>=1&&r<=127?t+=e.charAt(n):r>2047?(t+=String.fromCharCode(224|r>>12&15),t+=String.fromCharCode(128|r>>6&63),t+=String.fromCharCode(128|r>>0&63)):(t+=String.fromCharCode(192|r>>6&31),t+=String.fromCharCode(128|r>>0&63));return t}function a(e){var t,n,i,r,a,o;for(t="",i=e.length,n=0;n<i;)switch((r=e.charCodeAt(n++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:a=e.charCodeAt(n++),t+=String.fromCharCode((31&r)<<6|63&a);break;case 14:a=e.charCodeAt(n++),o=e.charCodeAt(n++),t+=String.fromCharCode((15&r)<<12|(63&a)<<6|(63&o)<<0)}return t}function o(e,t){var n=e.length,i=n-1<<2;if(t){var r=e[n-1];if(r<i-3||r>i)return null;i=r}for(var a=0;a<n;a++)e[a]=String.fromCharCode(255&e[a],e[a]>>8&255,e[a]>>16&255,e[a]>>24&255);return t?e.join("").substring(0,i):e.join("")}function s(e,t){for(var n=e.length,i=[],r=0;r<n;r+=4)i[r>>2]=e.charCodeAt(r)|e.charCodeAt(r+1)<<8|e.charCodeAt(r+2)<<16|e.charCodeAt(r+3)<<24;return t&&(i[i.length]=n),i}function c(e){var t,n,i,r,a,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",c="",l="",u=0;do{i=(t=e.charCodeAt(u++))>>2,r=(3&t)<<4|(n=e.charCodeAt(u++))>>4,a=(15&n)<<2|(c=e.charCodeAt(u++))>>6,l=63&c,isNaN(n)?a=l=64:isNaN(c)&&(l=64),s=s+o.charAt(i)+o.charAt(r)+o.charAt(a)+o.charAt(l),t=n=c="",i=r=a=l=""}while(u<e.length);return s}function l(e){var t,n,i,r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="",s="",c="",l=0;/[^A-Za-z0-9\+\/\=\n]/g.exec(e)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{t=a.indexOf(e.charAt(l++))<<2|(i=a.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(r=a.indexOf(e.charAt(l++)))>>2,s=(3&r)<<6|(c=a.indexOf(e.charAt(l++))),o+=String.fromCharCode(t),64!=r&&(o+=String.fromCharCode(n)),64!=c&&(o+=String.fromCharCode(s)),t=n=s="",i=r=c=""}while(l<e.length);return o}n.default=i,cc._RF.pop()},{}],bytebuffer:[function(e,t,n){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"74f638GuatI3KUuCg47fJfy","bytebuffer"),function(n,r){"function"==typeof define&&define.amd?define(["long"],r):"function"==typeof e&&"object"===(void 0===t?"undefined":i(t))&&t&&t.exports?t.exports=function(){var t;try{t=e("./long")}catch(e){}return r(t)}():((void 0).dcodeIO=(void 0).dcodeIO||{}).ByteBuffer=r((void 0).dcodeIO.Long)}(0,function(e){var t=function e(t,n,i){if(void 0===t&&(t=e.DEFAULT_CAPACITY),void 0===n&&(n=e.DEFAULT_ENDIAN),void 0===i&&(i=e.DEFAULT_NOASSERT),!i){if((t|=0)<0)throw RangeError("Illegal capacity");n=!!n,i=!!i}this.buffer=0===t?r:new ArrayBuffer(t),this.view=0===t?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian=n,this.noAssert=i};t.VERSION="5.0.1",t.LITTLE_ENDIAN=!0,t.BIG_ENDIAN=!1,t.DEFAULT_CAPACITY=16,t.DEFAULT_ENDIAN=t.BIG_ENDIAN,t.DEFAULT_NOASSERT=!1,t.Long=e||null;var n=t.prototype;n.__isByteBuffer__,Object.defineProperty(n,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),a=String.fromCharCode;function o(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function s(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function c(e,t,n,i,r){var a,o,s=8*r-i-1,c=(1<<s)-1,l=c>>1,u=-7,h=n?r-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-u)-1,d>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=i;u>0;o=256*o+e[t+h],h+=f,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,i),a-=l}return(d?-1:1)*o*Math.pow(2,a-i)}function l(e,t,n,i,r,a){var o,s,c,l=8*a-r-1,u=(1<<l)-1,h=u>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*c-1)*Math.pow(2,r),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[n+d]=255&s,d+=p,s/=256,r-=8);for(o=o<<r|s,l+=r;l>0;e[n+d]=255&o,d+=p,o/=256,l-=8);e[n+d-p]|=128*g}t.accessor=function(){return Uint8Array},t.allocate=function(e,n,i){return new t(e,n,i)},t.concat=function(e,n,i,r){"boolean"!=typeof n&&"string"==typeof n||(r=i,i=n,n=void 0);for(var a,o=0,s=0,c=e.length;s<c;++s)t.isByteBuffer(e[s])||(e[s]=t.wrap(e[s],n)),(a=e[s].limit-e[s].offset)>0&&(o+=a);if(0===o)return new t(0,i,r);var l,u=new t(o,i,r);for(s=0;s<c;)(a=(l=e[s++]).limit-l.offset)<=0||(u.view.set(l.view.subarray(l.offset,l.limit),u.offset),u.offset+=a);return u.limit=u.offset,u.offset=0,u},t.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},t.type=function(){return ArrayBuffer},t.wrap=function(e,r,a,o){if("string"!=typeof r&&(o=a,a=r,r=void 0),"string"==typeof e)switch(void 0===r&&(r="utf8"),r){case"base64":return t.fromBase64(e,a);case"hex":return t.fromHex(e,a);case"binary":return t.fromBinary(e,a);case"utf8":return t.fromUTF8(e,a);case"debug":return t.fromDebug(e,a);default:throw Error("Unsupported encoding: "+r)}if(null===e||"object"!==i(e))throw TypeError("Illegal buffer");var s;if(t.isByteBuffer(e))return(s=n.clone.call(e)).markedOffset=-1,s;if(e instanceof Uint8Array)s=new t(0,a,o),e.length>0&&(s.buffer=e.buffer,s.offset=e.byteOffset,s.limit=e.byteOffset+e.byteLength,s.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)s=new t(0,a,o),e.byteLength>0&&(s.buffer=e,s.offset=0,s.limit=e.byteLength,s.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(s=new t(e.length,a,o)).limit=e.length;for(var c=0;c<e.length;++c)s.view[c]=e[c]}return s},n.writeBitSet=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,r=t,a=e.length,o=a>>3,s=0;for(t+=this.writeVarint32(a,t);o--;)i=1&!!e[s++]|(1&!!e[s++])<<1|(1&!!e[s++])<<2|(1&!!e[s++])<<3|(1&!!e[s++])<<4|(1&!!e[s++])<<5|(1&!!e[s++])<<6|(1&!!e[s++])<<7,this.writeByte(i,t++);if(s<a){var c=0;for(i=0;s<a;)i|=(1&!!e[s++])<<c++;this.writeByte(i,t++)}return n?(this.offset=t,this):t-r},n.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var n,i=this.readVarint32(e),r=i.value,a=r>>3,o=0,s=[];for(e+=i.length;a--;)n=this.readByte(e++),s[o++]=!!(1&n),s[o++]=!!(2&n),s[o++]=!!(4&n),s[o++]=!!(8&n),s[o++]=!!(16&n),s[o++]=!!(32&n),s[o++]=!!(64&n),s[o++]=!!(128&n);if(o<r){var c=0;for(n=this.readByte(e++);o<r;)s[o++]=!!(n>>c++&1)}return t&&(this.offset=e),s},n.readBytes=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return n&&(this.offset+=e),i},n.writeBytes=n.append,n.writeInt8=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeByte=n.writeInt8,n.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return 128==(128&n)&&(n=-(255-n+1)),t&&(this.offset+=1),n},n.readByte=n.readInt8,n.writeUint8=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},n.writeUInt8=n.writeUint8,n.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return t&&(this.offset+=1),n},n.readUInt8=n.readUint8,n.writeInt16=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeShort=n.writeInt16,n.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),32768==(32768&n)&&(n=-(65535-n+1)),t&&(this.offset+=2),n},n.readShort=n.readInt16,n.writeUint16=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},n.writeUInt16=n.writeUint16,n.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),t&&(this.offset+=2),n},n.readUInt16=n.readUint16,n.writeInt32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeInt=n.writeInt32,n.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),n|=0,t&&(this.offset+=4),n},n.readInt=n.readInt32,n.writeUint32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},n.writeUInt32=n.writeUint32,n.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),t&&(this.offset+=4),n},n.readUInt32=n.readUint32,e&&(n.writeInt64=function(t,n){var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var r=this.buffer.byteLength;n>r&&this.resize((r*=2)>n?r:n),n-=8;var a=t.low,o=t.high;return this.littleEndian?(this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a,n+=4,this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o):(this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o,n+=4,this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a),i&&(this.offset+=8),this},n.writeLong=n.writeInt64,n.readInt64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,r=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var a=new e(i,r,!1);return n&&(this.offset+=8),a},n.readLong=n.readInt64,n.writeUint64=function(t,n){var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var r=this.buffer.byteLength;n>r&&this.resize((r*=2)>n?r:n),n-=8;var a=t.low,o=t.high;return this.littleEndian?(this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a,n+=4,this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o):(this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o,n+=4,this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a),i&&(this.offset+=8),this},n.writeUInt64=n.writeUint64,n.readUint64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,r=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var a=new e(i,r,!0);return n&&(this.offset+=8),a},n.readUInt64=n.readUint64),n.writeFloat32=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,l(this.view,e,t,this.littleEndian,23,4),n&&(this.offset+=4),this},n.writeFloat=n.writeFloat32,n.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=c(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),n},n.readFloat=n.readFloat32,n.writeFloat64=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,l(this.view,e,t,this.littleEndian,52,8),n&&(this.offset+=8),this},n.writeDouble=n.writeFloat64,n.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=c(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),n},n.readDouble=n.readFloat64,t.MAX_VARINT32_BYTES=5,t.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},t.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},t.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},n.writeVarint32=function(e,n){var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,a=t.calculateVarint32(e);n+=a;var o=this.buffer.byteLength;for(n>o&&this.resize((o*=2)>n?o:n),n-=a,e>>>=0;e>=128;)r=127&e|128,this.view[n++]=r,e>>>=7;return this.view[n++]=e,i?(this.offset=n,this):a},n.writeVarint32ZigZag=function(e,n){return this.writeVarint32(t.zigZagEncode32(e),n)},n.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,i=0,r=0;do{if(!this.noAssert&&e>this.limit){var a=Error("Truncated");throw a.truncated=!0,a}n=this.view[e++],i<5&&(r|=(127&n)<<7*i),++i}while(0!=(128&n));return r|=0,t?(this.offset=e,r):{value:r,length:i}},n.readVarint32ZigZag=function(e){var n=this.readVarint32(e);return"object"===i(n)?n.value=t.zigZagDecode32(n.value):n=t.zigZagDecode32(n),n},e&&(t.MAX_VARINT64_BYTES=10,t.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,i=t.shiftRightUnsigned(28).toInt()>>>0,r=t.shiftRightUnsigned(56).toInt()>>>0;return 0==r?0==i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10},t.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},t.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},n.writeVarint64=function(n,i){var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"==typeof n)n=e.fromNumber(n);else if("string"==typeof n)n=e.fromString(n);else if(!(n&&n instanceof e))throw TypeError("Illegal value: "+n+" (not an integer or Long)");if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}"number"==typeof n?n=e.fromNumber(n,!1):"string"==typeof n?n=e.fromString(n,!1):!1!==n.unsigned&&(n=n.toSigned());var a=t.calculateVarint64(n),o=n.toInt()>>>0,s=n.shiftRightUnsigned(28).toInt()>>>0,c=n.shiftRightUnsigned(56).toInt()>>>0;i+=a;var l=this.buffer.byteLength;switch(i>l&&this.resize((l*=2)>i?l:i),i-=a,a){case 10:this.view[i+9]=c>>>7&1;case 9:this.view[i+8]=9!==a?128|c:127&c;case 8:this.view[i+7]=8!==a?s>>>21|128:s>>>21&127;case 7:this.view[i+6]=7!==a?s>>>14|128:s>>>14&127;case 6:this.view[i+5]=6!==a?s>>>7|128:s>>>7&127;case 5:this.view[i+4]=5!==a?128|s:127&s;case 4:this.view[i+3]=4!==a?o>>>21|128:o>>>21&127;case 3:this.view[i+2]=3!==a?o>>>14|128:o>>>14&127;case 2:this.view[i+1]=2!==a?o>>>7|128:o>>>7&127;case 1:this.view[i]=1!==a?128|o:127&o}return r?(this.offset+=a,this):a},n.writeVarint64ZigZag=function(e,n){return this.writeVarint64(t.zigZagEncode64(e),n)},n.readVarint64=function(t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,r=0,a=0,o=0,s=0;if(r=127&(s=this.view[t++]),128&s&&(r|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(r|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(r|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(a=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<7,(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<14,(128&s||this.noAssert&&void 0===s)&&(a|=(127&(s=this.view[t++]))<<21,(128&s||this.noAssert&&void 0===s)&&(o=127&(s=this.view[t++]),(128&s||this.noAssert&&void 0===s)&&(o|=(127&(s=this.view[t++]))<<7,128&s||this.noAssert&&void 0===s))))))))))throw Error("Buffer overrun");var c=e.fromBits(r|a<<28,a>>>4|o<<24,!1);return n?(this.offset=t,c):{value:c,length:t-i}},n.readVarint64ZigZag=function(n){var i=this.readVarint64(n);return i&&i.value instanceof e?i.value=t.zigZagDecode64(i.value):i=t.zigZagDecode64(i),i}),n.writeCString=function(e,t){var n=void 0===t;n&&(t=this.offset);var i,r=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(i=0;i<r;++i)if(0===e.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}r=h.calculateUTF16asUTF8(o(e))[1],t+=r+1;var a=this.buffer.byteLength;return t>a&&this.resize((a*=2)>t?a:t),t-=r+1,h.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,n?(this.offset=t,this):r},n.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,i=e,r=-1;return h.decodeUTF8toUTF16(function(){if(0===r)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(r=this.view[e++])?null:r}.bind(this),n=s(),!0),t?(this.offset=e,n()):{string:n(),length:e-i}},n.writeIString=function(e,t){var n=void 0===t;if(n&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,r=t;i=h.calculateUTF16asUTF8(o(e),this.noAssert)[1],t+=4+i;var a=this.buffer.byteLength;if(t>a&&this.resize((a*=2)>t?a:t),t-=4+i,this.littleEndian?(this.view[t+3]=i>>>24&255,this.view[t+2]=i>>>16&255,this.view[t+1]=i>>>8&255,this.view[t]=255&i):(this.view[t]=i>>>24&255,this.view[t+1]=i>>>16&255,this.view[t+2]=i>>>8&255,this.view[t+3]=255&i),t+=4,h.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),t!==r+4+i)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+i));return n?(this.offset=t,this):t-r},n.readIString=function(e){var n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i=e,r=this.readUint32(e),a=this.readUTF8String(r,t.METRICS_BYTES,e+=4);return e+=a.length,n?(this.offset=e,a.string):{string:a.string,length:e-i}},t.METRICS_CHARS="c",t.METRICS_BYTES="b",n.writeUTF8String=function(e,t){var n,i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var r=t;n=h.calculateUTF16asUTF8(o(e))[1],t+=n;var a=this.buffer.byteLength;return t>a&&this.resize((a*=2)>t?a:t),t-=n,h.encodeUTF16toUTF8(o(e),function(e){this.view[t++]=e}.bind(this)),i?(this.offset=t,this):t-r},n.writeString=n.writeUTF8String,t.calculateUTF8Chars=function(e){return h.calculateUTF16asUTF8(o(e))[0]},t.calculateString=t.calculateUTF8Bytes=function(e){return h.calculateUTF16asUTF8(o(e))[1]},n.readUTF8String=function(e,n,i){"number"==typeof n&&(i=n,n=void 0);var r=void 0===i;if(r&&(i=this.offset),void 0===n&&(n=t.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var a,o=0,c=i;if(n===t.METRICS_CHARS){if(a=s(),h.decodeUTF8(function(){return o<e&&i<this.limit?this.view[i++]:null}.bind(this),function(e){++o,h.UTF8toUTF16(e,a)}),o!==e)throw RangeError("Illegal range: Truncated data, "+o+" == "+e);return r?(this.offset=i,a()):{string:a(),length:i-c}}if(n===t.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var l=i+e;if(h.decodeUTF8toUTF16(function(){return i<l?this.view[i++]:null}.bind(this),a=s(),this.noAssert),i!==l)throw RangeError("Illegal range: Truncated data, "+i+" == "+l);return r?(this.offset=i,a()):{string:a(),length:i-c}}throw TypeError("Unsupported metrics: "+n)},n.readString=n.readUTF8String,n.writeVString=function(e,n){var i=void 0===n;if(i&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!=0)throw TypeError("Illegal offset: "+n+" (not an integer)");if((n>>>=0)<0||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,a,s=n;r=h.calculateUTF16asUTF8(o(e),this.noAssert)[1],a=t.calculateVarint32(r),n+=a+r;var c=this.buffer.byteLength;if(n>c&&this.resize((c*=2)>n?c:n),n-=a+r,n+=this.writeVarint32(r,n),h.encodeUTF16toUTF8(o(e),function(e){this.view[n++]=e}.bind(this)),n!==s+r+a)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+r+a));return i?(this.offset=n,this):n-s},n.readVString=function(e){var n=void 0===e;if(n&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=e,r=this.readVarint32(e),a=this.readUTF8String(r.value,t.METRICS_BYTES,e+=r.length);return e+=a.length,n?(this.offset=e,a.string):{string:a.string,length:e-i}},n.append=function(e,n,i){"number"!=typeof n&&"string"==typeof n||(i=n,n=void 0);var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var a=e.limit-e.offset;if(a<=0)return this;i+=a;var o=this.buffer.byteLength;return i>o&&this.resize((o*=2)>i?o:i),i-=a,this.view.set(e.view.subarray(e.offset,e.limit),i),e.offset+=a,r&&(this.offset+=a),this},n.appendTo=function(e,t){return e.append(this,t),this},n.assert=function(e){return this.noAssert=!e,this},n.capacity=function(){return this.buffer.byteLength},n.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},n.clone=function(e){var n=new t(0,this.littleEndian,this.noAssert);return e?(n.buffer=new ArrayBuffer(this.buffer.byteLength),n.view=new Uint8Array(n.buffer)):(n.buffer=this.buffer,n.view=this.view),n.offset=this.offset,n.markedOffset=this.markedOffset,n.limit=this.limit,n},n.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),a=new Uint8Array(i);return a.set(this.view.subarray(e,t)),this.buffer=i,this.view=a,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},n.copy=function(e,n){if(void 0===e&&(e=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,e<0||e>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+n+" <= "+this.buffer.byteLength)}if(e===n)return new t(0,this.littleEndian,this.noAssert);var i=n-e,r=new t(i,this.littleEndian,this.noAssert);return r.offset=0,r.limit=i,r.markedOffset>=0&&(r.markedOffset-=e),this.copyTo(r,0,e,n),r},n.copyTo=function(e,n,i,r){var a,o;if(!this.noAssert&&!t.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(n=(o=void 0===n)?e.offset:0|n,i=(a=void 0===i)?this.offset:0|i,r=void 0===r?this.limit:0|r,n<0||n>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+n+" <= "+e.buffer.byteLength);if(i<0||r>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+i+" <= "+this.buffer.byteLength);var s=r-i;return 0===s?e:(e.ensureCapacity(n+s),e.view.set(this.view.subarray(i,r),n),a&&(this.offset+=s),o&&(e.offset+=s),this)},n.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},n.fill=function(e,t,n){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===n&&(n=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;t<n;)this.view[t++]=e;return i&&(this.offset=t),this},n.flip=function(){return this.limit=this.offset,this.offset=0,this},n.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},n.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},n.LE=function(e){return this.littleEndian=void 0===e||!!e,this},n.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},n.prepend=function(e,n,i){"number"!=typeof n&&"string"==typeof n||(i=n,n=void 0);var r=void 0===i;if(r&&(i=this.offset),!this.noAssert){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}e instanceof t||(e=t.wrap(e,n));var a=e.limit-e.offset;if(a<=0)return this;var o=a-i;if(o>0){var s=new ArrayBuffer(this.buffer.byteLength+o),c=new Uint8Array(s);c.set(this.view.subarray(i,this.buffer.byteLength),a),this.buffer=s,this.view=c,this.offset+=o,this.markedOffset>=0&&(this.markedOffset+=o),this.limit+=o,i+=o}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),i-a),e.offset=e.limit,r&&(this.offset-=a),this},n.prependTo=function(e,t){return e.prepend(this,t),this},n.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},n.remaining=function(){return this.limit-this.offset},n.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},n.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view),this.buffer=t,this.view=n}return this},n.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(this.view.subarray(e,t)),this)},n.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},n.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},n.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!=0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,t<0||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return r;var i=new ArrayBuffer(n-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,n),0),i},n.toArrayBuffer=n.toBuffer,n.toString=function(e,t,n){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(n=t=e="utf8"),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var u=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],i=0,r=t.length;i<r;++i)n[t[i]]=i;return e.encode=function(e,n){for(var i,r;null!==(i=e());)n(t[i>>2&63]),r=(3&i)<<4,null!==(i=e())?(n(t[63&((r|=i>>4&15)|i>>4&15)]),r=(15&i)<<2,null!==(i=e())?(n(t[63&(r|i>>6&3)]),n(t[63&i])):(n(t[63&r]),n(61))):(n(t[63&r]),n(61),n(61))},e.decode=function(e,t){var i,r,a;function o(e){throw Error("Illegal character code: "+e)}for(;null!==(i=e());)if(void 0===(r=n[i])&&o(i),null!==(i=e())&&(void 0===(a=n[i])&&o(i),t(r<<2>>>0|(48&a)>>4),null!==(i=e()))){if(void 0===(r=n[i])){if(61===i)break;o(i)}if(t((15&a)<<4>>>0|(60&r)>>2),null!==(i=e())){if(void 0===(a=n[i])){if(61===i)break;o(i)}t((3&r)<<6>>>0|a)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();n.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var n;return u.encode(function(){return e<t?this.view[e++]:null}.bind(this),n=s()),n()},t.fromBase64=function(e,n){if("string"!=typeof e)throw TypeError("str");var i=new t(e.length/4*3,n),r=0;return u.decode(o(e),function(e){i.view[r++]=e}),i.limit=r,i},t.btoa=function(e){return t.fromBinary(e).toBase64()},t.atob=function(e){return t.fromBase64(e).toBinary()},n.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],i=[];e<t;)n.push(this.view[e++]),n.length>=1024&&(i.push(String.fromCharCode.apply(String,n)),n=[]);return i.join("")+String.fromCharCode.apply(String,n)},t.fromBinary=function(e,n){if("string"!=typeof e)throw TypeError("str");for(var i,r=0,a=e.length,o=new t(a,n);r<a;){if((i=e.charCodeAt(r))>255)throw RangeError("illegal char code: "+i);o.view[r++]=i}return o.limit=a,o},n.toDebug=function(e){for(var t,n=-1,i=this.buffer.byteLength,r="",a="",o="";n<i;){if(-1!==n&&(r+=(t=this.view[n])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(a+=t>32&&t<127?String.fromCharCode(t):".")),++n,e&&n>0&&n%16==0&&n!==i){for(;r.length<51;)r+=" ";o+=r+a+"\n",r=a=""}n===this.offset&&n===this.limit?r+=n===this.markedOffset?"!":"|":n===this.offset?r+=n===this.markedOffset?"[":"<":n===this.limit?r+=n===this.markedOffset?"]":">":r+=n===this.markedOffset?"'":e||0!==n&&n!==i?" ":""}if(e&&" "!==r){for(;r.length<51;)r+=" ";o+=r+a+"\n"}return e?o:r},t.fromDebug=function(e,n,i){for(var r,a,o=e.length,s=new t((o+1)/3|0,n,i),c=0,l=0,u=!1,h=!1,f=!1,d=!1,p=!1;c<o;){switch(r=e.charAt(c++)){case"!":if(!i){if(h||f||d){p=!0;break}h=f=d=!0}s.offset=s.markedOffset=s.limit=l,u=!1;break;case"|":if(!i){if(h||d){p=!0;break}h=d=!0}s.offset=s.limit=l,u=!1;break;case"[":if(!i){if(h||f){p=!0;break}h=f=!0}s.offset=s.markedOffset=l,u=!1;break;case"<":if(!i){if(h){p=!0;break}h=!0}s.offset=l,u=!1;break;case"]":if(!i){if(d||f){p=!0;break}d=f=!0}s.limit=s.markedOffset=l,u=!1;break;case">":if(!i){if(d){p=!0;break}d=!0}s.limit=l,u=!1;break;case"'":if(!i){if(f){p=!0;break}f=!0}s.markedOffset=l,u=!1;break;case" ":u=!1;break;default:if(!i&&u){p=!0;break}if(a=parseInt(r+e.charAt(c++),16),!i&&(isNaN(a)||a<0||a>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[l++]=a,u=!0}if(p)throw TypeError("Illegal str: Invalid symbol at "+c)}if(!i){if(!h||!d)throw TypeError("Illegal str: Missing offset or limit");if(l<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+l+" < "+o)}return s},n.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,i=new Array(t-e);e<t;)(n=this.view[e++])<16?i.push("0",n.toString(16)):i.push(n.toString(16));return i.join("")},t.fromHex=function(e,n,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var r,a=e.length,o=new t(a/2|0,n),s=0,c=0;s<a;s+=2){if(r=parseInt(e.substring(s,s+2),16),!i&&(!isFinite(r)||r<0||r>255))throw TypeError("Illegal str: Contains non-hex characters");o.view[c++]=r}return o.limit=c,o};var h=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},decodeUTF8:function(e,t){for(var n,i,r,a,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0==(128&n))t(n);else if(192==(224&n))null===(i=e())&&o([n,i]),t((31&n)<<6|63&i);else if(224==(240&n))(null===(i=e())||null===(r=e()))&&o([n,i,r]),t((15&n)<<12|(63&i)<<6|63&r);else{if(240!=(248&n))throw RangeError("Illegal starting byte: "+n);(null===(i=e())||null===(r=e())||null===(a=e()))&&o([n,i,r,a]),t((7&n)<<18|(63&i)<<12|(63&r)<<6|63&a)}},UTF16toUTF8:function(e,t){for(var n,i=null;null!==(n=null!==i?i:e());)n>=55296&&n<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(n-55296)+i-56320+65536),i=null):t(n);null!==i&&t(i)},UTF8toUTF16:function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<=65535?t(n):(t(55296+((n-=65536)>>10)),t(n%1024+56320)),n=null},encodeUTF16toUTF8:function(t,n){e.UTF16toUTF8(t,function(t){e.encodeUTF8(t,n)})},decodeUTF8toUTF16:function(t,n){e.decodeUTF8(t,function(t){e.UTF8toUTF16(t,n)})},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,n=0;null!==(t=e());)n+=t<128?1:t<2048?2:t<65536?3:4;return n},calculateUTF16asUTF8:function(t){var n=0,i=0;return e.UTF16toUTF8(t,function(e){++n,i+=e<128?1:e<2048?2:e<65536?3:4}),[n,i]}};return e}();return n.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n;try{h.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),n=s())}catch(n){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return n()},t.fromUTF8=function(e,n,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var r=new t(h.calculateUTF16asUTF8(o(e),!0)[1],n,i),a=0;return h.encodeUTF16toUTF8(o(e),function(e){r.view[a++]=e}),r.limit=a,r},t}),cc._RF.pop()},{"./long":"long"}],coinsMove:[function(e,t,n){"use strict";cc._RF.push(t,"663c1sWYOhJKq3rAlZKlTEf","coinsMove"),cc.Class({extends:cc.Component,properties:{_startCPX1:0,_startCPY1:0,_endCPX1:0,_endCPY1:0,_isENd:!1,_time:.2},onLoad:function(){},onEnable:function(){this.node.parent.getComponent("coinsParent");this.flyCoins(this._endCPX1,this._endCPY1,this._startCPX1,this._startCPY1,this._time)},setEndPOsioton:function(e,t){this._endCPX1=e,this._endCPY1=t},setStartPosition:function(e,t){this._startCPX1=e,this._startCPY1=t},flyCoins:function(e,t,n,i,r){var a=this,o=Math.floor(20*Math.random()),s=Math.floor(20*Math.random()),c=this.getMiddlePos(),l=[cc.v2(n,i),c,cc.v2(e,t)],u=cc.bezierTo(r,l);this.node.stopAllActions();var h=cc.sequence(u,cc.moveTo(.01,cc.v2(e+o,t+s)),cc.callFunc(function(){a._isENd=!0}));this.node.runAction(h)},getMiddlePos:function(){var e=parseInt(Math.abs(this._startCPX1-this._endCPX1)/2)-20,t=parseInt(Math.abs(this._startCPY1-this._endCPY1)/2);return e=this._startCPX1>=this._endCPX1?this._endCPX1+e:this._startCPX1+e,cc.v2(e,t)},bt:function(){this.flyCoins(-486,-284,time)}}),cc._RF.pop()},{}],coinsParent:[function(e,t,n){"use strict";cc._RF.push(t,"f19b3DLP+NLJK31xCyeddVk","coinsParent"),cc.Class({extends:cc.Component,properties:{_CPX:0,_CPY:0,_startCPX:0,_startCPY:0,_index:0,_children:[],_isEndFor:!0},onLoad:function(){this._children=this.node.getChildren()},onEnable:function(){},setActive:function(){for(var e=0,t=0;t<this._children.length;t++)this._children[t].getComponent("coinsMove").setStartPosition(this._startCPX,this._startCPY),this._children[t].setPosition(this._startCPX,this._startCPY);this.schedule(function(){this._children[e].active=!0,e+=1},.03,this._children.length-1)},setStartPosition:function(e,t){this._startCPX=e,this._startCPY=t},setEndPosition:function(e,t){this.CPX=e,this.CPY=t;for(var n=0;n<this._children.length;n++)this._children[n].getComponent("coinsMove").setEndPOsioton(e+0,t+0)},update:function(e){if(this._isEndFor){this._isEndFor=!1;for(var t=0;t<this._children.length;t++){if(!this._children[t].getComponent("coinsMove")._isENd){this._isEndFor=!0;break}t==this._children.length-1&&(this._isEndFor=!1,this.node.destroy())}}}}),cc._RF.pop()},{}],long:[function(e,t,n){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"993687gbExNZ6ASWTbEsdQY","long"),function(n,r){"function"==typeof define&&define.amd?define([],r):"function"==typeof e&&"object"===(void 0===t?"undefined":i(t))&&t&&t.exports?t.exports=r():((void 0).dcodeIO=(void 0).dcodeIO||{}).Long=r()}(0,function(){function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var n={},i={};function r(e,t){var r,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=i[e])?a:(r=o(e,(0|e)<0?-1:0,!0),s&&(i[e]=r),r):(s=-128<=(e|=0)&&e<128)&&(a=n[e])?a:(r=o(e,e<0?-1:0,!1),s&&(n[e]=r),r)}function a(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=h)return _}else{if(e<=-f)return C;if(e+1>=f)return v}return e<0?a(-e,t).neg():o(e%u|0,e/u|0,t)}function o(t,n,i){return new e(t,n,i)}e.fromInt=r,e.fromNumber=a,e.fromBits=o;var s=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return c(e.substring(1),t,n).neg();for(var r=a(s(n,8)),o=p,l=0;l<e.length;l+=8){var u=Math.min(8,e.length-l),h=parseInt(e.substring(l,l+u),n);if(u<8){var f=a(s(n,u));o=o.mul(f).add(a(h))}else o=(o=o.mul(r)).add(a(h))}return o.unsigned=t,o}function l(t){return t instanceof e?t:"number"==typeof t?a(t):"string"==typeof t?c(t):o(t.low,t.high,t.unsigned)}e.fromString=c,e.fromValue=l;var u=4294967296,h=u*u,f=h/2,d=r(1<<24),p=r(0);e.ZERO=p;var g=r(0,!0);e.UZERO=g;var m=r(1);e.ONE=m;var y=r(1,!0);e.UONE=y;var b=r(-1);e.NEG_ONE=b;var v=o(-1,2147483647,!1);e.MAX_VALUE=v;var _=o(-1,-1,!0);e.MAX_UNSIGNED_VALUE=_;var C=o(0,-2147483648,!1);e.MIN_VALUE=C;var M=e.prototype;return M.toInt=function(){return this.unsigned?this.low>>>0:this.low},M.toNumber=function(){return this.unsigned?(this.high>>>0)*u+(this.low>>>0):this.high*u+(this.low>>>0)},M.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=a(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=a(s(e,6),this.unsigned),o=this,c="";;){var l=o.div(r),u=(o.sub(l.mul(r)).toInt()>>>0).toString(e);if((o=l).isZero())return u+c;for(;u.length<6;)u="0"+u;c=""+u+c}},M.getHighBits=function(){return this.high},M.getHighBitsUnsigned=function(){return this.high>>>0},M.getLowBits=function(){return this.low},M.getLowBitsUnsigned=function(){return this.low>>>0},M.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},M.isZero=function(){return 0===this.high&&0===this.low},M.isNegative=function(){return!this.unsigned&&this.high<0},M.isPositive=function(){return this.unsigned||this.high>=0},M.isOdd=function(){return 1==(1&this.low)},M.isEven=function(){return 0==(1&this.low)},M.equals=function(e){return t(e)||(e=l(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},M.eq=M.equals,M.notEquals=function(e){return!this.eq(e)},M.neq=M.notEquals,M.lessThan=function(e){return this.comp(e)<0},M.lt=M.lessThan,M.lessThanOrEqual=function(e){return this.comp(e)<=0},M.lte=M.lessThanOrEqual,M.greaterThan=function(e){return this.comp(e)>0},M.gt=M.greaterThan,M.greaterThanOrEqual=function(e){return this.comp(e)>=0},M.gte=M.greaterThanOrEqual,M.compare=function(e){if(t(e)||(e=l(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},M.comp=M.compare,M.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(m)},M.neg=M.negate,M.add=function(e){t(e)||(e=l(e));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,a=65535&this.low,s=e.high>>>16,c=65535&e.high,u=e.low>>>16,h=0,f=0,d=0,p=0;return d+=(p+=a+(65535&e.low))>>>16,f+=(d+=r+u)>>>16,h+=(f+=i+c)>>>16,h+=n+s,o((d&=65535)<<16|(p&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},M.subtract=function(e){return t(e)||(e=l(e)),this.add(e.neg())},M.sub=M.subtract,M.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=l(e)),e.isZero())return p;if(this.eq(C))return e.isOdd()?C:p;if(e.eq(C))return this.isOdd()?C:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d)&&e.lt(d))return a(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,s=65535&this.low,c=e.high>>>16,u=65535&e.high,h=e.low>>>16,f=65535&e.low,g=0,m=0,y=0,b=0;return y+=(b+=s*f)>>>16,m+=(y+=r*f)>>>16,y&=65535,m+=(y+=s*h)>>>16,g+=(m+=i*f)>>>16,m&=65535,g+=(m+=r*h)>>>16,m&=65535,g+=(m+=s*u)>>>16,g+=n*f+i*h+r*u+s*c,o((y&=65535)<<16|(b&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)},M.mul=M.multiply,M.divide=function(e){if(t(e)||(e=l(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var n,i,r;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;r=g}else{if(this.eq(C))return e.eq(m)||e.eq(b)?C:e.eq(C)?m:(n=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?m:b:(i=this.sub(e.mul(n)),r=n.add(i.div(e)));else if(e.eq(C))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=p}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:s(2,o-48),u=a(n),h=u.mul(e);h.isNegative()||h.gt(i);)h=(u=a(n-=c,this.unsigned)).mul(e);u.isZero()&&(u=m),r=r.add(u),i=i.sub(h)}return r},M.div=M.divide,M.modulo=function(e){return t(e)||(e=l(e)),this.sub(this.div(e).mul(e))},M.mod=M.modulo,M.not=function(){return o(~this.low,~this.high,this.unsigned)},M.and=function(e){return t(e)||(e=l(e)),o(this.low&e.low,this.high&e.high,this.unsigned)},M.or=function(e){return t(e)||(e=l(e)),o(this.low|e.low,this.high|e.high,this.unsigned)},M.xor=function(e){return t(e)||(e=l(e)),o(this.low^e.low,this.high^e.high,this.unsigned)},M.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):o(0,this.low<<e-32,this.unsigned)},M.shl=M.shiftLeft,M.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?o(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):o(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},M.shr=M.shiftRight,M.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var n=this.high;return e<32?o(this.low>>>e|n<<32-e,n>>>e,this.unsigned):o(32===e?n:n>>>e-32,0,this.unsigned)},M.shru=M.shiftRightUnsigned,M.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},M.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},M.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},M.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},M.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e}),cc._RF.pop()},{}],pbkiller:[function(e,t,n){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"94dacn1XAhGPqef1RLy3J4x","pbkiller");e("../protobuf/protobufjs").ToByteBuffer;var r=e("../protobuf/protobufjs");r.Util.IS_NODE=cc.sys.isNative;var a=parseFloat(cc.ENGINE_VERSION.match(/\d+\.\d+/,"")[0]);r.Util.IS_NODE=!1,r.Util.fetch=cc.loader.getRes.bind(cc.loader);var o=r.loadProto.bind(r);r.loadProto=function(e,t,n){try{"string"==typeof e?o(e,t,n):e.text&&o(e.text,t,n)}catch(e){cc.warn("".concat(n,": protobuf syntax error"))}},r.loadJsonFile=function(e,t,n){if(t&&"object"===i(t)?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return r.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(i){if(null!==i)try{t(null,r.loadJson(JSON.parse(i),n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))});var a,o="object"===i(e)?e.root+"/"+e.file:e;if(r.preloaded){var s=cc.loader.getRes(o,cc.JsonAsset);s&&(a=cc.JsonAsset?s.json:s)}else{var c=r.Util.fetch(o);c&&(a=JSON.parse(c))}return a?r.loadJson(a,n,e):null},t.exports={root:"pb",preload:function(e){cc.loader.loadResDir(this.root,function(t,n){r.preloaded=!t,e()})},loadFromFile:function(e,t){"string"==typeof e&&(e=[e]);var n=r.newBuilder();return a>=2||a>=1.1&&a<1.2&&r.preloaded?n.importRoot=this.root:n.importRoot=cc.url.raw("resources/".concat(this.root)),e.forEach(function(e){var t=cc.path.extname(e),i="".concat(n.importRoot,"/").concat(e);".proto"===t?r.loadProtoFile(i,n):".json"===t?r.loadJsonFile(i,n):console.log("nonsupport file extname, only support 'proto' or 'json'")}),n.build(t)},getFileName:function(e){return e.substring(0,e.indexOf("."))},loadAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"proto",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=[];return(this.root.endsWith("/")||this.root.endsWith("\\"))&&(this.root=this.root.substr(0,this.root.length-1)),cc.loader._assetTables.assets.getUuidArray(this.root,null,i),i=i.map(function(n){var i=n.substr(e.root.length+1);return"".concat(i,".").concat(t)}),this.loadFromFile(i,n)},loadData:function(e,t){if(cc.sys.isNative){var n=jsb.fileUtils.getDataFromFile(e);setTimeout(function(){t(n)},0)}else{var i=r.Util.XHR();if(i.open("GET",e,!0),i.setRequestHeader("Accept","text/plain"),i.responseType="arraybuffer","function"==typeof i.overrideMimeType&&i.overrideMimeType("text/plain"),t){if(i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0==i.status?t(i.response):t(null))},4==i.readyState)return;i.send(null)}}},loadProtoDir:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"proto",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=[];return this.root=e,(e.endsWith("/")||e.endsWith("\\"))&&(e=e.substr(0,e.length-1)),cc.loader._assetTables.assets.getUuidArray(e,null,i),i=i.map(function(n){var i=n.substr(e.length+1);return"".concat(i,".").concat(t)}),this.loadFromFile(i,n)},ToByteBuffer:function(e){return r.ToByteBuffer(e)}},cc._RF.pop()},{"../protobuf/protobufjs":"protobufjs"}],protobufjs:[function(e,t,n){(function(n){"use strict";function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(t,"31220wTjrRKp5450lLoAHB3","protobufjs");e("crypto").createCipher;(function(n,r){"function"==typeof define&&define.amd?define(["bytebuffer"],r):"function"==typeof e&&"object"===(void 0===t?"undefined":i(t))&&t&&t.exports?t.exports=r(e("./bytebuffer"),!0):((void 0).dcodeIO=(void 0).dcodeIO||{}).ProtoBuf=r((void 0).dcodeIO.ByteBuffer)})(0,function(t,r){var a={};return a.ByteBuffer=t,a.Long=t.Long||null,a.VERSION="5.0.2",a.WIRE_TYPES={},a.WIRE_TYPES.VARINT=0,a.WIRE_TYPES.BITS64=1,a.WIRE_TYPES.LDELIM=2,a.WIRE_TYPES.STARTGROUP=3,a.WIRE_TYPES.ENDGROUP=4,a.WIRE_TYPES.BITS32=5,a.PACKABLE_WIRE_TYPES=[a.WIRE_TYPES.VARINT,a.WIRE_TYPES.BITS64,a.WIRE_TYPES.BITS32],a.TYPES={int32:{name:"int32",wireType:a.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:a.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:a.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:a.WIRE_TYPES.VARINT,defaultValue:a.Long?a.Long.ZERO:void 0},uint64:{name:"uint64",wireType:a.WIRE_TYPES.VARINT,defaultValue:a.Long?a.Long.UZERO:void 0},sint64:{name:"sint64",wireType:a.WIRE_TYPES.VARINT,defaultValue:a.Long?a.Long.ZERO:void 0},bool:{name:"bool",wireType:a.WIRE_TYPES.VARINT,defaultValue:!1},double:{name:"double",wireType:a.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:a.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:a.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:a.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:a.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:a.WIRE_TYPES.BITS64,defaultValue:a.Long?a.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:a.WIRE_TYPES.BITS64,defaultValue:a.Long?a.Long.ZERO:void 0},float:{name:"float",wireType:a.WIRE_TYPES.BITS32,defaultValue:0},enum:{name:"enum",wireType:a.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:a.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:a.WIRE_TYPES.STARTGROUP,defaultValue:null}},a.MAP_KEY_TYPES=[a.TYPES.int32,a.TYPES.sint32,a.TYPES.sfixed32,a.TYPES.uint32,a.TYPES.fixed32,a.TYPES.int64,a.TYPES.sint64,a.TYPES.sfixed64,a.TYPES.uint64,a.TYPES.fixed64,a.TYPES.bool,a.TYPES.string,a.TYPES.bytes],a.ID_MIN=1,a.ID_MAX=536870911,a.convertFieldsToCamelCase=!1,a.populateAccessors=!0,a.populateDefaults=!0,a.Util=function(){var t={};return t.IS_NODE=!("object"!==(void 0===n?"undefined":i(n))||n+""!="[object process]"||n.browser),t.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(e){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},t.fetch=function(n,i){if(i&&"function"!=typeof i&&(i=null),t.IS_NODE){var r=e("fs");if(i)r.readFile(n,function(e,t){i(e?null:""+t)});else try{return r.readFileSync(n)}catch(e){return null}}else{var a=t.XHR();if(a.open("GET",n,!!i),a.setRequestHeader("Accept","text/plain"),"function"==typeof a.overrideMimeType&&a.overrideMimeType("text/plain"),!i)return a.send(null),200==a.status||0==a.status&&"string"==typeof a.responseText?a.responseText:null;if(a.onreadystatechange=function(){4==a.readyState&&(200==a.status||0==a.status&&"string"==typeof a.responseText?i(a.responseText):i(null))},4==a.readyState)return;a.send(null)}},t.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},t}(),a.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},a.DotProto=function(e,t){var n={},i=function(e){this.source=e+"",this.index=0,this.line=1,this.stack=[],this._stringOpen=null},r=i.prototype;r._readString=function(){var e='"'===this._stringOpen?t.STRING_DQ:t.STRING_SQ;e.lastIndex=this.index-1;var n=e.exec(this.source);if(!n)throw Error("unterminated string");return this.index=e.lastIndex,this.stack.push(this._stringOpen),this._stringOpen=null,n[1]},r.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();var e,n,i;do{for(e=!1;t.WHITESPACE.test(i=this.source.charAt(this.index));)if("\n"===i&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index,++this.line,e=!0}else{if("*"!==(i=this.source.charAt(this.index)))return"/";do{if("\n"===i&&++this.line,++this.index===this.source.length)return null;n=i,i=this.source.charAt(this.index)}while("*"!==n||"/"!==i);++this.index,e=!0}}while(e);if(this.index===this.source.length)return null;var r=this.index;if(t.DELIM.lastIndex=0,!t.DELIM.test(this.source.charAt(r++)))for(;r<this.source.length&&!t.DELIM.test(this.source.charAt(r));)++r;var a=this.source.substring(this.index,this.index=r);return'"'!==a&&"'"!==a||(this._stringOpen=a),a},r.peek=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},r.skip=function(e){var t=this.next();if(t!==e)throw Error("illegal '"+t+"', '"+e+"' expected")},r.omit=function(e){return this.peek()===e&&(this.next(),!0)},r.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"},n.Tokenizer=i;var a=function(e){this.tn=new i(e),this.proto3=!1},o=a.prototype;function s(e,n){var i=-1,r=1;if("-"==e.charAt(0)&&(r=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))i=parseInt(e);else if(t.NUMBER_HEX.test(e))i=parseInt(e.substring(2),16);else{if(!t.NUMBER_OCT.test(e))throw Error("illegal id value: "+(r<0?"-":"")+e);i=parseInt(e.substring(1),8)}if(i=r*i|0,!n&&i<0)throw Error("illegal id value: "+(r<0?"-":"")+e);return i}function c(e){var n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.NUMBER_DEC.test(e))return n*parseInt(e,10);if(t.NUMBER_HEX.test(e))return n*parseInt(e.substring(2),16);if(t.NUMBER_OCT.test(e))return n*parseInt(e.substring(1),8);if("inf"===e)return n*(1/0);if("nan"===e)return NaN;if(t.NUMBER_FLT.test(e))return n*parseFloat(e);throw Error("illegal number value: "+(n<0?"-":"")+e)}function l(e,t,n){void 0===e[t]?e[t]=n:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(n))}return o.parse=function(){var e,n,i={name:"[ROOT]",package:null,messages:[],enums:[],imports:[],options:{},services:[]},r=!0;try{for(;e=this.tn.next();)switch(e){case"package":if(!r||null!==i.package)throw Error("unexpected 'package'");if(e=this.tn.next(),!t.TYPEREF.test(e))throw Error("illegal package name: "+e);this.tn.skip(";"),i.package=e;break;case"import":if(!r)throw Error("unexpected 'import'");("public"===(e=this.tn.peek())||(n="weak"===e))&&this.tn.next(),e=this._readString(),this.tn.skip(";"),n||i.imports.push(e);break;case"syntax":if(!r)throw Error("unexpected 'syntax'");this.tn.skip("="),"proto3"===(i.syntax=this._readString())&&(this.proto3=!0),this.tn.skip(";");break;case"message":this._parseMessage(i,null),r=!1;break;case"enum":this._parseEnum(i),r=!1;break;case"option":this._parseOption(i);break;case"service":this._parseService(i);break;case"extend":this._parseExtend(i);break;default:throw Error("unexpected '"+e+"'")}}catch(e){throw e.message="Parse error at line "+this.tn.line+": "+e.message,e}return delete i.name,i},a.parse=function(e){return new a(e).parse()},o._readString=function(){var e,t,n="";do{if("'"!==(t=this.tn.next())&&'"'!==t)throw Error("illegal string delimiter: "+t);n+=this.tn.next(),this.tn.skip(t),e=this.tn.peek()}while('"'===e||'"'===e);return n},o._readValue=function(e){var n=this.tn.peek();if('"'===n||"'"===n)return this._readString();if(this.tn.next(),t.NUMBER.test(n))return c(n);if(t.BOOL.test(n))return"true"===n.toLowerCase();if(e&&t.TYPEREF.test(n))return n;throw Error("illegal value: "+n)},o._parseOption=function(e,n){var i=this.tn.next(),r=!1;if("("===i&&(r=!0,i=this.tn.next()),!t.TYPEREF.test(i))throw Error("illegal option name: "+i);var a=i;r&&(this.tn.skip(")"),a="("+a+")",i=this.tn.peek(),t.FQTYPEREF.test(i)&&(a+=i,this.tn.next())),this.tn.skip("="),this._parseOptionValue(e,a),n||this.tn.skip(";")},o._parseOptionValue=function(e,n){var i=this.tn.peek();if("{"!==i)l(e.options,n,this._readValue(!0));else for(this.tn.skip("{");"}"!==(i=this.tn.next());){if(!t.NAME.test(i))throw Error("illegal option name: "+n+"."+i);this.tn.omit(":")?l(e.options,n+"."+i,this._readValue(!0)):this._parseOptionValue(e,n+"."+i)}},o._parseService=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal service name at line "+this.tn.line+": "+n);var i={name:n,rpc:{},options:{}};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if("option"===n)this._parseOption(i);else{if("rpc"!==n)throw Error("illegal service token: "+n);this._parseServiceRPC(i)}this.tn.omit(";"),e.services.push(i)},o._parseServiceRPC=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal rpc service method name: "+n);var i=n,r={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};if(this.tn.skip("("),"stream"===(n=this.tn.next()).toLowerCase()&&(r.request_stream=!0,n=this.tn.next()),!t.TYPEREF.test(n))throw Error("illegal rpc service request type: "+n);if(r.request=n,this.tn.skip(")"),"returns"!==(n=this.tn.next()).toLowerCase())throw Error("illegal rpc service request type delimiter: "+n);if(this.tn.skip("("),"stream"===(n=this.tn.next()).toLowerCase()&&(r.response_stream=!0,n=this.tn.next()),r.response=n,this.tn.skip(")"),"{"===(n=this.tn.peek())){for(this.tn.next();"}"!==(n=this.tn.next());){if("option"!==n)throw Error("illegal rpc service token: "+n);this._parseOption(r)}this.tn.omit(";")}else this.tn.skip(";");void 0===e.rpc&&(e.rpc={}),e.rpc[i]=r},o._parseMessage=function(e,n){var i=!!n,r=this.tn.next(),a={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!t.NAME.test(r))throw Error("illegal "+(i?"group":"message")+" name: "+r);for(a.name=r,i&&(this.tn.skip("="),n.id=s(this.tn.next()),a.isGroup=!0),"["===(r=this.tn.peek())&&n&&this._parseFieldOptions(n),this.tn.skip("{");"}"!==(r=this.tn.next());)if(t.RULE.test(r))this._parseMessageField(a,r);else if("oneof"===r)this._parseMessageOneOf(a);else if("enum"===r)this._parseEnum(a);else if("message"===r)this._parseMessage(a);else if("option"===r)this._parseOption(a);else if("service"===r)this._parseService(a);else if("extensions"===r)a.hasOwnProperty("extensions")?a.extensions=a.extensions.concat(this._parseExtensionRanges()):a.extensions=this._parseExtensionRanges();else if("reserved"===r)this._parseIgnored();else if("extend"===r)this._parseExtend(a);else{if(!t.TYPEREF.test(r))throw Error("illegal message token: "+r);if(!this.proto3)throw Error("illegal field rule: "+r);this._parseMessageField(a,"optional",r)}return this.tn.omit(";"),e.messages.push(a),a},o._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")},o._parseMessageField=function(e,n,i){if(!t.RULE.test(n))throw Error("illegal message field rule: "+n);var r,a={rule:n,type:"",name:"",options:{},id:0};if("map"===n){if(i)throw Error("illegal type: "+i);if(this.tn.skip("<"),r=this.tn.next(),!t.TYPE.test(r)&&!t.TYPEREF.test(r))throw Error("illegal message field type: "+r);if(a.keytype=r,this.tn.skip(","),r=this.tn.next(),!t.TYPE.test(r)&&!t.TYPEREF.test(r))throw Error("illegal message field: "+r);if(a.type=r,this.tn.skip(">"),r=this.tn.next(),!t.NAME.test(r))throw Error("illegal message field name: "+r);a.name=r,this.tn.skip("="),a.id=s(this.tn.next()),"["===(r=this.tn.peek())&&this._parseFieldOptions(a),this.tn.skip(";")}else if("group"===(i=void 0!==i?i:this.tn.next())){var o=this._parseMessage(e,a);if(!/^[A-Z]/.test(o.name))throw Error("illegal group name: "+o.name);a.type=o.name,a.name=o.name.toLowerCase(),this.tn.omit(";")}else{if(!t.TYPE.test(i)&&!t.TYPEREF.test(i))throw Error("illegal message field type: "+i);if(a.type=i,r=this.tn.next(),!t.NAME.test(r))throw Error("illegal message field name: "+r);a.name=r,this.tn.skip("="),a.id=s(this.tn.next()),"["===(r=this.tn.peek())&&this._parseFieldOptions(a),this.tn.skip(";")}return e.fields.push(a),a},o._parseMessageOneOf=function(e){var n=this.tn.next();if(!t.NAME.test(n))throw Error("illegal oneof name: "+n);var i,r=n,a=[];for(this.tn.skip("{");"}"!==(n=this.tn.next());)(i=this._parseMessageField(e,"optional",n)).oneof=r,a.push(i.id);this.tn.omit(";"),e.oneofs[r]=a},o._parseFieldOptions=function(e){this.tn.skip("[");for(var t=!0;"]"!==this.tn.peek();)t||this.tn.skip(","),this._parseOption(e,!0),t=!1;this.tn.next()},o._parseEnum=function(e){var n={name:"",values:[],options:{}},i=this.tn.next();if(!t.NAME.test(i))throw Error("illegal name: "+i);for(n.name=i,this.tn.skip("{");"}"!==(i=this.tn.next());)if("option"===i)this._parseOption(n);else{if(!t.NAME.test(i))throw Error("illegal name: "+i);this.tn.skip("=");var r={name:i,id:s(this.tn.next(),!0)};"["===(i=this.tn.peek())&&this._parseFieldOptions({options:{}}),this.tn.skip(";"),n.values.push(r)}this.tn.omit(";"),e.enums.push(n)},o._parseExtensionRanges=function(){var t,n,i,r=[];do{for(n=[];;){switch(t=this.tn.next()){case"min":i=e.ID_MIN;break;case"max":i=e.ID_MAX;break;default:i=c(t)}if(n.push(i),2===n.length)break;if("to"!==this.tn.peek()){n.push(i);break}this.tn.next()}r.push(n)}while(this.tn.omit(","));return this.tn.skip(";"),r},o._parseExtend=function(e){var n=this.tn.next();if(!t.TYPEREF.test(n))throw Error("illegal extend reference: "+n);var i={ref:n,fields:[]};for(this.tn.skip("{");"}"!==(n=this.tn.next());)if(t.RULE.test(n))this._parseMessageField(i,n);else{if(!t.TYPEREF.test(n))throw Error("illegal extend token: "+n);if(!this.proto3)throw Error("illegal field rule: "+n);this._parseMessageField(i,"optional",n)}return this.tn.omit(";"),e.messages.push(i),i},o.toString=function(){return"Parser at line "+this.tn.line},n.Parser=a,n}(a,a.Lang),a.Reflect=function(e){var n={},r=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},a=r.prototype;a.fqn=function(){for(var e=this.name,t=this;;){if(null==(t=t.parent))break;e=t.name+"."+e}return e},a.toString=function(e){return(e?this.className+" ":"")+this.fqn()},a.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=r;var o=function(e,t,n,i,a){r.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=a||"proto2"},s=o.prototype=Object.create(r.prototype);s.getChildren=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],n=0,i=this.children.length;n<i;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},s.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof h.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof h.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},s.getChild=function(e){for(var t="number"==typeof e?"id":"name",n=0,i=this.children.length;n<i;++n)if(this.children[n][t]===e)return this.children[n];return null},s.resolve=function(e,t){var i,r="string"==typeof e?e.split("."):e,a=this,o=0;if(""===r[o]){for(;null!==a.parent;)a=a.parent;o++}do{do{if(!(a instanceof n.Namespace)){a=null;break}if(!(i=a.getChild(r[o]))||!(i instanceof n.T)||t&&!(i instanceof n.Namespace)){a=null;break}a=i,o++}while(o<r.length);if(null!=a)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=a);return a},s.qn=function(e){var t=[],i=e;do{t.unshift(i.name),i=i.parent}while(null!==i);for(var r=1;r<=t.length;r++){var a=t.slice(t.length-r);if(e===this.resolve(a,e instanceof n.Namespace))return a.join(".")}return e.fqn()},s.build=function(){for(var e,t={},n=this.children,i=0,r=n.length;i<r;++i)(e=n[i])instanceof o&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},s.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,i=t.length;n<i;++n){var r=t[n],a=this.options[t[n]];e[r]=a}return e},s.getOption=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},n.Namespace=o;var c=function(t,n,i,r,a){if(this.type=t,this.resolvedType=n,this.isMapKey=i,this.syntax=r,this.name=a,i&&e.MAP_KEY_TYPES.indexOf(t)<0)throw Error("Invalid map key type: "+t.name)},l=c.prototype;function u(t,n){if(t&&"number"==typeof t.low&&"number"==typeof t.high&&"boolean"==typeof t.unsigned&&t.low==t.low&&t.high==t.high)return new e.Long(t.low,t.high,void 0===n?t.unsigned:n);if("string"==typeof t)return e.Long.fromString(t,n||!1,10);if("number"==typeof t)return e.Long.fromNumber(t,n||!1);throw Error("not convertible to Long")}c.defaultFieldValue=function(n){if("string"==typeof n&&(n=e.TYPES[n]),void 0===n.defaultValue)throw Error("default value for type "+n.name+" is not supported");return n==e.TYPES.bytes?new t(0):n.defaultValue},l.toString=function(){return(this.name||"")+(this.isMapKey?"map":"value")+" element"},l.verifyValue=function(n){var r=this;function a(e,t){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+e+" ("+t+")")}switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:return("number"!=typeof n||n==n&&n%1!=0)&&a(i(n),"not an integer"),n>4294967295?0|n:n;case e.TYPES.uint32:case e.TYPES.fixed32:return("number"!=typeof n||n==n&&n%1!=0)&&a(i(n),"not an integer"),n<0?n>>>0:n;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:if(e.Long)try{return u(n,!1)}catch(e){a(i(n),e.message)}else a(i(n),"requires Long.js");case e.TYPES.uint64:case e.TYPES.fixed64:if(e.Long)try{return u(n,!0)}catch(e){a(i(n),e.message)}else a(i(n),"requires Long.js");case e.TYPES.bool:return"boolean"!=typeof n&&a(i(n),"not a boolean"),n;case e.TYPES.float:case e.TYPES.double:return"number"!=typeof n&&a(i(n),"not a number"),n;case e.TYPES.string:return"string"==typeof n||n&&n instanceof String||a(i(n),"not a string"),""+n;case e.TYPES.bytes:return t.isByteBuffer(n)?n:t.wrap(n,"base64");case e.TYPES.enum:var o=this.resolvedType.getChildren(e.Reflect.Enum.Value);for(c=0;c<o.length;c++){if(o[c].name==n)return o[c].id;if(o[c].id==n)return o[c].id}if("proto3"===this.syntax)return("number"!=typeof n||n==n&&n%1!=0)&&a(i(n),"not an integer"),(n>4294967295||n<0)&&a(i(n),"not in range for uint32"),n;a(n,"not a valid enum value");case e.TYPES.group:case e.TYPES.message:if(n&&"object"===i(n)||a(i(n),"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof e.Builder.Message){var s={};for(var c in n)n.hasOwnProperty(c)&&(s[c]=n[c]);n=s}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},l.calculateLength=function(n,i){if(null===i)return 0;var r;switch(this.type){case e.TYPES.int32:return i<0?t.calculateVarint64(i):t.calculateVarint32(i);case e.TYPES.uint32:return t.calculateVarint32(i);case e.TYPES.sint32:return t.calculateVarint32(t.zigZagEncode32(i));case e.TYPES.fixed32:case e.TYPES.sfixed32:case e.TYPES.float:return 4;case e.TYPES.int64:case e.TYPES.uint64:return t.calculateVarint64(i);case e.TYPES.sint64:return t.calculateVarint64(t.zigZagEncode64(i));case e.TYPES.fixed64:case e.TYPES.sfixed64:return 8;case e.TYPES.bool:return 1;case e.TYPES.enum:return t.calculateVarint32(i);case e.TYPES.double:return 8;case e.TYPES.string:return r=t.calculateUTF8Bytes(i),t.calculateVarint32(r)+r;case e.TYPES.bytes:if(i.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");return t.calculateVarint32(i.remaining())+i.remaining();case e.TYPES.message:return r=this.resolvedType.calculate(i),t.calculateVarint32(r)+r;case e.TYPES.group:return(r=this.resolvedType.calculate(i))+t.calculateVarint32(n<<3|e.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")},l.encodeValue=function(n,i,r){if(null===i)return r;switch(this.type){case e.TYPES.int32:i<0?r.writeVarint64(i):r.writeVarint32(i);break;case e.TYPES.uint32:r.writeVarint32(i);break;case e.TYPES.sint32:r.writeVarint32ZigZag(i);break;case e.TYPES.fixed32:r.writeUint32(i);break;case e.TYPES.sfixed32:r.writeInt32(i);break;case e.TYPES.int64:case e.TYPES.uint64:r.writeVarint64(i);break;case e.TYPES.sint64:r.writeVarint64ZigZag(i);break;case e.TYPES.fixed64:r.writeUint64(i);break;case e.TYPES.sfixed64:r.writeInt64(i);break;case e.TYPES.bool:"string"==typeof i?r.writeVarint32("false"===i.toLowerCase()?0:!!i):r.writeVarint32(i?1:0);break;case e.TYPES.enum:r.writeVarint32(i);break;case e.TYPES.float:r.writeFloat32(i);break;case e.TYPES.double:r.writeFloat64(i);break;case e.TYPES.string:r.writeVString(i);break;case e.TYPES.bytes:if(i.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");var a=i.offset;r.writeVarint32(i.remaining()),r.append(i),i.offset=a;break;case e.TYPES.message:var o=(new t).LE();this.resolvedType.encode(i,o),r.writeVarint32(o.offset),r.append(o.flip());break;case e.TYPES.group:this.resolvedType.encode(i,r),r.writeVarint32(n<<3|e.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")}return r},l.decode=function(t,n,i){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var r,a;switch(this.type){case e.TYPES.int32:return 0|t.readVarint32();case e.TYPES.uint32:return t.readVarint32()>>>0;case e.TYPES.sint32:return 0|t.readVarint32ZigZag();case e.TYPES.fixed32:return t.readUint32()>>>0;case e.TYPES.sfixed32:return 0|t.readInt32();case e.TYPES.int64:return t.readVarint64();case e.TYPES.uint64:return t.readVarint64().toUnsigned();case e.TYPES.sint64:return t.readVarint64ZigZag();case e.TYPES.fixed64:return t.readUint64();case e.TYPES.sfixed64:return t.readInt64();case e.TYPES.bool:return!!t.readVarint32();case e.TYPES.enum:return t.readVarint32();case e.TYPES.float:return t.readFloat();case e.TYPES.double:return t.readDouble();case e.TYPES.string:return t.readVString();case e.TYPES.bytes:if(a=t.readVarint32(),t.remaining()<a)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+a+" required but got only "+t.remaining());return(r=t.clone()).limit=r.offset+a,t.offset+=a,r;case e.TYPES.message:return a=t.readVarint32(),this.resolvedType.decode(t,a);case e.TYPES.group:return this.resolvedType.decode(t,-1,i)}throw Error("[INTERNAL] Illegal decode type")},l.valueFromString=function(n){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return this.verifyValue(parseInt(n));case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return this.verifyValue(n);case e.TYPES.bool:return"true"===n;case e.TYPES.string:return this.verifyValue(n);case e.TYPES.bytes:return t.fromBinary(n)}},l.valueToString=function(t){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===e.TYPES.bytes?t.toString("binary"):t.toString()},n.Element=c;var h=function(e,t,n,i,r,a){o.call(this,e,t,n,i,a),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!r,this._fields=null,this._fieldsById=null,this._fieldsByName=null},f=h.prototype=Object.create(o.prototype);function d(t,n){var i=n.readVarint32(),r=7&i,a=i>>>3;switch(r){case e.WIRE_TYPES.VARINT:do{i=n.readUint8()}while(128==(128&i));break;case e.WIRE_TYPES.BITS64:n.offset+=8;break;case e.WIRE_TYPES.LDELIM:i=n.readVarint32(),n.offset+=i;break;case e.WIRE_TYPES.STARTGROUP:d(a,n);break;case e.WIRE_TYPES.ENDGROUP:if(a===t)return!1;throw Error("Illegal GROUPEND after unknown group: "+a+" ("+t+" expected)");case e.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+t+": "+r)}return!0}f.build=function(n){if(this.clazz&&!n)return this.clazz;var r=function(e,n){var r=n.getChildren(e.Reflect.Message.Field),a=n.getChildren(e.Reflect.Message.OneOf),o=function o(s,c){e.Builder.Message.call(this);for(var l=0,u=a.length;l<u;++l)this[a[l].name]=null;for(l=0,u=r.length;l<u;++l){var h=r[l];this[h.name]=h.repeated?[]:h.map?new e.Map(h):null,!h.required&&"proto3"!==n.syntax||null===h.defaultValue||(this[h.name]=h.defaultValue)}var f;if(arguments.length>0)if(1!==arguments.length||null===s||"object"!==i(s)||!("function"!=typeof s.encode||s instanceof o)||Array.isArray(s)||s instanceof e.Map||t.isByteBuffer(s)||s instanceof ArrayBuffer||e.Long&&s instanceof e.Long)for(l=0,u=arguments.length;l<u;++l)void 0!==(f=arguments[l])&&this.$set(r[l].name,f);else this.$set(s)},s=o.prototype=Object.create(e.Builder.Message.prototype);s.add=function(t,i,r){var a=n._fieldsByName[t];if(!r){if(!a)throw Error(this+"#"+t+" is undefined");if(!(a instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+a.toString(!0));if(!a.repeated)throw Error(this+"#"+t+" is not a repeated field");i=a.verifyValue(i,!0)}return null===this[t]&&(this[t]=[]),this[t].push(i),this},s.$add=s.add,s.set=function(t,r,a){if(t&&"object"===i(t)){for(var o in a=r,t)t.hasOwnProperty(o)&&void 0!==(r=t[o])&&void 0===n._oneofsByName[o]&&this.$set(o,r,a);return this}var s=n._fieldsByName[t];if(a)this[t]=r;else{if(!s)throw Error(this+"#"+t+" is not a field: undefined");if(!(s instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+s.toString(!0));this[s.name]=r=s.verifyValue(r)}if(s&&s.oneof){var c=this[s.oneof.name];null!==r?(null!==c&&c!==s.name&&(this[c]=null),this[s.oneof.name]=s.name):c===t&&(this[s.oneof.name]=null)}return this},s.$set=s.set,s.get=function(t,i){if(i)return this[t];var r=n._fieldsByName[t];if(!(r&&r instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: undefined");if(!(r instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+r.toString(!0));return this[r.name]},s.$get=s.get;for(var c=0;c<r.length;c++){var l=r[c];l instanceof e.Reflect.Message.ExtensionField||n.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var i=e.originalName.replace(/([A-Z])/g,function(e){return"_"+e}),r=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},a=function(){return this[e.name]};null===n.getChild("set"+t)&&(s["set"+t]=r),null===n.getChild("set_"+i)&&(s["set_"+i]=r),null===n.getChild("get"+t)&&(s["get"+t]=a),null===n.getChild("get_"+i)&&(s["get_"+i]=a)}(l)}function u(n,r,a,o){if(null===n||"object"!==i(n)){if(o&&o instanceof e.Reflect.Enum){var s=e.Reflect.Enum.getName(o.object,n);if(null!==s)return s}return n}if(t.isByteBuffer(n))return r?n.toBase64():n.toBuffer();if(e.Long.isLong(n))return a?n.toString():e.Long.fromValue(n);var c;if(Array.isArray(n))return c=[],n.forEach(function(e,t){c[t]=u(e,r,a,o)}),c;if(c={},n instanceof e.Map){for(var l=n.entries(),h=l.next();!h.done;h=l.next())c[n.keyElem.valueToString(h.value[0])]=u(h.value[1],r,a,n.valueElem.resolvedType);return c}var f=n.$type,d=void 0;for(var p in n)n.hasOwnProperty(p)&&(f&&(d=f.getChild(p))?c[p]=u(n[p],r,a,d.resolvedType):c[p]=u(n[p],r,a));return c}return s.encode=function(e,i){"boolean"==typeof e&&(i=e,e=void 0);var r=!1;e||(e=new t,r=!0);var a=e.littleEndian;try{return n.encode(this,e.LE(),i),(r?e.flip():e).LE(a)}catch(t){throw e.LE(a),t}},o.encode=function(e,t,n){return new o(e).encode(t,n)},s.calculate=function(){return n.calculate(this)},s.encodeDelimited=function(e,i){var r=!1;e||(e=new t,r=!0);var a=(new t).LE();return n.encode(this,a,i).flip(),e.writeVarint32(a.remaining()),e.append(a),r?e.flip():e},s.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},s.toArrayBuffer=s.encodeAB,s.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},s.toBuffer=s.encodeNB,s.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},s.toBase64=s.encode64,s.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},s.toHex=s.encodeHex,s.toRaw=function(e,t){return u(this,!!e,!!t,this.$type)},s.encodeJSON=function(){return JSON.stringify(u(this,!0,!0,this.$type))},o.decode=function(e,i,r){"string"==typeof i&&(r=i,i=-1),"string"==typeof e?e=t.wrap(e,r||"base64"):t.isByteBuffer(e)||(e=t.wrap(e));var a=e.littleEndian;try{var o=n.decode(e.LE(),i);return e.LE(a),o}catch(t){throw e.LE(a),t}},o.decodeDelimited=function(e,i){if("string"==typeof e?e=t.wrap(e,i||"base64"):t.isByteBuffer(e)||(e=t.wrap(e)),e.remaining()<1)return null;var r=e.offset,a=e.readVarint32();if(e.remaining()<a)return e.offset=r,null;try{var o=n.decode(e.slice(e.offset,e.offset+a).LE());return e.offset+=a,o}catch(t){throw e.offset+=a,t}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},o.decodeJSON=function(e){return new o(JSON.parse(e))},s.toString=function(){return n.toString()},Object.defineProperty&&(Object.defineProperty(o,"$options",{value:n.buildOpt()}),Object.defineProperty(s,"$options",{value:o.$options}),Object.defineProperty(o,"$type",{value:n}),Object.defineProperty(s,"$type",{value:n})),o}(e,this);this._fields=[],this._fieldsById={},this._fieldsByName={},this._oneofsByName={};for(var a,o=0,s=this.children.length;o<s;o++)if((a=this.children[o])instanceof y||a instanceof h||a instanceof _){if(r.hasOwnProperty(a.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+a.toString(!0)+" cannot override static property '"+a.name+"'");r[a.name]=a.build()}else if(a instanceof h.Field)a.build(),this._fields.push(a),this._fieldsById[a.id]=a,this._fieldsByName[a.name]=a;else if(a instanceof h.OneOf)this._oneofsByName[a.name]=a;else if(!(a instanceof h.OneOf||a instanceof v))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=r},f.encode=function(e,t,n){for(var i,r,a=null,o=0,s=this._fields.length;o<s;++o)r=e[(i=this._fields[o]).name],i.required&&null===r?null===a&&(a=i):i.encode(n?r:i.verifyValue(r),t,e);if(null!==a){var c=Error("Missing at least one required field for "+this.toString(!0)+": "+a);throw c.encoded=t,c}return t},f.calculate=function(e){for(var t,n,i=0,r=0,a=this._fields.length;r<a;++r){if(n=e[(t=this._fields[r]).name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);i+=t.calculate(n,e)}return i},f.decode=function(t,n,i){"number"!=typeof n&&(n=-1);for(var r,a,o,s,c=t.offset,l=new this.clazz;t.offset<c+n||-1===n&&t.remaining()>0;){if(o=(r=t.readVarint32())>>>3,(a=7&r)===e.WIRE_TYPES.ENDGROUP){if(o!==i)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+o+" ("+(i?i+" expected":"not a group")+")");break}if(s=this._fieldsById[o]){if(s.repeated&&!s.options.packed)l[s.name].push(s.decode(a,t));else if(s.map){var u=s.decode(a,t);l[s.name].set(u[0],u[1])}else if(l[s.name]=s.decode(a,t),s.oneof){var h=l[s.oneof.name];null!==h&&h!==s.name&&(l[h]=null),l[s.oneof.name]=s.name}}else switch(a){case e.WIRE_TYPES.VARINT:t.readVarint32();break;case e.WIRE_TYPES.BITS32:t.offset+=4;break;case e.WIRE_TYPES.BITS64:t.offset+=8;break;case e.WIRE_TYPES.LDELIM:var f=t.readVarint32();t.offset+=f;break;case e.WIRE_TYPES.STARTGROUP:for(;d(o,t););break;default:throw Error("Illegal wire type for unknown field "+o+" in "+this.toString(!0)+"#decode: "+a)}}for(var p=0,g=this._fields.length;p<g;++p)if(null===l[(s=this._fields[p]).name])if("proto3"===this.syntax)l[s.name]=s.defaultValue;else{if(s.required){var m=Error("Missing at least one required field for "+this.toString(!0)+": "+s.name);throw m.decoded=l,m}e.populateDefaults&&null!==s.defaultValue&&(l[s.name]=s.defaultValue)}return l},n.Message=h;var p=function(t,n,i,a,o,s,c,l,u,f){r.call(this,t,n,s),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=a||null,this.type=o,this.resolvedType=null,this.id=c,this.options=l||{},this.defaultValue=null,this.oneof=u||null,this.syntax=f||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof h.ExtensionField||(this.name=e.Util.toCamelCase(this.name))},g=p.prototype=Object.create(r.prototype);g.build=function(){this.element=new c(this.type,this.resolvedType,!1,this.syntax,this.name),this.map&&(this.keyElement=new c(this.keyType,void 0,!0,this.syntax,this.name)),"proto3"!==this.syntax||this.repeated||this.map?void 0!==this.options.default&&(this.defaultValue=this.verifyValue(this.options.default)):this.defaultValue=c.defaultFieldValue(this.type)},g.verifyValue=function(t,n){n=n||!1;var r,a=this;function o(e,t){throw Error("Illegal value for "+a.toString(!0)+" of type "+a.type.name+": "+e+" ("+t+")")}if(null===t)return this.required&&o(i(t),"required"),"proto3"===this.syntax&&this.type!==e.TYPES.message&&o(i(t),"proto3 field without field presence cannot be null"),null;if(this.repeated&&!n){Array.isArray(t)||(t=[t]);var s=[];for(r=0;r<t.length;r++)s.push(this.element.verifyValue(t[r]));return s}return this.map&&!n?t instanceof e.Map?t:(t instanceof Object||o(i(t),"expected ProtoBuf.Map or raw object for map field"),new e.Map(this,t)):(!this.repeated&&Array.isArray(t)&&o(i(t),"no array expected"),this.element.verifyValue(t))},g.hasWirePresence=function(t,n){if("proto3"!==this.syntax)return null!==t;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return 0!==t;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return 0!==t.low||0!==t.high;case e.TYPES.bool:return t;case e.TYPES.float:case e.TYPES.double:return 0!==t;case e.TYPES.string:return t.length>0;case e.TYPES.bytes:return t.remaining()>0;case e.TYPES.enum:return 0!==t;case e.TYPES.message:return null!==t;default:return!0}},g.encode=function(n,r,a){if(null===this.type||"object"!==i(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return r;try{var o;if(this.repeated)if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var s=r.offset;for(o=0;o<n.length;o++)this.element.encodeValue(this.id,n[o],r);var c=r.offset-s,l=t.calculateVarint32(c);if(l>1){var u=r.slice(s,r.offset);s+=l-1,r.offset=s,r.append(u)}r.writeVarint32(c,s-l)}else for(o=0;o<n.length;o++)r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n[o],r);else this.map?n.forEach(function(n,i,a){var o=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);r.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),r.writeVarint32(o),r.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,i,r),r.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,n,r)},this):this.hasWirePresence(n,a)&&(r.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n,r))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+e+")")}return r},g.calculate=function(n,r){if(n=this.verifyValue(n),null===this.type||"object"!==i(this.type))throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var a=0;try{var o,s;if(this.repeated)if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(a+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),s=0,o=0;o<n.length;o++)s+=this.element.calculateLength(this.id,n[o]);a+=t.calculateVarint32(s),a+=s}else for(o=0;o<n.length;o++)a+=t.calculateVarint32(this.id<<3|this.type.wireType),a+=this.element.calculateLength(this.id,n[o]);else this.map?n.forEach(function(n,i,r){var o=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);a+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),a+=t.calculateVarint32(o),a+=o},this):this.hasWirePresence(n,r)&&(a+=t.calculateVarint32(this.id<<3|this.type.wireType),a+=this.element.calculateLength(this.id,n))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+e+")")}return a},g.decode=function(t,n,i){var r,a;if(!(!this.map&&t==this.type.wireType||!i&&this.repeated&&this.options.packed&&t==e.WIRE_TYPES.LDELIM||this.map&&t==e.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+t+" ("+this.type.wireType+" expected)");if(t==e.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!i){a=n.readVarint32(),a=n.offset+a;for(var o=[];n.offset<a;)o.push(this.decode(this.type.wireType,n,!0));return o}if(this.map){var s=c.defaultFieldValue(this.keyType);if(r=c.defaultFieldValue(this.type),a=n.readVarint32(),n.remaining()<a)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+a+" required but got only "+n.remaining());var l=n.clone();for(l.limit=l.offset+a,n.offset+=a;l.remaining()>0;){var u=l.readVarint32();t=7&u;var h=u>>>3;if(1===h)s=this.keyElement.decode(l,t,h);else{if(2!==h)throw Error("Unexpected tag in map field key/value submessage");r=this.element.decode(l,t,h)}}return[s,r]}return this.element.decode(n,t,this.id)},n.Message.Field=p;var m=function(e,t,n,i,r,a,o){p.call(this,e,t,n,null,i,r,a,o),this.extension};m.prototype=Object.create(p.prototype),n.Message.ExtensionField=m;n.Message.OneOf=function(e,t,n){r.call(this,e,t,n),this.fields=[]};var y=function(e,t,n,i,r){o.call(this,e,t,n,i,r),this.className="Enum",this.object=null};y.getName=function(e,t){for(var n,i=Object.keys(e),r=0;r<i.length;++r)if(e[n=i[r]]===t)return n;return null},(y.prototype=Object.create(o.prototype)).build=function(t){if(this.object&&!t)return this.object;for(var n=new e.Builder.Enum,i=this.getChildren(y.Value),r=0,a=i.length;r<a;++r)n[i[r].name]=i[r].id;return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},n.Enum=y;var b=function(e,t,n,i){r.call(this,e,t,n),this.className="Enum.Value",this.id=i};b.prototype=Object.create(r.prototype),n.Enum.Value=b;var v=function(e,t,n,i){r.call(this,e,t,n),this.field=i};v.prototype=Object.create(r.prototype),n.Extension=v;var _=function(e,t,n,i){o.call(this,e,t,n,i),this.className="Service",this.clazz=null};(_.prototype=Object.create(o.prototype)).build=function(n){return this.clazz&&!n?this.clazz:this.clazz=function(e,n){for(var r=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},a=r.prototype=Object.create(e.Builder.Service.prototype),o=n.getChildren(e.Reflect.Service.RPCMethod),s=0;s<o.length;s++)(function(e){a[e.name]=function(r,a){try{try{r=e.resolvedRequestType.clazz.decode(t.wrap(r))}catch(e){if(!(e instanceof TypeError))throw e}if(null===r||"object"!==i(r))throw Error("Illegal arguments");r instanceof e.resolvedRequestType.clazz||(r=new e.resolvedRequestType.clazz(r)),this.rpcImpl(e.fqn(),r,function(t,i){if(t)a(t);else{null===i&&(i="");try{i=e.resolvedResponseType.clazz.decode(i)}catch(e){}i&&i instanceof e.resolvedResponseType.clazz?a(null,i):a(Error("Illegal response type received in service method "+n.name+"#"+e.name))}})}catch(e){setTimeout(a.bind(this,e),0)}},r[e.name]=function(t,n,i){new r(t)[e.name](n,i)},Object.defineProperty&&(Object.defineProperty(r[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(a[e.name],"$options",{value:r[e.name].$options}))})(o[s]);return Object.defineProperty&&(Object.defineProperty(r,"$options",{value:n.buildOpt()}),Object.defineProperty(a,"$options",{value:r.$options}),Object.defineProperty(r,"$type",{value:n}),Object.defineProperty(a,"$type",{value:n})),r}(e,this)},n.Service=_;var C=function(e,t,n,i){r.call(this,e,t,n),this.className="Service.Method",this.options=i||{}};(C.prototype=Object.create(r.prototype)).buildOpt=s.buildOpt,n.Service.Method=C;var M=function(e,t,n,i,r,a,o,s){C.call(this,e,t,n,s),this.className="Service.RPCMethod",this.requestName=i,this.responseName=r,this.requestStream=a,this.responseStream=o,this.resolvedRequestType=null,this.resolvedResponseType=null};return M.prototype=Object.create(C.prototype),n.Service.RPCMethod=M,n}(a),a.Builder=function(t,n,r){var a=function(e){this.ns=new r.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},o=a.prototype;function s(e){e.messages&&e.messages.forEach(function(t){t.syntax=e.syntax,s(t)}),e.enums&&e.enums.forEach(function(t){t.syntax=e.syntax})}return a.isMessage=function(e){return"string"==typeof e.name&&(void 0===e.values&&void 0===e.rpc)},a.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&void 0!==e.id},a.isEnum=function(e){return"string"==typeof e.name&&!(void 0===e.values||!Array.isArray(e.values)||0===e.values.length)},a.isService=function(e){return!("string"!=typeof e.name||"object"!==i(e.rpc)||!e.rpc)},a.isExtend=function(e){return"string"==typeof e.ref},o.reset=function(){return this.ptr=this.ns,this},o.define=function(e){if("string"!=typeof e||!n.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach(function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new r.Namespace(this,this.ptr,e)),this.ptr=t},this),this},o.create=function(e){if(!e)return this;if(Array.isArray(e)){if(0===e.length)return this;e=e.slice()}else e=[e];for(var n=[e];n.length>0;){if(e=n.pop(),!Array.isArray(e))throw Error("not a valid namespace: "+JSON.stringify(e));for(;e.length>0;){var o=e.shift();if(a.isMessage(o)){var s=new r.Message(this,this.ptr,o.name,o.options,o.isGroup,o.syntax),c={};o.oneofs&&Object.keys(o.oneofs).forEach(function(e){s.addChild(c[e]=new r.Message.OneOf(this,s,e))},this),o.fields&&o.fields.forEach(function(e){if(null!==s.getChild(0|e.id))throw Error("duplicate or invalid field id in "+s.name+": "+e.id);if(e.options&&"object"!==i(e.options))throw Error("illegal field options in "+s.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=c[e.oneof]))throw Error("illegal oneof in "+s.name+"#"+e.name+": "+e.oneof);e=new r.Message.Field(this,s,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,o.syntax),t&&t.fields.push(e),s.addChild(e)},this);var l=[];if(o.enums&&o.enums.forEach(function(e){l.push(e)}),o.messages&&o.messages.forEach(function(e){l.push(e)}),o.services&&o.services.forEach(function(e){l.push(e)}),o.extensions&&("number"==typeof o.extensions[0]?s.extensions=[o.extensions]:s.extensions=o.extensions),this.ptr.addChild(s),l.length>0){n.push(e),e=l,l=null,this.ptr=s,s=null;continue}l=null}else if(a.isEnum(o))s=new r.Enum(this,this.ptr,o.name,o.options,o.syntax),o.values.forEach(function(e){s.addChild(new r.Enum.Value(this,s,e.name,e.id))},this),this.ptr.addChild(s);else if(a.isService(o))s=new r.Service(this,this.ptr,o.name,o.options),Object.keys(o.rpc).forEach(function(e){var t=o.rpc[e];s.addChild(new r.Service.RPCMethod(this,s,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))},this),this.ptr.addChild(s);else{if(!a.isExtend(o))throw Error("not a valid definition: "+JSON.stringify(o));if(s=this.ptr.resolve(o.ref,!0))o.fields.forEach(function(e){if(null!==s.getChild(0|e.id))throw Error("duplicate extended field id in "+s.name+": "+e.id);if(s.extensions){var n=!1;if(s.extensions.forEach(function(t){e.id>=t[0]&&e.id<=t[1]&&(n=!0)}),!n)throw Error("illegal extended field id in "+s.name+": "+e.id+" (not within valid ranges)")}var i=e.name;this.options.convertFieldsToCamelCase&&(i=t.Util.toCamelCase(i));var a=new r.Message.ExtensionField(this,s,e.rule,e.type,this.ptr.fqn()+"."+i,e.id,e.options),o=new r.Extension(this,this.ptr,e.name,a);a.extension=o,this.ptr.addChild(o),s.addChild(a)},this);else if(!/\.?google\.protobuf\./.test(o.ref))throw Error("extended message "+o.ref+" is not defined")}o=null,s=null}e=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},o.import=function(n,r){var a="/";if("string"==typeof r){if(t.Util.IS_NODE&&(r=e("path").resolve(r)),!0===this.files[r])return this.reset();this.files[r]=!0}else if("object"===i(r)){var o,c=r.root;if(t.Util.IS_NODE&&(c=e("path").resolve(c)),(c.indexOf("\\")>=0||r.file.indexOf("\\")>=0)&&(a="\\"),o=t.Util.IS_NODE?e("path").join(c,r.file):c+a+r.file,!0===this.files[o])return this.reset();this.files[o]=!0}if(n.imports&&n.imports.length>0){var l,u=!1;"object"===i(r)?(this.importRoot=r.root,u=!0,l=this.importRoot,r=r.file,(l.indexOf("\\")>=0||r.indexOf("\\")>=0)&&(a="\\")):"string"==typeof r?this.importRoot?l=this.importRoot:r.indexOf("/")>=0?""===(l=r.replace(/\/[^\/]*$/,""))&&(l="/"):r.indexOf("\\")>=0?(l=r.replace(/\\[^\\]*$/,""),a="\\"):l=".":l=null;for(var h=0;h<n.imports.length;h++)if("string"==typeof n.imports[h]){if(!l)throw Error("cannot determine import root");var f=n.imports[h];if("google/protobuf/descriptor.proto"===f)continue;if(f=t.Util.IS_NODE?e("path").join(l,f):l+a+f,!0===this.files[f])continue;/\.proto$/i.test(f)&&!t.DotProto&&(f=f.replace(/\.proto$/,".json"));var d=t.Util.fetch(f);if(null===d)throw Error("failed to import '"+f+"' in '"+r+"': file not found");/\.json$/i.test(f)?this.import(JSON.parse(d+""),f):this.import(t.DotProto.Parser.parse(d),f)}else r?/\.(\w+)$/.test(r)?this.import(n.imports[h],r.replace(/^(.+)\.(\w+)$/,function(e,t,n){return t+"_import"+h+"."+n})):this.import(n.imports[h],r+"_import"+h):this.import(n.imports[h]);u&&(this.importRoot=null)}n.package&&this.define(n.package),n.syntax&&s(n);var p=this.ptr;return n.options&&Object.keys(n.options).forEach(function(e){p.options[e]=n.options[e]}),n.messages&&(this.create(n.messages),this.ptr=p),n.enums&&(this.create(n.enums),this.ptr=p),n.services&&(this.create(n.services),this.ptr=p),n.extends&&this.create(n.extends),this.reset()},o.resolveAll=function(){var e;if(null==this.ptr||"object"===i(this.ptr.type))return this;if(this.ptr instanceof r.Namespace)this.ptr.children.forEach(function(e){this.ptr=e,this.resolveAll()},this);else if(this.ptr instanceof r.Message.Field){if(n.TYPE.test(this.ptr.type))this.ptr.type=t.TYPES[this.ptr.type];else{if(!n.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(!(e=(this.ptr instanceof r.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0)))throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=e,e instanceof r.Enum){if(this.ptr.type=t.TYPES.enum,"proto3"===this.ptr.syntax&&"proto3"!==e.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(e instanceof r.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=e.isGroup?t.TYPES.group:t.TYPES.message}}if(this.ptr.map){if(!n.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=t.TYPES[this.ptr.keyType]}"proto3"===this.ptr.syntax&&this.ptr.repeated&&void 0===this.ptr.options.packed&&-1!==t.PACKABLE_WIRE_TYPES.indexOf(this.ptr.type.wireType)&&(this.ptr.options.packed=!0)}else if(this.ptr instanceof t.Reflect.Service.Method){if(!(this.ptr instanceof t.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(!((e=this.ptr.parent.resolve(this.ptr.requestName,!0))&&e instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=e,!((e=this.ptr.parent.resolve(this.ptr.responseName,!0))&&e instanceof t.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=e}else if(!(this.ptr instanceof t.Reflect.Message.OneOf||this.ptr instanceof t.Reflect.Extension||this.ptr instanceof t.Reflect.Enum.Value))throw Error("illegal object in namespace: "+i(this.ptr)+": "+this.ptr);return this.reset()},o.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"==typeof e?e.split("."):e,n=this.result,i=0;i<t.length;i++){if(!n[t[i]]){n=null;break}n=n[t[i]]}return n},o.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},o.toString=function(){return"Builder"},a.Message=function(){},a.Enum=function(){},a.Service=function(){},a}(a,a.Lang,a.Reflect),a.Map=function(e,t){var n=function(e,n){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(var i=Object.keys(n),r=0;r<i.length;r++){var a=this.keyElem.valueFromString(i[r]),o=this.valueElem.verifyValue(n[i[r]]);this.map[this.keyElem.valueToString(a)]={key:a,value:o}}},i=n.prototype;function r(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}return i.clear=function(){this.map={}},i.delete=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},i.entries=function(){for(var e,t=[],n=Object.keys(this.map),i=0;i<n.length;i++)t.push([(e=this.map[n[i]]).key,e.value]);return r(t)},i.keys=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].key);return r(e)},i.values=function(){for(var e=[],t=Object.keys(this.map),n=0;n<t.length;n++)e.push(this.map[t[n]].value);return r(e)},i.forEach=function(e,t){for(var n,i=Object.keys(this.map),r=0;r<i.length;r++)e.call(t,(n=this.map[i[r]]).value,n.key,this)},i.set=function(e,t){var n=this.keyElem.verifyValue(e),i=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:i},this},i.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));if(t in this.map)return this.map[t].value},i.has=function(e){return this.keyElem.valueToString(this.keyElem.verifyValue(e))in this.map},n}(0,a.Reflect),a.loadProto=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=void 0),a.loadJson(a.DotProto.Parser.parse(e),t,n)},a.protoFromString=a.loadProto,a.loadProtoFile=function(e,t,n){if(t&&"object"===i(t)?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return a.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(i){if(null!==i)try{t(null,a.loadProto(i,n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))});var r=a.Util.fetch("object"===i(e)?e.root+"/"+e.file:e);return null===r?null:a.loadProto(r,n,e)},a.protoFromFile=a.loadProtoFile,a.newBuilder=function(e){return void 0===(e=e||{}).convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=a.convertFieldsToCamelCase),void 0===e.populateAccessors&&(e.populateAccessors=a.populateAccessors),new a.Builder(e)},a.loadJson=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=null),t&&"object"===i(t)||(t=a.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t.import(e,n),t.resolveAll(),t},a.loadJsonFile=function(e,t,n){if(t&&"object"===i(t)?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return a.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(i){if(null!==i)try{t(null,a.loadJson(JSON.parse(i),n,e))}catch(e){t(e)}else t(Error("Failed to fetch file"))});var r=a.Util.fetch("object"===i(e)?e.root+"/"+e.file:e);return null===r?null:a.loadJson(JSON.parse(r),n,e)},a.ToByteBuffer=function(e){return a.ByteBuffer.wrap(e,"binary")},a}),cc._RF.pop()}).call(this,e("_process"))},{"./bytebuffer":"bytebuffer",_process:119,crypto:56,fs:void 0,path:112}],protobuf:[function(require,module,exports){(function(global){"use strict";function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}cc._RF.push(module,"3666dS1rPJD+p8RD0NFr/tr","protobuf"),function(undefined){(function(e,t,n){var i=function n(i){var r=t[i];return r||e[i][0].call(r=t[i]={exports:{}},n,r,r.exports),r.exports}(n[0]);i.util.global.protobuf=i,"function"==typeof define&&define.amd&&define(["long"],function(e){return e&&e.isLong&&(i.util.Long=e,i.configure()),i}),"object"===(void 0===module?"undefined":_typeof(module))&&module&&module.exports&&(module.exports=i)})({1:[function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),i=0,r=2,a=!0;for(;r<arguments.length;)n[i++]=arguments[r++];return new Promise(function(r,o){n[i]=function(e){if(a)if(a=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];r.apply(null,t)}};try{e.apply(t||null,n)}catch(e){a&&(a=!1,o(e))}})}},{}],2:[function(e,t,n){var i=n;i.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),a=new Array(123),o=0;o<64;)a[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;i.encode=function(e,t,n){for(var i,a=null,o=[],s=0,c=0;t<n;){var l=e[t++];switch(c){case 0:o[s++]=r[l>>2],i=(3&l)<<4,c=1;break;case 1:o[s++]=r[i|l>>4],i=(15&l)<<2,c=2;break;case 2:o[s++]=r[i|l>>6],o[s++]=r[63&l],c=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0)}return c&&(o[s++]=r[i],o[s++]=61,1===c&&(o[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))};i.decode=function(e,t,n){for(var i,r=n,o=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&o>1)break;if((c=a[c])===undefined)throw Error("invalid encoding");switch(o){case 0:i=c,o=1;break;case 1:t[n++]=i<<2|(48&c)>>4,i=c,o=2;break;case 2:t[n++]=(15&i)<<4|(60&c)>>2,i=c,o=3;break;case 3:t[n++]=(3&i)<<6|c,o=0}}if(1===o)throw Error("invalid encoding");return n-r},i.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){function i(e,t){"string"==typeof e&&(t=e,e=undefined);var n=[];function r(e){if("string"!=typeof e){var t=a();if(i.verbose&&(t="return "+t),e){for(var o=Object.keys(e),s=new Array(o.length+1),c=new Array(o.length),l=0;l<o.length;)s[l]=o[l],c[l]=e[o[l++]];return s[l]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var u=new Array(arguments.length-1),h=0;h<u.length;)u[h]=arguments[++h];if(h=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=u[h++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),h!==u.length)throw Error("parameter count mismatch");return n.push(e),r}function a(i){return"function "+(i||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return r.toString=a,r}t.exports=i,i.verbose=!1},{}],4:[function(e,t,n){function i(){this._listeners={}}t.exports=i,i.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},i.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this},i.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}},{}],5:[function(e,t,n){t.exports=a;var i=e(1),r=e(7)("fs");function a(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&r&&r.readFile?r.readFile(e,function(i,r){return i&&"undefined"!=typeof XMLHttpRequest?a.xhr(e,t,n):i?n(i):n(null,t.binary?r:r.toString("utf8"))}):a.xhr(e,t,n):i(a,this,e,t)}a.xhr=function(e,t,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4!==i.readyState)return undefined;if(0!==i.status&&200!==i.status)return n(Error("status "+i.status));if(t.binary){var e=i.response;if(!e){e=[];for(var r=0;r<i.responseText.length;++r)e.push(255&i.responseText.charCodeAt(r))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,i.responseText)},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}},{1:1,7:7}],6:[function(e,t,n){function i(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),i=128===n[3];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3]}function a(e,i,r){t[0]=e,i[r]=n[3],i[r+1]=n[2],i[r+2]=n[1],i[r+3]=n[0]}function o(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],t[0]}function s(e,i){return n[3]=e[i],n[2]=e[i+1],n[1]=e[i+2],n[0]=e[i+3],t[0]}e.writeFloatLE=i?r:a,e.writeFloatBE=i?a:r,e.readFloatLE=i?o:s,e.readFloatBE=i?s:o}():function(){function t(e,t,n,i){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,n,i);else if(isNaN(t))e(2143289344,n,i);else if(t>3.4028234663852886e38)e((r<<31|2139095040)>>>0,n,i);else if(t<1.1754943508222875e-38)e((r<<31|Math.round(t/1.401298464324817e-45))>>>0,n,i);else{var a=Math.floor(Math.log(t)/Math.LN2);e((r<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,i)}}function n(e,t,n){var i=e(t,n),r=2*(i>>31)+1,a=i>>>23&255,o=8388607&i;return 255===a?o?NaN:r*(1/0):0===a?1.401298464324817e-45*r*o:r*Math.pow(2,a-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,a),e.readFloatLE=n.bind(null,o),e.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),i=128===n[7];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3],i[r+4]=n[4],i[r+5]=n[5],i[r+6]=n[6],i[r+7]=n[7]}function a(e,i,r){t[0]=e,i[r]=n[7],i[r+1]=n[6],i[r+2]=n[5],i[r+3]=n[4],i[r+4]=n[3],i[r+5]=n[2],i[r+6]=n[1],i[r+7]=n[0]}function o(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],n[4]=e[i+4],n[5]=e[i+5],n[6]=e[i+6],n[7]=e[i+7],t[0]}function s(e,i){return n[7]=e[i],n[6]=e[i+1],n[5]=e[i+2],n[4]=e[i+3],n[3]=e[i+4],n[2]=e[i+5],n[1]=e[i+6],n[0]=e[i+7],t[0]}e.writeDoubleLE=i?r:a,e.writeDoubleBE=i?a:r,e.readDoubleLE=i?o:s,e.readDoubleBE=i?s:o}():function(){function t(e,t,n,i,r,a){var o=i<0?1:0;if(o&&(i=-i),0===i)e(0,r,a+t),e(1/i>0?0:2147483648,r,a+n);else if(isNaN(i))e(0,r,a+t),e(2146959360,r,a+n);else if(i>1.7976931348623157e308)e(0,r,a+t),e((o<<31|2146435072)>>>0,r,a+n);else{var s;if(i<2.2250738585072014e-308)e((s=i/5e-324)>>>0,r,a+t),e((o<<31|s/4294967296)>>>0,r,a+n);else{var c=Math.floor(Math.log(i)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=i*Math.pow(2,-c))>>>0,r,a+t),e((o<<31|c+1023<<20|1048576*s&1048575)>>>0,r,a+n)}}}function n(e,t,n,i,r){var a=e(i,r+t),o=e(i,r+n),s=2*(o>>31)+1,c=o>>>20&2047,l=4294967296*(1048575&o)+a;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,a,4,0),e.readDoubleLE=n.bind(null,o,0,4),e.readDoubleBE=n.bind(null,s,4,0)}(),e}function r(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function a(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=i(i)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,n){var i=n,r=i.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},a=i.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var a=0;a<t.length;)".."===t[a]?a>0&&".."!==t[a-1]?t.splice(--a,2):n?t.splice(a,1):++a:"."===t[a]?t.splice(a,1):++a;return i+t.join("/")};i.resolve=function(e,t,n){return n||(t=a(t)),r(t)?t:(n||(e=a(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?a(e+"/"+t):t)}},{}],9:[function(e,t,n){t.exports=function(e,t,n){var i=n||8192,r=i>>>1,a=null,o=i;return function(n){if(n<1||n>r)return e(n);o+n>i&&(a=e(i),o=0);var s=t.call(a,o,o+=n);return 7&o&&(o=1+(7|o)),s}}},{}],10:[function(e,t,n){var i=n;i.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},i.read=function(e,t,n){if(n-t<1)return"";for(var i,r=null,a=[],o=0;t<n;)(i=e[t++])<128?a[o++]=i:i>191&&i<224?a[o++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[o++]=55296+(i>>10),a[o++]=56320+(1023&i)):a[o++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,a)),o=0);return r?(o&&r.push(String.fromCharCode.apply(String,a.slice(0,o))),r.join("")):String.fromCharCode.apply(String,a.slice(0,o))},i.write=function(e,t,n){for(var i,r,a=n,o=0;o<e.length;++o)(i=e.charCodeAt(o))<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&56320==(64512&(r=e.charCodeAt(o+1)))?(i=65536+((1023&i)<<10)+(1023&r),++o,t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128);return n-a}},{}],11:[function(e,t,n){t.exports=a;var i,r=/\/|\./;function a(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),a[e]=t}a("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),a("duration",{Duration:i={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),a("timestamp",{Timestamp:i}),a("empty",{Empty:{fields:{}}}),a("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),a("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),a("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),a.get=function(e){return a[e]||null}},{}],12:[function(e,t,n){var i=n,r=e(15),a=e(37);function o(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(d%s){",i);for(var a=t.resolvedType.values,o=Object.keys(a),s=0;s<o.length;++s)t.repeated&&a[o[s]]===t.typeDefault&&e("default:"),e("case%j:",o[s])("case %i:",a[o[s]])("m%s=%j",i,a[o[s]])("break");e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,n,i);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,c)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i)}}return e}function s(e,t,n,i){if(t.resolvedType)t.resolvedType instanceof r?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,n,i,i):e("d%s=types[%i].toObject(m%s,o)",i,n,i);else{var a=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,a?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i)}}return e}i.fromObject=function(e){var t=e.fieldsArray,n=a.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<t.length;++i){var s=t[i].resolve(),c=a.safeProp(s.name);s.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),o(n,s,i,c+"[ks[i]]")("}")("}")):s.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),o(n,s,i,c+"[i]")("}")("}")):(s.resolvedType instanceof r||n("if(d%s!=null){",c),o(n,s,i,c),s.resolvedType instanceof r||n("}"))}return n("return m")},i.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);if(!t.length)return a.codegen()("return {}");for(var n=a.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],o=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?i:t[l].map?o:c).push(t[l]);if(i.length){for(n("if(o.arrays||o.defaults){"),l=0;l<i.length;++l)n("d%s=[]",a.safeProp(i[l].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),l=0;l<o.length;++l)n("d%s={}",a.safeProp(o[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],h=a.safeProp(u.name);if(u.resolvedType instanceof r)n("d%s=o.enums===String?%j:%j",h,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var f="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",h,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",h,f)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",h,h)("}")}else n("d%s=%j",h,u.typeDefault)}n("}")}var d=!1;for(l=0;l<t.length;++l){u=t[l];var p=e._fieldsArray.indexOf(u);h=a.safeProp(u.name);u.map?(d||(d=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),s(n,u,p,h+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),s(n,u,p,h+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",h,u.name),s(n,u,p,h),u.partOf&&n("if(o.oneofs)")("d%s=%j",a.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},{15:15,37:37}],13:[function(e,t,n){t.exports=function(e){var t=a.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var s=e._fieldsArray[n].resolve(),c=s.resolvedType instanceof i?"int32":s.type,l="m"+a.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),r.defaults[s.keyType]!==undefined?t("k=%j",r.defaults[s.keyType]):t("k=null"),r.defaults[c]!==undefined?t("value=%j",r.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),r.basic[c]===undefined?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),r.long[s.keyType]!==undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):s.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),r.packed[c]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),r.basic[c]===undefined?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,c)):r.basic[c]===undefined?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return t("return m")};var i=e(15),r=e(36),a=e(37);function o(e){return"missing required '"+e.name+"'"}},{15:15,36:36,37:37}],14:[function(e,t,n){t.exports=function(e){for(var t,n=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(a.compareFieldsById),c=0;c<s.length;++c){var l=s[c].resolve(),u=e._fieldsArray.indexOf(l),h=l.resolvedType instanceof i?"int32":l.type,f=r.basic[h];t="m"+a.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|r.mapKey[l.keyType],l.keyType),f===undefined?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,h,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&r.packed[h]!==undefined?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",h,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),f===undefined?o(n,l,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|f)>>>0,h,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),f===undefined?o(n,l,u,t):n("w.uint32(%i).%s(%s)",(l.id<<3|f)>>>0,h,t))}return n("return w")};var i=e(15),r=e(36),a=e(37);function o(e,t,n,i){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,i,(t.id<<3|2)>>>0)}},{15:15,36:36,37:37}],15:[function(e,t,n){t.exports=o;var i=e(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="Enum";var r=e(23),a=e(37);function o(e,t,n,r,a){if(i.call(this,e,n),t&&"object"!==_typeof(t))throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=r,this.comments=a||{},this.reserved=undefined,t)for(var o=Object.keys(t),s=0;s<o.length;++s)"number"==typeof t[o[s]]&&(this.valuesById[this.values[o[s]]=t[o[s]]]=o[s])}o.fromJSON=function(e,t){var n=new o(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},o.prototype.add=function(e,t,n){if(!a.isString(e))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},o.prototype.remove=function(e){if(!a.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},o.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)}},{23:23,24:24,37:37}],16:[function(e,t,n){t.exports=l;var i=e(24);((l.prototype=Object.create(i.prototype)).constructor=l).className="Field";var r,a=e(15),o=e(36),s=e(37),c=/^required|optional|repeated$/;function l(e,t,n,r,a,l,u){if(s.isObject(r)?(u=a,l=r,r=a=undefined):s.isObject(a)&&(u=l,l=a,a=undefined),i.call(this,e,l),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(n))throw TypeError("type must be a string");if(r!==undefined&&!c.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(a!==undefined&&!s.isString(a))throw TypeError("extend must be a string");"proto3_optional"===r&&(r="optional"),this.rule=r&&"optional"!==r?r:undefined,this.type=n,this.id=t,this.extend=a||undefined,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&o.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},l.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=o.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof r?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof r&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},l.d=function(e,t,n,i){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"===_typeof(t)&&(t=s.decorateEnum(t).name),function(r,a){s.decorateType(r.constructor).add(new l(a,e,t,n,{default:i}))}},l._configure=function(e){r=e}},{15:15,24:24,36:36,37:37}],17:[function(e,t,n){var i=t.exports=e(18);i.build="light",i.load=function(e,t,n){return"function"==typeof t?(n=t,t=new i.Root):t||(t=new i.Root),t.load(e,n)},i.loadSync=function(e,t){return t||(t=new i.Root),t.loadSync(e)},i.encoder=e(14),i.decoder=e(13),i.verifier=e(40),i.converter=e(12),i.ReflectionObject=e(24),i.Namespace=e(23),i.Root=e(29),i.Enum=e(15),i.Type=e(35),i.Field=e(16),i.OneOf=e(25),i.MapField=e(20),i.Service=e(33),i.Method=e(22),i.Message=e(21),i.wrappers=e(41),i.types=e(36),i.util=e(37),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(e,t,n){var i=n;function r(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=e(42),i.BufferWriter=e(43),i.Reader=e(27),i.BufferReader=e(28),i.util=e(39),i.rpc=e(31),i.roots=e(30),i.configure=r,r()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(e,t,n){var i=t.exports=e(17);i.build="full",i.tokenize=e(34),i.parse=e(26),i.common=e(11),i.Root._configure(i.Type,i.parse,i.common)},{11:11,17:17,26:26,34:34}],20:[function(e,t,n){t.exports=o;var i=e(16);((o.prototype=Object.create(i.prototype)).constructor=o).className="MapField";var r=e(36),a=e(37);function o(e,t,n,r,o,s){if(i.call(this,e,t,r,undefined,undefined,o,s),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},o.prototype.resolve=function(){if(this.resolved)return this;if(r.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},o.d=function(e,t,n){return"function"==typeof n?n=a.decorateType(n).name:n&&"object"===_typeof(n)&&(n=a.decorateEnum(n).name),function(i,r){a.decorateType(i.constructor).add(new o(r,e,t,n))}}},{16:16,36:36,37:37}],21:[function(e,t,n){t.exports=r;var i=e(39);function r(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}r.create=function(e){return this.$type.create(e)},r.encode=function(e,t){return this.$type.encode(e,t)},r.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},r.decode=function(e){return this.$type.decode(e)},r.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},r.verify=function(e){return this.$type.verify(e)},r.fromObject=function(e){return this.$type.fromObject(e)},r.toObject=function(e,t){return this.$type.toObject(e,t)},r.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},{39:39}],22:[function(e,t,n){t.exports=a;var i=e(24);((a.prototype=Object.create(i.prototype)).constructor=a).className="Method";var r=e(37);function a(e,t,n,a,o,s,c,l,u){if(r.isObject(o)?(c=o,o=s=undefined):r.isObject(s)&&(c=s,s=undefined),t!==undefined&&!r.isString(t))throw TypeError("type must be a string");if(!r.isString(n))throw TypeError("requestType must be a string");if(!r.isString(a))throw TypeError("responseType must be a string");i.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!o||undefined,this.responseType=a,this.responseStream=!!s||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return r.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined,"parsedOptions",this.parsedOptions])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(e,t,n){t.exports=u;var i=e(24);((u.prototype=Object.create(i.prototype)).constructor=u).className="Namespace";var r,a,o,s=e(16),c=e(37);function l(e,t){if(!e||!e.length)return undefined;for(var n={},i=0;i<e.length;++i)n[e[i].name]=e[i].toJSON(t);return n}function u(e,t){i.call(this,e,t),this.nested=undefined,this._nestedArray=null}function h(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=l,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),i=0;i<n.length;++i)t=e[n[i]],this.add((t.fields!==undefined?r.fromJSON:t.values!==undefined?o.fromJSON:t.methods!==undefined?a.fromJSON:t.id!==undefined?s.fromJSON:u.fromJSON)(n[i],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof s&&e.extend!==undefined||e instanceof r||e instanceof o||e instanceof a||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof r||t instanceof a)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,i=0;i<n.length;++i)e.add(n[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},u.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),h(this)},u.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var i=e.shift();if(n.nested&&n.nested[i]){if(!((n=n.nested[i])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(i))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(1===e.length){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof u&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var r=0;r<this.nestedArray.length;++r)if(this._nestedArray[r]instanceof u&&(i=this._nestedArray[r].lookup(e,t,!0)))return i;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[r]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[r,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){r=e,a=t,o=n}},{16:16,24:24,37:37}],24:[function(e,t,n){t.exports=a,a.className="ReflectionObject";var i,r=e(37);function a(e,t){if(!r.isString(e))throw TypeError("name must be a string");if(t&&!r.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(a.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof i&&t._handleAdd(this)},a.prototype.onRemove=function(e){var t=e.root;t instanceof i&&t._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved?this:(this.root instanceof i&&(this.resolved=!0),this)},a.prototype.getOption=function(e){return this.options?this.options[e]:undefined},a.prototype.setOption=function(e,t,n){return n&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},a.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(n){var a=i.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(a){var o=a[e];r.setProperty(o,n,t)}else(a={})[e]=r.setProperty({},n,t),i.push(a)}else{var s={};s[e]=t,i.push(s)}return this},a.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)this.setOption(n[i],e[n[i]],t);return this},a.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},a._configure=function(e){i=e}},{37:37}],25:[function(e,t,n){t.exports=o;var i=e(24);((o.prototype=Object.create(i.prototype)).constructor=o).className="OneOf";var r=e(16),a=e(37);function o(e,t,n,r){if(Array.isArray(t)||(n=t,t=undefined),i.call(this,e,n),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=r}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},o.prototype.add=function(e){if(!(e instanceof r))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},o.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){i.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},o.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);i.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){a.decorateType(t.constructor).add(new o(n,e)),Object.defineProperty(t,n,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}}},{16:16,24:24,37:37}],26:[function(e,t,n){t.exports=w,w.filename=null,w.defaults={keepCase:!1};var i=e(34),r=e(29),a=e(35),o=e(16),s=e(20),c=e(25),l=e(15),u=e(33),h=e(22),f=e(36),d=e(37),p=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,v=/^-?0[0-7]+$/,_=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,C=/^[a-zA-Z_][a-zA-Z_0-9]*$/,M=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,S=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function w(e,t,n){t instanceof r||(n=t,t=new r),n||(n=w.defaults);var D,E,A,P,I,N=n.preferTrailingComment||!1,T=i(e,n.alternateCommentMode||!1),k=T.next,R=T.push,O=T.peek,L=T.skip,x=T.cmnt,B=!0,U=!1,K=t,j=n.keepCase?function(e){return e}:d.camelCase;function X(e,t,n){var i=w.filename;return n||(w.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(i?i+", ":"")+"line "+T.line+")")}function F(){var e,t=[];do{if('"'!==(e=k())&&"'"!==e)throw X(e);t.push(k()),L(e),e=O()}while('"'===e||"'"===e);return t.join("")}function G(e){var t=k();switch(t){case"'":case'"':return R(t),F();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return J(t,!0)}catch(n){if(e&&M.test(t))return t;throw X(t,"value")}}function W(e,t){var n,i;do{!t||'"'!==(n=O())&&"'"!==n?e.push([i=V(k()),L("to",!0)?V(k()):i]):e.push(F())}while(L(",",!0));L(";")}function J(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return n*parseInt(e,10);if(m.test(e))return n*parseInt(e,16);if(b.test(e))return n*parseInt(e,8);if(_.test(e))return n*parseFloat(e);throw X(e,"number",t)}function V(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw X(e,"id");if(g.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(v.test(e))return parseInt(e,8);throw X(e,"id")}function H(){if(D!==undefined)throw X("package");if(D=k(),!M.test(D))throw X(D,"name");K=K.define(D),L(";")}function z(){var e,t=O();switch(t){case"weak":e=A||(A=[]),k();break;case"public":k();default:e=E||(E=[])}t=F(),L(";"),e.push(t)}function q(){if(L("="),P=F(),!(U="proto3"===P)&&"proto2"!==P)throw X(P,"syntax");L(";")}function Y(e,t){switch(t){case"option":return ae(e,t),L(";"),!0;case"message":return Z(e,t),!0;case"enum":return ie(e,t),!0;case"service":return ue(e,t),!0;case"extend":return fe(e,t),!0}return!1}function Q(e,t,n){var i=T.line;if(e&&("string"!=typeof e.comment&&(e.comment=x()),e.filename=w.filename),L("{",!0)){for(var r;"}"!==(r=k());)t(r);L(";",!0)}else n&&n(),L(";"),e&&("string"!=typeof e.comment||N)&&(e.comment=x(i)||e.comment)}function Z(e,t){if(!C.test(t=k()))throw X(t,"type name");var n=new a(t);Q(n,function(e){if(!Y(n,e))switch(e){case"map":te(n);break;case"required":case"repeated":$(n,e);break;case"optional":$(n,U?"proto3_optional":"optional");break;case"oneof":ne(n,e);break;case"extensions":W(n.extensions||(n.extensions=[]));break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:if(!U||!M.test(e))throw X(e);R(e),$(n,"optional")}}),e.add(n)}function $(e,t,n){var i=k();if("group"!==i){if(!M.test(i))throw X(i,"type");var r=k();if(!C.test(r))throw X(r,"name");r=j(r),L("=");var a=new o(r,V(k()),i,t,n);if(Q(a,function(e){if("option"!==e)throw X(e);ae(a,e),L(";")},function(){le(a)}),"proto3_optional"===t){var s=new c("_"+r);a.setOption("proto3_optional",!0),s.add(a),e.add(s)}else e.add(a);U||!a.repeated||f.packed[i]===undefined&&f.basic[i]!==undefined||a.setOption("packed",!1,!0)}else ee(e,t)}function ee(e,t){var n=k();if(!C.test(n))throw X(n,"name");var i=d.lcFirst(n);n===i&&(n=d.ucFirst(n)),L("=");var r=V(k()),s=new a(n);s.group=!0;var c=new o(i,r,n,t);c.filename=w.filename,Q(s,function(e){switch(e){case"option":ae(s,e),L(";");break;case"required":case"repeated":$(s,e);break;case"optional":$(s,U?"proto3_optional":"optional");break;default:throw X(e)}}),e.add(s).add(c)}function te(e){L("<");var t=k();if(f.mapKey[t]===undefined)throw X(t,"type");L(",");var n=k();if(!M.test(n))throw X(n,"type");L(">");var i=k();if(!C.test(i))throw X(i,"name");L("=");var r=new s(j(i),V(k()),t,n);Q(r,function(e){if("option"!==e)throw X(e);ae(r,e),L(";")},function(){le(r)}),e.add(r)}function ne(e,t){if(!C.test(t=k()))throw X(t,"name");var n=new c(j(t));Q(n,function(e){"option"===e?(ae(n,e),L(";")):(R(e),$(n,"optional"))}),e.add(n)}function ie(e,t){if(!C.test(t=k()))throw X(t,"name");var n=new l(t);Q(n,function(e){switch(e){case"option":ae(n,e),L(";");break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:re(n,e)}}),e.add(n)}function re(e,t){if(!C.test(t))throw X(t,"name");L("=");var n=V(k(),!0),i={};Q(i,function(e){if("option"!==e)throw X(e);ae(i,e),L(";")},function(){le(i)}),e.add(t,n,i.comment)}function ae(e,t){var n=L("(",!0);if(!M.test(t=k()))throw X(t,"name");var i,r=t,a=r;n&&(L(")"),a=r="("+r+")",t=O(),S.test(t)&&(i=t.substr(1),r+=t,k())),L("="),ce(e,a,oe(e,r),i)}function oe(e,t){if(L("{",!0)){for(var n={};!L("}",!0);){if(!C.test(I=k()))throw X(I,"name");var i,r=I;"{"===O()?i=oe(e,t+"."+I):(L(":"),"{"===O()?i=oe(e,t+"."+I):(i=G(!0),se(e,t+"."+I,i)));var a=n[r];a&&(i=[].concat(a).concat(i)),n[r]=i,L(",",!0)}return n}var o=G(!0);return se(e,t,o),o}function se(e,t,n){e.setOption&&e.setOption(t,n)}function ce(e,t,n,i){e.setParsedOption&&e.setParsedOption(t,n,i)}function le(e){if(L("[",!0)){do{ae(e,"option")}while(L(",",!0));L("]")}return e}function ue(e,t){if(!C.test(t=k()))throw X(t,"service name");var n=new u(t);Q(n,function(e){if(!Y(n,e)){if("rpc"!==e)throw X(e);he(n,e)}}),e.add(n)}function he(e,t){var n=x(),i=t;if(!C.test(t=k()))throw X(t,"name");var r,a,o,s,c=t;if(L("("),L("stream",!0)&&(a=!0),!M.test(t=k()))throw X(t);if(r=t,L(")"),L("returns"),L("("),L("stream",!0)&&(s=!0),!M.test(t=k()))throw X(t);o=t,L(")");var l=new h(c,i,r,o,a,s);l.comment=n,Q(l,function(e){if("option"!==e)throw X(e);ae(l,e),L(";")}),e.add(l)}function fe(e,t){if(!M.test(t=k()))throw X(t,"reference");var n=t;Q(null,function(t){switch(t){case"required":case"repeated":$(e,t,n);break;case"optional":$(e,U?"proto3_optional":"optional",n);break;default:if(!U||!M.test(t))throw X(t);R(t),$(e,"optional",n)}})}for(;null!==(I=k());)switch(I){case"package":if(!B)throw X(I);H();break;case"import":if(!B)throw X(I);z();break;case"syntax":if(!B)throw X(I);q();break;case"option":ae(K,I),L(";");break;default:if(Y(K,I)){B=!1;continue}throw X(I)}return w.filename=null,{package:D,imports:E,weakImports:A,syntax:P,root:t}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(e,t,n){t.exports=c;var i,r=e(39),a=r.LongBits,o=r.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},u=function(){return r.Buffer?function(e){return(c.create=function(e){return r.Buffer.isBuffer(e)?new i(e):l(e)})(e)}:l};function h(){var e=new a(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function d(){if(this.pos+8>this.len)throw s(this,8);return new a(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){i=e,c.create=u(),i._configure();var t=r.Long?"toLong":"toNumber";r.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return d.call(this)[t](!0)},sfixed64:function(){return d.call(this)[t](!1)}})}},{39:39}],28:[function(e,t,n){t.exports=a;var i=e(27);(a.prototype=Object.create(i.prototype)).constructor=a;var r=e(39);function a(e){i.call(this,e)}a._configure=function(){r.Buffer&&(a.prototype._slice=r.Buffer.prototype.slice)},a.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},a._configure()},{27:27,39:39}],29:[function(e,t,n){t.exports=h;var i=e(23);((h.prototype=Object.create(i.prototype)).constructor=h).className="Root";var r,a,o,s=e(16),c=e(15),l=e(25),u=e(37);function h(e){i.call(this,"",e),this.deferred=[],this.files=[]}function f(){}h.fromJSON=function(e,t){return t||(t=new h),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},h.prototype.resolvePath=u.path.resolve,h.prototype.fetch=u.fetch,h.prototype.load=function e(t,n,i){"function"==typeof n&&(i=n,n=undefined);var r=this;if(!i)return u.asPromise(e,r,t,n);var s=i===f;function c(e,t){if(i){var n=i;if(i=null,s)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in o)return n}return null}function h(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){a.filename=e;var i,o=a(t,r,n),h=0;if(o.imports)for(;h<o.imports.length;++h)(i=l(o.imports[h])||r.resolvePath(e,o.imports[h]))&&d(i);if(o.weakImports)for(h=0;h<o.weakImports.length;++h)(i=l(o.weakImports[h])||r.resolvePath(e,o.weakImports[h]))&&d(i,!0)}else r.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}s||p||c(null,r)}function d(e,t){if(!(r.files.indexOf(e)>-1))if(r.files.push(e),e in o)s?h(e,o[e]):(++p,setTimeout(function(){--p,h(e,o[e])}));else if(s){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}h(e,n)}else++p,r.fetch(e,function(n,a){--p,i&&(n?t?p||c(null,r):c(n):h(e,a))})}var p=0;u.isString(t)&&(t=[t]);for(var g,m=0;m<t.length;++m)(g=r.resolvePath("",t[m]))&&d(g);return s?r:(p||c(null,r),undefined)},h.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,f)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return i.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function p(e,t){var n=t.parent.lookup(t.extend);if(n){var i=new s(t.fullName,t.id,t.type,t.rule,undefined,t.options);return i.declaringField=t,t.extensionField=i,n.add(i),!0}return!1}h.prototype._handleAdd=function(e){if(e instanceof s)e.extend===undefined||e.extensionField||p(0,e)||this.deferred.push(e);else if(e instanceof c)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof r)for(var t=0;t<this.deferred.length;)p(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);d.test(e.name)&&(e.parent[e.name]=e)}},h.prototype._handleRemove=function(e){if(e instanceof s){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof i){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);d.test(e.name)&&delete e.parent[e.name]}},h._configure=function(e,t,n){r=e,a=t,o=n}},{15:15,16:16,23:23,25:25,37:37}],30:[function(e,t,n){t.exports={}},{}],31:[function(e,t,n){n.Service=e(32)},{32:32}],32:[function(e,t,n){t.exports=r;var i=e(39);function r(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,n,r,a,o){if(!a)throw TypeError("request must be specified");var s=this;if(!o)return i.asPromise(e,s,t,n,r,a);if(!s.rpcImpl)return setTimeout(function(){o(Error("already ended"))},0),undefined;try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(e,n){if(e)return s.emit("error",e,t),o(e);if(null===n)return s.end(!0),undefined;if(!(n instanceof r))try{n=r[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),o(e)}return s.emit("data",n,t),o(null,n)})}catch(e){return s.emit("error",e,t),setTimeout(function(){o(e)},0),undefined}},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(e,t,n){t.exports=s;var i=e(23);((s.prototype=Object.create(i.prototype)).constructor=s).className="Service";var r=e(22),a=e(37),o=e(31);function s(e,t){i.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),a=0;a<i.length;++a)n.add(r.fromJSON(i[a],t.methods[i[a]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return a.toObject(["options",t&&t.options||undefined,"methods",i.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||i.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return i.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof r?(this.methods[e.name]=e,e.parent=this,c(this)):i.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof r){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return i.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var i,r=new o.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var c=a.lcFirst((i=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");r[c]=a.codegen(["r","c"],a.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return r}},{22:22,23:23,31:31,37:37}],34:[function(e,t,n){t.exports=d;var i=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,a=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*/]+ */,s=/^\s*\*?\/*/,c=/\n/g,l=/\s/,u=/\\(.?)/g,h={0:"\0",r:"\r",n:"\n",t:"\t"};function f(e){return e.replace(u,function(e,t){switch(t){case"\\":case"":return t;default:return h[t]||""}})}function d(e,t){var n=0,u=(e=e.toString()).length,h=1,d=null,p=null,g=0,m=!1,y=!1,b=[],v=null;function _(e){return Error("illegal "+e+" (line "+h+")")}function C(){var t="'"===v?a:r;t.lastIndex=n-1;var i=t.exec(e);if(!i)throw _("string");return n=t.lastIndex,A(v),v=null,f(i[1])}function M(t){return e.charAt(t)}function S(n,i,r){d=e.charAt(n++),g=h,m=!1,y=r;var a,l=n-(t?2:3);do{if(--l<0||"\n"===(a=e.charAt(l))){m=!0;break}}while(" "===a||"\t"===a);for(var u=e.substring(n,i).split(c),f=0;f<u.length;++f)u[f]=u[f].replace(t?s:o,"").trim();p=u.join("\n").trim()}function w(t){var n=D(t),i=e.substring(t,n);return/^\s*\/{1,2}/.test(i)}function D(e){for(var t=e;t<u&&"\n"!==M(t);)t++;return t}function E(){if(b.length>0)return b.shift();if(v)return C();var r,a,o,s,c,f=0===n;do{if(n===u)return null;for(r=!1;l.test(o=M(n));)if("\n"===o&&(f=!0,++h),++n===u)return null;if("/"===M(n)){if(++n===u)throw _("comment");if("/"===M(n))if(t){if(s=n,c=!1,w(n)){c=!0;do{if((n=D(n))===u)break;n++}while(w(n))}else n=Math.min(u,D(n)+1);c&&S(s,n,f),h++,r=!0}else{for(c="/"===M(s=n+1);"\n"!==M(++n);)if(n===u)return null;++n,c&&S(s,n-1,f),++h,r=!0}else{if("*"!==(o=M(n)))return"/";s=n+1,c=t||"*"===M(s);do{if("\n"===o&&++h,++n===u)throw _("comment");a=o,o=M(n)}while("*"!==a||"/"!==o);++n,c&&S(s,n-2,f),r=!0}}}while(r);var d=n;if(i.lastIndex=0,!i.test(M(d++)))for(;d<u&&!i.test(M(d));)++d;var p=e.substring(n,n=d);return'"'!==p&&"'"!==p||(v=p),p}function A(e){b.push(e)}function P(){if(!b.length){var e=E();if(null===e)return null;A(e)}return b[0]}return Object.defineProperty({next:E,peek:P,push:A,skip:function(e,t){var n=P();if(n===e)return E(),!0;if(!t)throw _("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var n=null;return e===undefined?g===h-1&&(t||"*"===d||m)&&(n=y?p:null):(g<e&&P(),g!==e||m||!t&&"/"!==d||(n=y?null:p)),n}},"line",{get:function(){return h}})}d.unescape=f},{}],35:[function(e,t,n){t.exports=b;var i=e(23);((b.prototype=Object.create(i.prototype)).constructor=b).className="Type";var r=e(15),a=e(25),o=e(16),s=e(20),c=e(33),l=e(21),u=e(27),h=e(42),f=e(37),d=e(14),p=e(13),g=e(40),m=e(12),y=e(41);function b(e,t){i.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(b.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],i=n.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=b.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var i={};for(n=0;n<this.oneofsArray.length;++n)i[this._oneofsArray[n].resolve().name]={get:f.oneOfGetter(this._oneofsArray[n].oneof),set:f.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,i)}}}),b.generateConstructor=function(e){for(var t,n=f.codegen(["p"],e.name),i=0;i<e.fieldsArray.length;++i)(t=e._fieldsArray[i]).map?n("this%s={}",f.safeProp(t.name)):t.repeated&&n("this%s=[]",f.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},b.fromJSON=function(e,t){var n=new b(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)n.add((void 0!==t.fields[l[u]].keyType?s.fromJSON:o.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)n.add(a.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var h=t.nested[l[u]];n.add((h.id!==undefined?o.fromJSON:h.fields!==undefined?b.fromJSON:h.values!==undefined?r.fromJSON:h.methods!==undefined?c.fromJSON:i.fromJSON)(l[u],h))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},b.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||undefined,"oneofs",i.arrayToJSON(this.oneofsArray,e),"fields",i.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},b.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return i.prototype.resolveAll.call(this)},b.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},b.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),v(this)}return e instanceof a?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),v(this)):i.prototype.add.call(this,e)},b.prototype.remove=function(e){if(e instanceof o&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),v(this)}if(e instanceof a){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),v(this)}return i.prototype.remove.call(this,e)},b.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},b.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)},b.prototype.create=function(e){return new this.ctor(e)},b.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=d(this)({Writer:h,types:t,util:f}),this.decode=p(this)({Reader:u,types:t,util:f}),this.verify=g(this)({types:t,util:f}),this.fromObject=m.fromObject(this)({types:t,util:f}),this.toObject=m.toObject(this)({types:t,util:f});var i=y[e];if(i){var r=Object.create(this);r.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(r),r.toObject=this.toObject,this.toObject=i.toObject.bind(r)}return this},b.prototype.encode=function(e,t){return this.setup().encode(e,t)},b.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},b.prototype.decode=function(e,t){return this.setup().decode(e,t)},b.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},b.prototype.verify=function(e){return this.setup().verify(e)},b.prototype.fromObject=function(e){return this.setup().fromObject(e)},b.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},b.d=function(e){return function(t){f.decorateType(t,e)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(e,t,n){var i=n,r=e(37),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var n=0,i={};for(t|=0;n<e.length;)i[a[n+t]]=e[n++];return i}i.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),i.long=o([0,0,0,1,1],7),i.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(e,t,n){var i,r,a=t.exports=e(39),o=e(30);a.codegen=e(3),a.fetch=e(5),a.path=e(8),a.fs=a.inquire("fs"),a.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),i=0;i<t.length;)n[i]=e[t[i++]];return n}return[]},a.toObject=function(e){for(var t={},n=0;n<e.length;){var i=e[n++],r=e[n++];r!==undefined&&(t[i]=r)}return t};var s=/\\/g,c=/"/g;a.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},a.safeProp=function(e){return!/^[$\w_]+$/.test(e)||a.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},a.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;a.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})},a.compareFieldsById=function(e,t){return e.id-t.id},a.decorateType=function(t,n){if(t.$type)return n&&t.$type.name!==n&&(a.decorateRoot.remove(t.$type),t.$type.name=n,a.decorateRoot.add(t.$type)),t.$type;i||(i=e(35));var r=new i(n||t.name);return a.decorateRoot.add(r),r.ctor=t,Object.defineProperty(t,"$type",{value:r,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:r,enumerable:!1}),r};var u=0;a.decorateEnum=function(t){if(t.$type)return t.$type;r||(r=e(15));var n=new r("Enum"+u++,t);return a.decorateRoot.add(n),Object.defineProperty(t,"$type",{value:n,enumerable:!1}),n},a.setProperty=function(e,t,n){if("object"!==_typeof(e))throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,i){var r=n.shift();if(n.length>0)t[r]=e(t[r]||{},n,i);else{var a=t[r];a&&(i=[].concat(a).concat(i)),t[r]=i}return t}(e,t=t.split("."),n)},Object.defineProperty(a,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(e(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(e,t,n){t.exports=r;var i=e(39);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=r.zero=new r(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var o=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(i.isString(e)){if(!i.Long)return r.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):a},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;r.fromHash=function(e){return e===o?a:new r((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{39:39}],39:[function(e,t,n){var i=n;function r(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;++r)e[i[r]]!==undefined&&n||(e[i[r]]=t[i[r]]);return e}function a(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}i.asPromise=e(1),i.base64=e(2),i.EventEmitter=e(4),i.float=e(6),i.inquire=e(7),i.utf8=e(10),i.pool=e(9),i.LongBits=e(38),i.isNode=Boolean(void 0!==global&&global&&global.process&&global.process.versions&&global.process.versions.node),i.global=i.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"===_typeof(e)},i.isset=i.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==_typeof(n)||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var n=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},i.merge=r,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=a,i.ProtocolError=a("ProtocolError"),i.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&this[e[n]]!==undefined&&null!==this[e[n]])return e[n]}},i.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(e,t,n){t.exports=function(e){var t=r.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var i=0;i<e.fieldsArray.length;++i){var c=e._fieldsArray[i].resolve(),l="m"+r.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",a(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),o(t,c,i,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",a(c,"array"))("for(var i=0;i<%s.length;++i){",l),o(t,c,i,l+"[i]")("}");else{if(c.partOf){var u=r.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",u)}o(t,c,i,l)}c.optional&&t("}")}return t("return null")};var i=e(15),r=e(37);function a(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(%s){",r)("default:")("return%j",a(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),s=0;s<o.length;++s)e("case %i:",t.resolvedType.values[o[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,r)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",r)("return%j",a(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",r,r,r,r)("return%j",a(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',r)("return%j",a(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',r)("return%j",a(t,"boolean"));break;case"string":e("if(!util.isString(%s))",r)("return%j",a(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',r,r,r)("return%j",a(t,"buffer"))}return e}function s(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",a(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",a(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",a(t,"boolean key"))}return e}},{15:15,37:37}],41:[function(e,t,n){var i=n,r=e(21);i[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var i="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===i.indexOf("/")&&(i="/"+i),this.create({type_url:i,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",i="";if(t&&t.json&&e.type_url&&e.value){i=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var a=this.lookup(i);a&&(e=a.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof r){var o=e.$type.toObject(e,t),s="."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName;return""===n&&(n="type.googleapis.com/"),i=n+s,o["@type"]=i,o}return this.toObject(e,t)}}},{21:21}],42:[function(e,t,n){t.exports=h;var i,r=e(39),a=r.LongBits,o=r.base64,s=r.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=undefined,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var f=function(){return r.Buffer?function(){return(h.create=function(){return new i})()}:function(){return new h}};function d(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=undefined,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}h.create=f(),h.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(h.alloc=r.pool(h.alloc,r.Array.prototype.subarray)),h.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(g,10,a.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=a.from(e);return this._push(g,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=a.from(e).zzEncode();return this._push(g,t.length(),t)},h.prototype.bool=function(e){return this._push(d,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=a.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var y=r.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(r.isString(e)){var n=h.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(y,t,e)},h.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},h._configure=function(e){i=e,h.create=f(),i._configure()}},{39:39}],43:[function(e,t,n){t.exports=a;var i=e(42);(a.prototype=Object.create(i.prototype)).constructor=a;var r=e(39);function a(){i.call(this)}function o(e,t,n){e.length<40?r.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}a._configure=function(){a.alloc=r._Buffer_allocUnsafe,a.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]}},a.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a.writeBytesBuffer,t,e),this},a.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},a._configure()},{39:39,42:42}]},{},[19])}(),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:void 0,10:void 0,11:void 0,12:void 0,13:void 0,14:void 0,15:void 0,16:void 0,17:void 0,18:void 0,2:void 0,20:void 0,21:void 0,22:void 0,23:void 0,24:void 0,25:void 0,26:void 0,27:void 0,28:void 0,29:void 0,3:void 0,30:void 0,31:void 0,32:void 0,33:void 0,34:void 0,35:void 0,36:void 0,37:void 0,38:void 0,39:void 0,4:void 0,40:void 0,41:void 0,42:void 0,43:void 0,5:void 0,6:void 0,7:void 0,8:void 0,9:void 0}],rollNotice:[function(e,t,n){"use strict";cc._RF.push(t,"7be92Cb8m9CW6e2OtFvO29m","rollNotice");var i=e("../net/HttpUrl"),r=e("../manager/NetManager"),a=e("../net/NetCode"),o=(function(e){e&&e.__esModule}(e("../common/UIHelper")),e("../manager/UIManager"));cc.Class({extends:cc.Component,properties:{lblNotice:cc.RichText},start:function(){this.node.scale=.5,this.node.runAction(cc.scaleTo(.15,1,1)),this.setNotice()},setNotice:function(){var e=this,t=i.HttpUrl.getPaoMaDeng.url;r.NetManager.requestGetUrl(t,function(t,n){var i=JSON.parse(n);if(i.status==a.HTTP_CODE.SUCCESS)if(i.data[0])for(var r="\u516c\u544a:"+i.data[0].content,s=e.lblNotice,c=0;c<r.length;c++){var l=r[c]+" ";s.string+=l}else e.lblNotice.string="\u6b22\u8fce\u8fdb\u5165\u540c\u6e38\u5a31\u4e50,\u7981\u6b62\u8d4c\u535a. \u62b5\u5236\u4e0d\u826f\u6e38\u620f  \u62d2\u7edd\u76d7\u7248\u6e38\u620f  \u6ce8\u610f\u81ea\u6211\u4fdd\u62a4  \u8c28\u9632\u53d7\u9a97\u4e0a\u5f53  \u9002\u5ea6\u6e38\u620f\u76ca\u8111  \u6c89\u8ff7\u6e38\u620f\u4f24\u8eab  \u5408\u7406\u5b89\u6392\u65f6\u95f4  \u4eab\u53d7\u5065\u5eb7\u751f\u6d3b";else o.UIManager.showTips(a.HTTP_CODE_MSG[i.status])})},update:function(e){var t=this.lblNotice.node.x;""!=this.lblNotice.string&&(t-=150*e),t<-(this.lblNotice.node.width+373)&&(t=373),this.lblNotice.node.x=t}}),cc._RF.pop()},{"../common/UIHelper":"UIHelper","../manager/NetManager":"NetManager","../manager/UIManager":"UIManager","../net/HttpUrl":"HttpUrl","../net/NetCode":"NetCode"}],sunzi:[function(e,t,n){"use strict";cc._RF.push(t,"5844d/qrWdO74IN3bvl/H1q","sunzi");var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,s=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return i(t,e),t.prototype.start=function(){},t.prototype.getShunCards=function(e){var t=e;console.log(e);var n=this.getTrueList(t);e.reverse(),console.log(n);for(var i=[],r=0;r<n.length;r++){var a=[];a.push({n:n[r],x:r});for(var o=0;o<n.length;o++)n[o]-1==a[a.length-1].n&&a.push({n:n[o],x:o});a.length>=5&&i.push(a)}if(i.length<=0)return null;console.log(i);var s=[],c=i[0];for(o=0;o<c.length;o++)s.push(e[c[o].x]);return console.log("\u987a\u5b50max:",s),s},t.prototype.getTrueList=function(e){for(var t=[],n=0;n<e.length;++n)t.push(e[n]%100);return t.sort(function(e,t){return e-t}),t},r([s(cc.Label)],t.prototype,"label",void 0),r([s],t.prototype,"text",void 0),t=r([o],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],"test-pbkiller":[function(e,t,n){"use strict";cc._RF.push(t,"b20afxN7ChJPqAbewHk91sQ","test-pbkiller");var i=e("../src/pbkiller");cc.Class({extends:cc.Component,properties:{textLabel:cc.Label},onLoad:function(){},log:function(e){console.log(e),this.textLabel.string+="".concat(e,"\n")},loadProto:function(){var e=i.loadAll();this.log(JSON.stringify(e.grace.proto.msg,null,4)),e=i.loadAll("proto","grace.proto.msg"),this.log(JSON.stringify(new e.Player,null,4)),e=i.loadFromFile("Player.proto","grace.proto.msg"),this.log(JSON.stringify(new e.Player,null,4)),e=i.loadFromFile(["Player.proto","ActionCode.proto"],"grace.proto.msg"),this.log(JSON.stringify(new e.PBMessage,null,4)),e=i.loadFromFile(["Player2.json","ActionCode.proto"],"grace.proto.msg"),this.log(JSON.stringify(new e.Player,null,4))},decode:function(){var e=i.loadFromFile("Player2.json","grace.proto.msg"),t=new e.Player;t.id=1e3,t.name="ShawnZhang",t.enterTime=Date.now(),this.log("-----decode-----"),this.log("\u5e8f\u5217\u5316\u524d\uff1a".concat(JSON.stringify(t,null,4)));var n=t.toArrayBuffer(),r=e.Player.decode(n);this.log("\u53cd\u5e8f\u5217\u5316\u540e\uff1a".concat(JSON.stringify(r,null,4))),this.log("int64\u7c7b\u578b\u7684\u8bfb\u53d6\uff1a".concat(r.enterTime))},decodeFile:function(){var e=this;if(cc.sys.platform!==cc.sys.WECHAT_GAME){var t=i.loadFromFile("puzzle_config.proto","WePuzzle");i.loadData(cc.url.raw("resources/pb/bin/testPuzzle.bin"),function(n){var i=t.PuzzleConfig.decode(n);e.log(JSON.stringify(i))})}else this.log("decode\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e0d\u80fd\u5728\u5fae\u4fe1\u5c0f\u6e38\u620f\u73af\u5883\u6267\u884c")},asyncLoad:function(){var e=this;i.preload(function(){e.loadProto()})}}),cc._RF.pop()},{"../src/pbkiller":"pbkiller"}],yushe:[function(e,t,n){"use strict";cc._RF.push(t,"6ee5d6/uI5JkKEx4aZGTppl","yushe"),cc.Class({extends:cc.Component,properties:{mphone:cc.Node,meditbox:cc.EditBox},start:function(){},onphone:function(){this.mphone.active=!0},ofphone:function(){this.mphone.active=!1},kawx:function(){this.meditbox.string="7,7,4,6,6,6,101,102,103,105,106,107,1 , 2,7,8,102,103,103,104,104,105,106,106,107,109 , 2,5,105,107,3,9,7,1",this.mphone.active=!1},pph:function(){this.meditbox.string="1,1,1,2,2,2,3,3,3,6,6,7,7 , 101,105,107,1,2,3,4,5,6,7,8,9,102 , 8,101,6,7,105,108,109,1003,1007",this.mphone.active=!1},szy:function(){this.meditbox.string="101,101,1,1,3,3,6,6,7,7,2,2,103 , 101,1,2,3,4,5,6,7,8,9,102,105,107 , 102,105,1003,3,6,7,2,103,",this.mphone.active=!1},qys:function(){this.meditbox.string="1,1,2,2,3,3,4,5,6,7,8,9,9 , 101,103,1,2,5,8,9,106,104,109,101,103,1 , 101,105,3,6,9",this.mphone.active=!1},xsy:function(){this.meditbox.string="1,2,3,4,5,6,1003,1003,1003,1007,1007,1007,1009 , 101,105,103,108,109,5,9,1,3,6,7,1003,1007 , 105,108,1009,1,5,9,4",this.mphone.active=!1},dsy:function(){this.meditbox.string="1003,1003,1003,1007,1007,1007,1009,1009,1009,2,2,3,4 , 1,5,9,3,5,7,101,105,109,103,105,107,109 , 105,102,2,5,7,9",this.mphone.active=!1},qid:function(){this.meditbox.string="1,1,3,3,5,5,7,7,9,9,104,104,107 , 2,3,5,7,9,104,1,107,102,105,109,104,5 , 1,107,101,106,108",this.mphone.active=!1},asgy:function(){this.meditbox.string="1,1,1,2,3,5,5,104,105,106,107,108,109 , 101,102,104,106,108,109,2,8,3,7,6,1,5 ,101,1,105,4,5,109",this.mphone.active=!1},msgy:function(){this.meditbox.string="1003,1003,1,1,2,3,5,6,7,101,102,103,105 , 1,1009,1007,2,3,5,7,9,101,106,108,104,106 , 1,4,5,9,8,6,7,4",this.mphone.active=!1},hhqd:function(){this.meditbox.string="1,1,3,3,5,5,6,6,8,8,9,9,9 , 1,2,3,4,5,6,7,8,101,102,103,105,108 , 109,9,5,7,8,2,105,107",this.mphone.active=!1},srbfl:function(){this.meditbox.string="1,2,3,4,5,5,7,7,8,8,9,104,106, 101,101,1009,1009,1009,107,107,102,103,104,105,106,1007, 1,2,3,4,6,7,8,9,101,102,103,104,105, 7, 1007,1009,102,103,104,105,106,107,108,109",this.mphone.active=!1},qxpx:function(){this.meditbox.string="1,1,3,3,5,5,6,6,8,8,9,9,9",this.mphone.active=!1}}),cc._RF.pop()},{}]},{},["AppStart","Define","ClubChat","ClubCreate","ClubGameDesk","ClubHall","ClubList","ClubMessage","ClubPlayer","ClubPlayerDetails","ClubPlayerList_GroupList","ClubPlayerList_PersonList","ClubRecord","ClubRecordDetailList","ClubRecordDetails","ClubRollNotice","ClubRoomMatch","ClubSetProportion","ClubSetting","Roominformation","CCFormData","Device","Text","UIHelper","ErrorLog","LogWrap","Base64","LocalStorage","MD5","NativeUtil","QRCode","Utils","XXTea","KWXDefine","KWXGameScene","KWXGameView","KWXPanDuan","KWXPlayback","KWXPlayerInfo","KWXTool","MJBool","MJCPGAreaBase","MJCPGBase","MJCardBase","MJData","MJDefine","MJHandAreaBase","MJOperBase","MJOutAreaBase","MJPengBase","KWXCmd","MessageQueue","ProtocolKWX","GameDefine","GameLoginc","GameTable","KWXBResultItem","KWXChatView","KWXCpgArea","KWXExitView","KWXHandArea","KWXOper","KWXOutArea","KWXPlayer","KWXResultView","KWXSResultItem","KWXTable","KWXTips","KWXTopPanel","MaimaView","yushe","NNData","NNDefine","NNGameScene","NNGameView","NNTool","NNPlayerinfo","NiuCard","coinsMove","coinsParent","NNCmd","ProtocolNN","NNHandArea","NNPlayer","NNTopPanel","CardArea","DragSelect","PDKCard","PDKCardTypeTool","PDKDefine","PDKEnd","PDKEndOne","PDKGameScene","PDKGameView","PDKPlayer","PDKPlayerInfo","PDKRoomInfo","PDKCmd","ProtocolPDK","sunzi","PDKChatView","PDKExitView","PDKPlaybackEnd","PDKSettingView","protobuf","bytebuffer","long","protobufjs","pbkiller","test-pbkiller","AudioManager","DataManager","DataManagerClub","EventClubDef","EventManager","FileManager","HotUpdate","NetManager","ProtoManager","ResManager","SoundEffect","UIManager","HttpUrl","NetCmd","NetCode","ProtocolBase","ProtocolGameCommon","ProtocolRpc","Socket","AgreementView","ContentChange","CreateRoom","HallView","JoinRoom","Kefu","LoginView","LogoView","Notice","PhoneView","Record","Setting","Share","UserInfo","BaseView","PopupView","CountDown","DynamicList","GameDownload","List","ListEx","ListItem","Marquee","SelectList","TipsPopup","TipsServerPopup","ButtonEx","DestorySelf","NodeAdapter","NotchAdapter","SpineAdapter","VideoPlayerEx","rollNotice"]);