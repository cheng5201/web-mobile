{"__type__":"cc.TextAsset","_name":"rpc_db","text":"package db;\r\n\r\nenum LoadPlayerDataReason\r\n{\r\n\tLPDR_PlayerLogin = 1;\r\n\tLPDR_DelCurrency = 2;\r\n\tLPDR_GiftCurrency = 3;\r\n\tLPDR_GetOtherInfo = 7;\r\n\tLPDR_SendGift = 8;\r\n\tLPDR_SetCheatValue = 17;\r\n\tLPDR_SetIdentity = 18;\r\n\tLPDR_ResetPassword = 19;\r\n\tLPDR_ChangeName = 20;\r\n\tLPDR_SetPhone = 22;\r\n\tLPDR_WhoGiveScore = 23;\r\n\tLPDR_GiveScore2Who = 24;\r\n\tLPDR_Invite = 25;\r\n\tLPDR_SetAgent = 26;\r\n\tLPDR_CancleAgent= 27;\r\n\tLPDR_CancleManager = 28;\r\n\tLPDR_SetManager = 29;\r\n\tLPDR_GetMemberScore = 30;\r\n\tLPDR_SetMemberScore = 31;\r\n}\r\n\r\nmessage PlayerData\r\n{\r\n\trequired string appId = 1;\r\n\trequired int32 accountId = 2;\r\n\trequired string name = 3;\r\n\toptional bool isOnline = 4[default = false];\r\n\toptional bool isForbid = 5[default = false];\r\n\trequired int32 diamond = 6;\r\n\trequired int32 cheatRatio = 7;\r\n\trequired string icon = 8;\r\n\trequired int32 lastSaveTime = 9;\r\n\toptional int32 lastEnterClub = 10;\r\n\toptional string phone = 11;\r\n\trequired bytes extendData = 12;\r\n};\r\n\r\n\r\nmessage ClubData\r\n{\r\n\trequired int32 id = 1;\r\n\trequired int32 masterId = 2;\r\n\trequired string name = 3;\r\n\trequired int32 gameIdOffset = 4;\r\n\toptional string announcement = 5;\r\n}\r\n\r\nmessage S2D_LoadClub\r\n{\r\n}\r\n\r\nmessage D2S_LoadClub\r\n{\r\n\trepeated ClubData clubs = 1;\r\n}\r\n\r\nmessage S2D_SaveClub\r\n{\r\n\trequired ClubData club = 1;\r\n}\r\n\r\nmessage AgentData\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired int32 parentId =2;\r\n\trequired int32 clubId = 3;\r\n\trequired string proportion = 4;\r\n\trequired int32 warningScore = 5;\r\n\toptional bool openWarning = 6;\r\n\toptional int32 remindValue = 7; \r\n}\r\n\r\nmessage S2D_LoadAgent\r\n{\r\n}\r\n\r\nmessage D2S_LoadAgent\r\n{\r\n\trepeated AgentData agents = 1;\r\n}\r\n\r\nmessage S2D_SaveAgent\r\n{\r\n\trequired AgentData agent = 1;\r\n}\r\n\r\nmessage S2D_DelAgent\r\n{\r\n\trequired int32 id =1;\r\n\trequired int32 clubId = 2;\r\n}\r\n\r\nmessage AgentUserData\r\n{\r\n\trequired int32 userId = 1;\r\n\trequired int32 agentId = 2;\r\n\trequired int32 identity = 3;\r\n\trequired int32 clubId = 4;\r\n\trequired int32 enterTime = 5;\r\n}\r\n\r\nmessage S2D_LoadAgentUser\r\n{\r\n}\r\n\r\nmessage D2S_LoadAgentUser\r\n{\r\n\trepeated AgentUserData users = 1;\r\n}\r\n\r\nmessage S2D_SaveAgentUser\r\n{\r\n\trequired AgentUserData agent = 1;\r\n}\r\n\r\nmessage UserRemarkData\r\n{\r\n\trequired int32 userId = 1;\r\n\trequired int32 agentId = 2;\r\n\trequired int32 clubId = 3;\r\n\trequired string remark = 4;\r\n}\r\n\r\nmessage S2D_LoadUserRemark\r\n{\r\n}\r\n\r\nmessage D2S_LoadUserRemark\r\n{\r\n\trepeated UserRemarkData remarks = 1;\r\n}\r\n\r\nmessage S2D_SaveUserRemark\r\n{\r\n\trequired UserRemarkData remark = 1;\r\n}\r\n\r\nmessage S2D_DelUserRemark\r\n{\r\n\trequired int32 userId = 1;\r\n\trequired int32 agentId = 2;\r\n\trequired int32 clubId = 3;\r\n}\r\n\r\n\r\nmessage GameItemData\r\n{\r\n\trequired int32 id = 1;\r\n\trequired int32 clubId = 2;\r\n\trequired int32 gameType = 3;\r\n\trequired string name = 4;\r\n\trequired int32 radix = 5;\r\n\trequired int32 joinLimit = 6;\r\n\trequired int32 leavelimit = 7;\r\n\trequired int32 juShu = 8;\r\n\trequired int32 playerCount = 9;\r\n\trequired string param = 10;\r\n}\r\n\r\nmessage S2D_LoadGame\r\n{\r\n}\r\n\r\nmessage D2S_LoadGame\r\n{\r\n\trepeated GameItemData gameItems = 1;\r\n}\r\n\r\nmessage S2D_SaveGame\r\n{\r\n\trequired GameItemData gameItem = 1;\r\n}\r\nmessage S2D_DelGame\r\n{\r\n\trequired int32 gameId = 1;\r\n}\r\n\r\nmessage ObjectExtAttr\r\n{\r\n\trequired int32 attrType = 1;\r\n\trequired string attrValue = 2;\r\n};\r\n\r\nmessage PlayerExtData\r\n{\r\n\trepeated ObjectExtAttr attrs = 1;\t\t\t// 玩家一些属性\r\n};\r\n\r\nmessage S2D_LoadPlayerByAccount\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired int32 reason = 2;\r\n\toptional string param = 3;\r\n\toptional int64 param1 = 4;\r\n\toptional int64 param2 = 5;\r\n}\r\n\r\nmessage D2S_LoadPlayerByAccount\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired int32 reason = 2;\r\n\toptional string param = 3;\r\n\toptional PlayerAllData data = 4;\r\n\toptional int64 param1 = 5;\r\n\toptional int64 param2 = 6;\r\n}\r\n\r\nmessage S2D_LoadPlayer\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired string appId = 2;\r\n\toptional int32 sckUniqueID = 3 [default = -1]; //该请求的客户端SocketUnkqueID\r\n\toptional string param = 4;\r\n};\r\n\r\nmessage PlayerAllData\r\n{\r\n\trequired PlayerData player = 1;\r\n\trepeated PlayerClubItem clubs = 2;\r\n};\r\n\r\nmessage D2S_LoadPlayer\r\n{\r\n\trequired bool result = 1;\r\n\trequired int32 accountId = 2;\r\n\trequired string appId = 3;\r\n\toptional int32 sckUniqueID = 4; //该请求的客户端SocketUnkqueID\r\n\toptional string param = 5;\r\n\toptional PlayerAllData data = 6;\r\n};\r\n\r\nmessage S2D_AccountLoadPlayer\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired string openId = 2;\r\n\toptional int32 sckUniqueID = 3 [default = -1]; //该请求的客户端SocketUnkqueID\r\n\toptional string param = 4;\r\n};\r\n\r\n// 存储Player\r\nmessage S2D_SavePlayer\r\n{\r\n\trepeated PlayerData player = 1;\r\n}\r\n\r\nmessage ScoreItem\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired int32 clubId = 2;\r\n\trequired int32 score = 3;\r\n}\r\n\r\nmessage S2D_SaveClubScore\r\n{\r\n\trepeated ScoreItem items = 1;\r\n}\r\n\r\nmessage DiamondInfo\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired int32 diamond = 2;\r\n}\r\n\r\nmessage S2D_SaveDiamond\r\n{\r\n\trepeated DiamondInfo DiamondInfos = 1;\r\n}\r\n\r\nmessage S2D_DeletePlayer\r\n{\r\n\trepeated int32 accountIds = 1;\r\n}\r\n\r\nmessage S2D_AddDisableAccount\r\n{\r\n\trequired int32 accountID = 1;\r\n}\r\n\r\nmessage S2D_DeleteDisableAccount\r\n{\r\n\trequired int32 accountID = 1;\r\n}\r\n\r\nmessage S2D_LoadDisableAccount\r\n{\r\n}\r\n\r\nmessage DisableItem\r\n{\r\n\trequired int32 accountID = 1;\r\n\trequired int32 time = 2;\r\n}\r\n\r\nmessage D2S_LoadDisableAccount\r\n{\r\n\trepeated DisableItem items = 1;\r\n}\r\n\r\nmessage S2D_AddWhiteList\r\n{\r\n\trequired int32 accountID = 1;\r\n}\r\n\r\nmessage S2D_DeleteWhiteList\r\n{\r\n\trequired int32 accountID = 1;\r\n}\r\n\r\nmessage S2D_LoadWhiteList\r\n{\r\n}\r\n\r\nmessage D2S_LoadWhiteList\r\n{\r\n\trepeated int32 accountID = 1;\r\n}\r\n\r\n\r\nmessage PlayerClubItem\r\n{\r\n\trequired int32\taccountId = 1;\r\n\trequired int32 clubId = 2;\r\n\trequired int32 parentId = 3;\r\n\trequired int32 identity = 4;\t\r\n\trequired int32 score = 5;\t\r\n}\r\n\r\nmessage S2D_SavePlayerClubItem\r\n{\r\n\trepeated PlayerClubItem citem = 1;\r\n}\r\n\r\nmessage S2D_Ping\r\n{\r\n}\r\n\r\nmessage D2S_PingRespone\r\n{\r\n}\r\n\r\nmessage D2S_Register\r\n{\r\n\trequired int32 DbProxyId = 1;\r\n\trequired int32 servicePort = 2;\r\n\toptional string ip = 3;\r\n}"}