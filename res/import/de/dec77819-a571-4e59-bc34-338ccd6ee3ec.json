{"__type__":"cc.TextAsset","_name":"rpc_nn2","text":"package rpc;\r\nimport \"rpc_room.proto\";\r\nimport \"rpc_club.proto\";\r\n\r\n// 房间信息  数据同步\r\nmessage S2C_NNRoomInfo\r\n{\r\n\trequired GameItem param = 1;\r\n\trequired int32 roomState = 2;\r\n\trepeated NNPlayerInfo playerInfos = 3;\r\n\toptional int32 pan = 4;  //第几pan\r\n    required int32 roomId = 5;\r\n    repeated int32 shoupai = 6;\r\n}\r\n\r\n//玩家信息\r\nmessage NNPlayerInfo\r\n{\r\n    required int32 position = 1;  //位置\r\n    required int32 state = 2;\r\n    required int32 score = 3;\r\n    required string name = 4;\r\n    required string icon = 5;\r\n    optional int32 endTime = 6;  //倒计时结束时间戳\r\n    required bool delegate = 7;  //是否托管\r\n    optional int32 xiazhu = 8; //下注\r\n\toptional int32 cardCount =9;\r\n\toptional int32 playerId = 10;\r\n\toptional int32 selecting = 11; //是否下注中(0:未下注 1:下注中)\r\n\toptional bool online = 12;//玩家状态(默认为空或flase,如果是true就是离线)\r\n}\r\n\r\n//加入房间\r\nmessage S2C_NewNNPlayerEnter\r\n{\r\n    required NNPlayerInfo pi=  1;\r\n}\r\n\r\nmessage NNShangzhuang\r\n{\r\n    optional int32 playerID = 1;\r\n    optional bool Shangzhuang = 2; //flase是不上庄 true是上庄\r\n    required int32 position = 3;\r\n    required int32 endtime = 4;\r\n}\r\n\r\n//上庄\r\nmessage C2S_Shangzhuang\r\n{\r\n    optional bool Shangzhuang = 1; //flase是不上庄 true是上庄\r\n}\r\n\r\n//上庄广播\r\nmessage S2C_Shangzhuang\r\n{\r\n   optional NNShangzhuang Shangzhuang = 1;\r\n}\r\n\r\nmessage NNxiazhu\r\n{\r\n    optional int32 playerID = 1;\r\n    required int32 position = 2;\r\n    required int32 endtime = 3;\r\n    required int32 score = 4;\r\n}\r\n\r\n//下注\r\nmessage C2S_xiazhu\r\n{\r\n    required int32 score = 1;\r\n}\r\n\r\n//下注广播\r\nmessage S2C_xiazhu\r\n{\r\n   optional NNxiazhu xiazhu = 1;\r\n}\r\n\r\n// 发牌\r\nmessage S2C_NNSendCard\r\n{\r\n\trepeated int32 cards = 1;\r\n\trequired int32 zhuangPostion = 2;\r\n\toptional int32 playTimes = 3;           //第几把\r\n\trequired int32 timeStamp = 4;\r\n    repeated UpdatePlayerInfo changeInfos = 5;\r\n}\r\n\r\n//翻牌\r\nmessage C2S_NNPlayCars\r\n{\r\n\r\n}\r\n\r\nmessage NNPlayCar\r\n{\r\n    optional int32 playerID = 1;\r\n    required int32 endtime = 2;\r\n\trequired int32 position = 3;\r\n\trequired int32 nn = 4;\r\n\trepeated int32 cards = 5;\r\n}\r\n\r\n//翻牌广播\r\nmessage S2C_NNPlayCars\r\n{\r\n    optional NNPlayCar playCard = 1;\r\n\r\n}\r\n\r\n//结算\r\nmessage S2C_NNEnd\r\n{\r\n\trequired int32 playTimes = 1;  //jushu\r\n\trepeated NNEndInfo endInfo = 2;\r\n}\r\n\r\nmessage NNEndInfo\r\n{\r\n\trequired int32 playerID = 1;\r\n\trepeated int32 leftCards = 2;\r\n\trequired int32 winScore =3;\r\n\trequired int32 boomScore =4;\r\n\trequired int32 score = 5;\r\n\trequired int32 position = 6;\r\n\trepeated int32 thirdCards = 7;\r\n}"}