{"__type__":"cc.TextAsset","_name":"rpc_gm","text":"package rpc;\r\nimport \"game_def.proto\";\r\nimport \"rpc_room.proto\";\r\n\r\n// G(M) <-> (G)ameServer 消息交互\r\n\r\nenum ErrorCode\r\n{\r\n\tEC_Success = 0;\r\n\tEC_Unkown = 1;\r\n\tEC_AccountNotExist = 2;\r\n\tEC_AreadyAgent\t= 3;\r\n}\r\n\r\n\r\nmessage G2M_ServerStatus\r\n{\r\n\trequired int32 serverID = 1;\r\n\trequired int32 onlinePlayerNum = 2;\r\n\trequired int32 memoryPlayerNum = 3;\r\n//\trequired int32 season = 4;\r\n}\r\n\r\nmessage DisableItem\r\n{\r\n\trequired int32 account = 1;\r\n\toptional int32 devType = 2[default=-1];\r\n\trequired int32 _time = 3;\r\n};\r\n\r\nmessage OperateItem\r\n{\r\n\trequired int32 account = 1;\r\n\trequired int32 devType = 2;\r\n};\r\n\r\n// 封号(禁止登录)\r\nmessage M2G_DisableLogin\r\n{\r\n\trepeated DisableItem items = 1;\r\n};\r\n\r\n// 解处封号(禁止登录)\r\nmessage M2G_RemoveDisableLogin\r\n{\r\n\trepeated OperateItem items = 1;\r\n};\r\n\r\nmessage  M2G_SetPlayerPhone\r\n{\r\n\toptional int32 accountId = 1;\r\n\toptional string phone = 2;\r\n\toptional string password = 3;\r\n}\r\n\r\nmessage M2G_DelRollMsg\r\n{\r\n\trequired int32 index = 1;\r\n}\r\n\r\n// 发送滚动消息（跑马灯）\r\nmessage M2G_RollMsg\r\n{\r\n\trequired string rollMsg = 1;\r\n\trequired int32 index = 2;\r\n};\r\n\r\n\r\n// 禁止帐号登\r\nmessage M2G_AddDisableAccount\r\n{\r\n\trequired int32 accountID = 1;\r\n\trequired int32 channel = 2;\r\n}\r\n\r\n// 允许帐号登录\r\nmessage M2G_DeleteDisableAccount\r\n{\r\n\trequired int32 accountID = 1;\r\n\trequired int32 channel = 2;\r\n}\r\n\r\n// 添加白名单\r\nmessage M2G_AddWhiteList\r\n{\r\n\trequired int32 accountID = 1;\r\n\trequired int32 channel = 2;\r\n}\r\n\r\n// 删除白名单\r\nmessage M2G_DeleteWhiteList\r\n{\r\n\trequired int32 accountID = 1;\r\n\trequired int32 channel = 2;\r\n}\r\n\r\n// 停服\r\nmessage M2G_CloseServer\r\n{\r\n\toptional int32 time = 1[default = 0];\r\n}\r\n\r\n// 开放登录\r\nmessage M2G_OpenLogin\r\n{\r\n\trequired int32 channel = 1;\r\n}\r\n\r\n\r\n// 赠送货币\r\nmessage M2G_GiftCurrency\r\n{\r\n\trequired int32 accountID = 1;\r\n\trequired int32 type = 2;\r\n\trequired int32 num = 3;\r\n\toptional bool isMail = 4 [default = false];\r\n\toptional bool isRefund = 5 [default = false];\r\n}\r\n\r\n// 删除货币\r\nmessage M2G_DelCurrency\r\n{\r\n\trequired int32 accountID = 1;\r\n\trequired int32 diamond = 2;\r\n\trequired int32 gold = 3;\r\n\trequired int32 roomtickets = 4;\r\n}\r\n\r\n\r\n// 解散玩家房间\r\nmessage M2G_DeleteRoom\r\n{\r\n\trequired int32 roomId = 1;\r\n}\r\n\r\nmessage M2G_AddPlayerCheatValue\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired int32 value = 2;\r\n\trequired int32 ratio = 3;\r\n}\r\n\r\nmessage M2G_UpdatePlayerName\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired string name = 2;\r\n}\r\n\r\nmessage M2G_UpdatePlayerIcon\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired string icon = 2;\r\n}\r\n\r\nmessage M2G_SetPlayerIdentity\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired int32 identity = 2;\r\n}\r\n\r\nmessage M2G_ChangeName\r\n{\r\n\trequired int32 accountId = 1;\r\n\trequired string name = 2;\r\n}\r\n\r\nmessage M2G_ReloadGlobalConfig\r\n{\r\n}\r\n"}