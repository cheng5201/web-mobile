{"__type__":"cc.TextAsset","_name":"rpc_room","text":"package rpc;\r\n\r\nenum RoomType\r\n{\r\n\tRT_Normal = 1;\r\n\tRT_Match = 2;\r\n\tRT_Create = 3;\r\n}\r\n\r\nenum PlayerState\r\n{\r\n\tPS_NotInRoom = 0;\t\t\r\n\tPS_Matching = 1;\t\t\t//匹配中。。。\r\n\tPSMJ_Wait = 101;     // 进入等待中\r\n    PSMJ_READY = 102;     // 准备中\r\n    PSMJ_XuanPiao = 103;      // 选飘\r\n    PSMJ_Play  = 104;      // 等待摸牌\r\n    PSMJ_ChuPai   = 105;     // 等待出牌\r\n    PSMJ_JieSuan = 106;  // 完成\r\n\r\n\tPSRF_Wait = 201;     // 进入等待中\r\n    PSRF_READY = 202;     // 准备中\r\n    PSRF_XuanPiao = 203;      // 选飘\r\n    PSRF_Play  = 204;      // 等待\r\n\tPSRF_ChuPai   = 205;     // 等待出牌\r\n}\r\n\r\nmessage RoomPlayerItem\r\n{\r\n\trequired int32 id = 1;\r\n\toptional string appId = 2;\r\n\trequired string icon  = 3;\r\n\trequired string name = 4;\r\n\trequired int32 seatPosition = 5;\r\n\trequired int32 state\t= 6;\r\n\trequired int32 score = 7[default = 0];\r\n\toptional bool delegate = 8[default = false];\r\n\toptional int32 stateEndTime = 9[default = 0];\r\n}\r\n\r\n\r\nmessage S2C_PlayerExitRoom\r\n{\r\n\trequired int32 playerId = 1;\r\n\trequired int32 positon = 2;\r\n}\r\n\r\n\r\nmessage C2S_ExitRoom\r\n{\r\n\t\r\n}\r\n\r\nmessage C2S_JieShanApply \r\n{\r\n}\r\n\r\nmessage JieShanChoose \r\n{\r\n\trequired int32 playerId = 1; //id\r\n\trequired int32 position  = 2; //位置\r\n\trequired bool  applyer = 3;  \t//是否是申请者\r\n\toptional bool  choosed = 4;  //是否选择状态\r\n\toptional bool  agree = 5; //是否同意\r\n\trequired string name = 6; //昵称\r\n    required string icon  = 7; //头像\r\n\r\n}\r\n\r\nmessage S2C_JieShanApply \r\n{\r\n\trequired int32 chooseEndTime = 1;\r\n\trepeated JieShanChoose choose = 2;\r\n}\r\n\r\nmessage C2S_JieShanChoose \r\n{\r\n\trequired bool agree = 1;\r\n}\r\n\r\nmessage S2C_NewJieShanChoose\r\n{\r\n\trequired int32 playerId = 1;\r\n\trequired int32 position = 2;\r\n\trequired bool  agree = 3;  //当收到false的时候  就是有人拒绝的时候  就就弹提示  并关掉同步信息界面\r\n\toptional string name = 4;  //服务器默认不传，根据玩家id或者position去列表去找名字和头像\r\n}\r\n\r\nmessage S2C_JieShan\t\t//成功解散  接下来会收到结算消息\r\n{\r\n}\r\n\r\nmessage S2C_NewPlayerJoinIn\r\n{\r\n\trequired RoomPlayerItem rpi = 1;\r\n}\r\n\r\nmessage RoomPlayerUpdate\r\n{\r\n\trequired int32 id = 1;\r\n\trequired int32 seatPosition = 2;\r\n\toptional int32 score = 3;\r\n\toptional int32 state\t= 4;\r\n\toptional bool delegate = 5;\r\n\toptional int32 readyTime = 6;\r\n} \r\n\r\n\r\nmessage S2C_UpdateRoomPlayerData\r\n{\r\n\trepeated RoomPlayerUpdate updates = 1;\r\n}\r\n\r\nmessage UpdatePlayerInfo\r\n{\r\n    required int32 position = 1;  //位置\r\n    optional int32 state = 2;\r\n    optional int32 score = 3;\r\n    optional int32 endTime = 4;  //倒计时结束时间戳\r\n    optional bool delegate = 5;  //是否托管\r\n    required int32 playerId = 6;\r\n    optional int32 fraction = 7;  //输赢分\r\n}\r\n\r\nmessage S2C_UpdatePlayerInfo\r\n{\r\n    repeated UpdatePlayerInfo infos = 1;\r\n}\r\n\r\n\r\nmessage C2S_XuanPiao\r\n{\r\n    required int32 piao = 1;\r\n}\r\n\r\nmessage S2C_XuanPiao\r\n{\r\n    required int32 playerId = 1;\r\n    required int32 position = 2;\r\n    required int32 piao = 3;\r\n}\r\n\r\nmessage C2S_Ready\r\n{\r\n\r\n}\r\n\r\nmessage C2S_CreateDesk\r\n{\r\n\trequired int32 gameId = 1;\r\n\toptional int32 type = 2;\r\n}\r\n\r\nmessage C2S_Match  \r\n{\r\n\trequired int32 gameId = 1;\r\n}\r\n\r\nmessage  MatchPlayerInfo\r\n{\r\n\toptional int32 id = 1;\r\n\toptional string icon = 2;\r\n}\r\n\r\nmessage S2C_MatchPlayers\r\n{\r\n\trepeated MatchPlayerInfo mpi = 1;\r\n}\r\n\r\nmessage C2S_ChangeDesk\r\n{\r\n}\r\n\r\nmessage C2S_Continue\r\n{\r\n}\r\n\r\nmessage C2S_CancleMatch\r\n{\r\n}\r\n\r\nmessage S2C_CancleMatch \r\n{\r\n\trequired int32 id = 1;\r\n}"}