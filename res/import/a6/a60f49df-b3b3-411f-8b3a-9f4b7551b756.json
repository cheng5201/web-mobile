{"__type__":"cc.TextAsset","_name":"rpc_mj2","text":"package rpc;\r\nimport \"rpc_room.proto\";\r\nimport \"rpc_club.proto\";\r\n\r\nenum MjPiaoOption\r\n{\r\n    MPO_None = 0;           //不漂\r\n    MPO_Piao1 = 1;          //固定飘1\r\n    MPO_Piao2 = 2;          //固定漂2\r\n    MPO_Once = 3;           //选一次\r\n    MPO_Every = 4;          //没把选\r\n}\r\n\r\nenum MjMaimaOption\r\n{\r\n    MMO_None = 0;\r\n    MMO_Zimo = 1;\r\n    MMO_LiangZimo = 2;\r\n}\r\n\r\nenum MjParamName\r\n{\r\n    MPN_AAOption = 0;\r\n    MPN_PayOption = 1;\r\n    MPN_PayValue = 2;\r\n    MPN_Piao = 3;\r\n    MPN_FengDing = 4;\r\n    MPN_MaiMa = 5;\r\n    MPN_KuaiSu = 6;\r\n    MPN_KaWu4 = 7;\r\n    MPN_PengPeng4 = 8;\r\n    MPN_GangShangHua4 = 9;\r\n    MPN_ShuKan = 10;\r\n    MPN_Less12BuLiang = 11;\r\n    MPN_HaiDi = 12;\r\n    MPN_BuFengLiang = 13;\r\n}\r\n\r\nenum MjRoomState \r\n{\r\n    MjRS_WaitStart = 0;         //等待开始\r\n    MjRS_Playing = 1;         //游戏中\r\n}\r\n\r\nmessage MjPengGangInfo\r\n{\r\n required int32 paiId = 1;\r\n optional int32 position = 2;\r\n optional int32 chupaiPositon = 3;\r\n}\r\n\r\nmessage MjPlayerInfo\r\n{\r\n    required int32 position = 1;  //位置\r\n    required int32 state = 2;\r\n    required int32 score = 3;\r\n    required string name = 4;\r\n    required string icon = 5;\r\n    repeated int32 peng = 6;  //碰的排\r\n    repeated int32 mingGang = 7;    // 明杠的牌\r\n    repeated int32 anGang = 8;    // 暗杠的牌\r\n    repeated int32 liang = 9;  //亮倒的牌\r\n    repeated int32 liangHu = 10; //亮倒胡的牌\r\n    repeated int32 chuDePai = 11; //出过的牌\r\n    optional int32 endTime = 12;  //倒计时结束时间戳\r\n    required bool delegate = 13;  //是否托管\r\n    optional int32 piao = 14;\r\n    optional int32 playerId = 15;\r\n    optional int32 shouPaiCount = 16;\r\n    repeated int32 kouList = 17; //扣的牌\r\n    optional int32 waitFor = 18; //等待操作的牌(碰/杠/胡)\r\n    optional int32 waitForState = 19; //等待操作的状态(0:默认 1:最后摸的牌 2:选漂 3:碰杠胡)\r\n    required bool Floatation = 20;//是否需要选漂(默认:false 如果是true就给endTime选漂结束时间)\r\n    optional int32 LastOne = 21;//最后摸的牌\r\n    optional bool online = 22;//玩家状态 (默认为空或flase,如果是true就是离线)\r\n    repeated MjPengGangInfo pengInfo = 23;//碰杠信息\r\n    repeated MjPengGangInfo mingGangInfo = 24;//明杠信息\r\n    repeated MjPengGangInfo anGangInfo = 25;//暗杠信息\r\n}\r\n\r\nmessage S2C_MjRoomInfo\r\n{\r\n    repeated MjPlayerInfo playerInfos = 1;\r\n    required GameItem param = 2;\r\n    optional int32 leftPaiCount = 3;\r\n    optional int32 pan = 4;  //第几盘了\r\n    required int32 roomId = 5;\r\n    optional int32 lastPaiId = 6;  //上一张牌\r\n    repeated int32 shoupai = 7;\r\n    optional int32 zhuangPostion = 8;  //庄的位置 重连的时候才有\r\n    optional bool upJieSuanTime = 9;  //上局结算定时时间，默认为false,在结算定时时间内为true   \r\n}\r\n\r\nmessage S2C_NewMjPlayerEnter\r\n{\r\n    required MjPlayerInfo pi=  1;\r\n}\r\n\r\n// 开始新牌局\r\nmessage S2C_NewStartMjPai\r\n{\r\n\trepeated int32 shoupai = 1;\r\n\trequired int32 zhuangPostion = 2;\r\n\toptional int32 playTimes = 3;           //八局中的第几把\r\n\trequired int32 timeStamp = 4;\r\n    repeated UpdatePlayerInfo changeInfos = 5;\r\n}\r\n\r\nmessage C2S_ChuPai\r\n{\r\n    required int32 id = 1;\r\n}\r\n\r\nmessage S2C_ChuPai\r\n{\r\n    required int32 position = 1;\r\n    required int32 id = 2;\r\n    repeated UpdatePlayerInfo changeInfos = 3;\r\n}\r\n\r\nmessage C2S_Peng\r\n{\r\n\r\n}\r\n\r\nmessage S2C_Peng\r\n{\r\n    required int32 paiId = 1;\r\n\trequired int32 position = 2;\r\n\trequired int32 chupaiPositon = 3;\r\n    repeated UpdatePlayerInfo changeInfos = 4;\r\n    optional int32 playerId = 5;\r\n}\r\n\r\nmessage C2S_Gang\r\n{\r\n    required int32 id = 1;\r\n}\r\n\r\nmessage S2C_DianGang\r\n{\r\n    required int32 paiId = 1;\r\n\trequired int32 position = 2;\r\n\trequired int32 chupaiPositon = 3;\r\n}\r\n\r\nmessage S2C_AnGang\r\n{\r\n    required int32 paiId = 1;\r\n\trequired int32 position = 2;\r\n}\r\n\r\nmessage S2C_CaGang\r\n{\r\n    required int32 paiId = 1;\r\n\trequired int32 position = 2;\r\n}\r\n\r\nmessage S2C_MoPaiNotice\r\n{\r\n    required int32 playerId = 1;\r\n\trequired int32 position = 2;\r\n    repeated UpdatePlayerInfo changeInfos = 3;\r\n    optional int32 leftPaiCount = 4;\r\n}\r\n\r\nmessage S2C_MoPai \r\n{\r\n    required int32 paiId = 1;\r\n    optional int32 endTime = 2;  //倒计时结束时间戳\r\n}\r\n\r\nmessage C2S_Hu\r\n{\r\n\r\n}\r\n\r\nmessage C2S_GiveUp\r\n{\r\n\r\n}\r\n\r\nmessage C2S_Liang\r\n{\r\n    repeated int32 liangPaiId = 1;\r\n    repeated int32 kouPaiId = 2;\r\n    required int32 chuPaiId = 3;\r\n}\r\n\r\nmessage S2C_LiangHu\r\n{\r\n    required int32 playerId = 1;\r\n    required int32 position = 2;\r\n    repeated int32 liangPaiId = 3;\r\n    repeated int32 huPaiId = 4;\r\n}\r\n\r\nmessage S2C_WaitOper\r\n{\r\n    required int32 position = 1;\r\n    required int32 paiId = 2;\r\n    optional int32 endTime = 3;\r\n}\r\nenum PaiXing\r\n{\r\n    PX_PiHu = 1;\r\n    PX_PengPengHu = 2;\r\n    PX_QingYiSe = 3;\r\n    PX_QiDui = 4;\r\n    PX_LongQiDui = 5;\r\n    PX_Long2QiDui = 6;\r\n    PX_Long3QiDui = 7;\r\n    PX_KaWuXing = 8;\r\n    PX_XiaoSanYuan = 9;\r\n    PX_DaSanYuan = 10;\r\n    PX_MingSiGui = 11;\r\n    PX_AnSiGui = 12;\r\n    PX_ShouZhuaYi = 13;\r\n    PX_GangShangPao = 14;\r\n    PX_GangShangHua = 15;\r\n    PX_MingPai = 16;\r\n    PX_HaiDiPao = 17;\r\n    PX_HaiDiLao = 18;\r\n    PX_QiangGang = 19;\r\n    PX_GangShangGang = 20;\r\n}\r\n\r\nenum PlayerGameResult\r\n{\r\n    PGR_OtherZimo   = 0;        //别人自摸\r\n    PGR_Zimo        = 1;        //自摸\r\n    PGR_Hu          = 2;        //别人给自己点炮\r\n    PGR_DianPao     = 3;        //点炮给别人\r\n    PGR_unHu        = 4;        //别人点炮给别人，自己没有胡\r\n    PGR_LiuJu       = 5;        //流局，都没胡。\r\n}\r\n\r\nmessage PaiXing2Fan\r\n{\r\n    required int32 paixing = 1;\r\n    required int32 fan = 2;\r\n}\r\n\r\nmessage JieSuanOneItem\r\n{\r\n    required int32 playerId = 1;\r\n    required int32 position = 2;\r\n    required int32 winTimes = 3;        //本把赢了多少倍\r\n    optional string name = 4;\r\n    optional string icon = 5;\r\n    optional int32 huPaiId = 6;\r\n    optional int32 zimo = 7;\r\n    repeated PaiXing2Fan paiXing = 8;\r\n    optional int32 paiScore = 9;\r\n    optional int32 gangScore = 10;             //杠的得分\r\n    repeated int32 shouPaiInfo = 11;\r\n    repeated int32 mingGang = 12;\r\n    repeated int32 anGange = 13;\r\n    repeated int32 peng = 14;\r\n    repeated int32 maPaiId = 15;\r\n    optional int32 piaoScore = 16;\r\n    optional int32 socreAdd = 17;               //总加减分\r\n    optional int32 socreLeft = 18;          //当前剩余分数\r\n    optional int32 gangTotalScore = 19;    //杠的本来得分\r\n}\r\nmessage S2C_JieSuanOne\r\n{\r\n    repeated JieSuanOneItem jsi = 1;\r\n    repeated int32 leftPai = 2;     //剩余的牌\r\n    required int32 startTime = 3;\r\n    required int32 endTime = 4;\r\n    required int32 paiJuId = 5;\r\n    required int32 roomId = 6;\r\n    optional int32 nextStartTime = 7;  //小结算下一局 开始的时间戳\r\n}\r\n\r\nmessage TotalJieSuanItem\r\n{\r\n    required int32 playerId = 1;\r\n    required int32 winScore = 2;        //总共赢了多少分\r\n    optional string name = 3;\r\n    optional string icon = 4;\r\n    optional int32 huPaiTimes = 5;\r\n    optional int32 anGangTimes = 6;\r\n    optional int32 mingGangTimes = 7;\r\n    optional int32 dianGangTimes = 8;\r\n    optional int32 dianPaoTimes = 9;\r\n    optional int32 jieGangTimes = 10;\r\n    optional int32 radix = 11;\r\n    optional int32 ziMoTimes = 12;\r\n}\r\n\r\nmessage S2C_TotalJieSuan\r\n{\r\n    required int32 roomId = 1;\r\n    repeated TotalJieSuanItem tji = 2;\r\n    required int32 endTime = 3;\r\n    required int32 totoalJuShu = 4;\r\n}\r\n\r\nmessage C2S_ChangeRoom\r\n{\r\n\r\n}\r\n\r\nmessage C2S_Contiue\r\n{\r\n}\r\n\r\nmessage C2S_ZuoPai \r\n{\r\n    repeated int32 ids = 1;\r\n}"}