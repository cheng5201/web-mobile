{"__type__":"cc.TextAsset","_name":"rpc_cs","text":"package rpc;\r\nimport \"game_def.proto\";\r\nimport \"rpc_room.proto\";\r\nimport \"rpc_club.proto\";\r\n\r\nmessage PlayerAttribute\r\n{\r\n\trequired game_def.PlayerAttrType attrType = 1;\r\n\trequired string value = 2;\r\n};\r\n\r\nmessage MyClubInfoItem\r\n{\r\n\trequired int32 clubId = 1;\r\n\toptional int32 identity = 2;\r\n\toptional string clubName = 3;\r\n\toptional int32 score = 4;\r\n\toptional string masterName = 5;\r\n\toptional string masterIcon = 6;\r\n}\r\n\r\nmessage PlayerBaseInfo\r\n{\r\n\trequired int32 id = 1;\r\n\trequired int32 accountId = 2;\r\n\toptional string icon  = 3[default=\"\"];\r\n\trepeated PlayerAttribute attrs = 4;\r\n\trepeated MyClubInfoItem clubs = 5;\r\n\trequired int32 diamond = 6;\r\n\toptional string name = 7[default=\"\"];\r\n\toptional string phone = 8[default=\"\"];\r\n\toptional string appId = 9;\r\n\toptional int32 lastEnterClubId = 10;\r\n};\r\n\r\n// 请求服务器当前时间\r\nmessage C2S_Time\r\n{\r\n};\r\n\r\n// 服务器当前时间\r\nmessage S2C_Time\r\n{\r\n\trequired int32 timestamp = 1;\r\n\trequired int32 zone = 2;\r\n\trequired int32 serverStartTime = 3;\r\n};\r\n\r\nmessage GmCommond\r\n{\r\n\trequired string cmd = 1;\r\n};\r\n\r\nmessage S2C_ModifyPlayerAttr\r\n{\r\n\trepeated PlayerAttribute attrs = 1;\r\n};\r\n\r\n\r\nmessage S2C_ModifyScore\r\n{\r\n\trequired int32 clubId = 1;\r\n\trequired int32 score = 2;\r\n};\r\n\r\n// 登录成功后，返回玩家信息，\r\nmessage S2C_LoginedPlayerInfo\r\n{\r\n\toptional PlayerBaseInfo playerBaseInfo = 1;\r\n\toptional string rollMessage = 2;\r\n\toptional int32 roomId = 3;\r\n\toptional int32 gameType = 4;\r\n\toptional int32 heartbeatTime = 5;\r\n};\r\n\r\nmessage PlayerInfo\r\n{\r\n optional int32 playerId = 1;\r\n optional int32 position = 2;\r\n optional bool online = 3;\r\n}\r\n\r\n\r\n// 通用错误码\r\nmessage S2C_Error\r\n{\r\n\trequired int32 errorCode = 1;\r\n\trepeated PlayerInfo args = 2;\r\n}\r\n\r\n// 创建房间\r\nmessage C2S_CreateRoom\r\n{\r\n\trequired GameItem param = 1;\r\n}\r\n\r\nmessage S2C_CreateRoom\r\n{\r\n\trequired int32 roomId = 1;\r\n}\r\n\r\n// 加入房间\r\nmessage C2S_JoinInRoom\r\n{\r\n\trequired int32 roomId = 1;\r\n}\r\n\r\n\r\n// 更新玩家钻石\r\nmessage S2C_UpdatePlayerDiamond\r\n{\r\n\trequired int32 playerId = 1;\r\n\trequired int32 diamond  = 2;\r\n}\r\n\r\nmessage C2S_ChangeIcon\r\n{\r\n\trequired string icon = 1;\r\n}\r\n\r\nmessage S2C_ChangeIcon\r\n{\r\n\trequired string icon = 1;\r\n}\r\n\r\nmessage S2C2S_Magic\r\n{\r\n\trequired int32 p1 = 1;\r\n\trequired int32 p2 = 2;\r\n\toptional int32 p3 = 3;\r\n\toptional int32 p4 = 4;\r\n\toptional int32 p5 = 5;\r\n}\r\n\r\nmessage S2C_UpdateName\r\n{\r\n\trequired string name = 1;\r\n}\r\n\r\nmessage S2C_UpdateIcon\r\n{\r\n\trequired string icon = 1;\r\n}\r\n\r\nmessage S2C_ScoreModify\r\n{\r\n\trequired int32 clubId = 1;\r\n\trequired int32 score = 2;\r\n}\r\n\r\nmessage C2S_GetPlayerNameIcon\r\n{\r\n\trequired int32 playerId = 1;\r\n}\r\n\r\nmessage S2C_GetPlayerNameIcon \r\n{\r\n\trequired bool exist  = 1;\r\n\trequired int32 playerId = 2;\r\n\toptional string icon = 3;\r\n\toptional string name = 4;\r\n}\r\n\r\nmessage C2S_GetRoomInfo\r\n{\r\n\r\n}\r\n\r\nmessage C2S_LoadingCompleted\r\n{\r\n required int32 type = 1;//加载类型,1俱乐部，2创建桌，3发牌，4解散，5退出\r\n    required bool state = 2;//状态true加载完成 ，false未加载完成\r\n}\r\n\r\n\r\n"}